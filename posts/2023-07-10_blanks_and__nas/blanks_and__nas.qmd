---
title: "Blanks and NAs"
author:
  - name: Ben Straub
description: ""
date: "2023-07-10"
# please do not use any non-default categories.
# You can find the default categories in the repository README.md
categories: [admiral]
# feel free to change the image
image: "admiral.png"

---

<!--------------- typical setup ----------------->

```{r setup, include=FALSE}
long_slug <- "2023-07-10_blanks_and__nas"
# renv::use(lockfile = "renv.lock")
```

<!--------------- post begins here ----------------->


The current landscape of moving SAS-based data (`.sas7bdat` or `xpt`) into R has users 
calling the R package `haven`.  A typical call might invoke `read_sas()` or `read_xpt()`
to bring your source data, perhaps `SDTM` data. 

This package has several functions to read in data not only from SAS
but also from STATA, SPSS and other envirnoments.  

## Loading Packages and Making Dummy Data

```{r}

library(admiral)
library(tibble)

df <- tribble(
  ~USUBJID,   ~RFICDTC,
  "1001", "2000-01-01",
  "1002", "2001-01-01",
  "1003",           ""
)
```

## Some brief notes on the Data

```{r}
print(df)
```

## A simple conversion 

```{r}
convert_blanks_to_na(df)
```


## Running over several SDTMs for an ADaM

```{r}
# read txt files with names of the form Patient*.txt
txt_files = list.files(pattern = 'Patient*.txt');

# read txt files into a list (assuming separator is a comma)
data_list = lapply(txt_files, read.table, sep = ",")
```

## Back to Blanks




<!--------------- appendices go here ----------------->

```{r, echo=FALSE}
source("appendix.R")
insert_appendix(
  repo_spec = "pharmaverse/blog",
  name = long_slug
)
```
