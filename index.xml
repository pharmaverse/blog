<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>pharmaverse blog</title>
<link>https://pharmaverse.github.io/blog/</link>
<atom:link href="https://pharmaverse.github.io/blog/index.xml" rel="self" type="application/rss+xml"/>
<description>Short, fun and user-driven content around the pharmaverse.</description>
<generator>quarto-1.6.40</generator>
<lastBuildDate>Mon, 17 Feb 2025 00:00:00 GMT</lastBuildDate>
<item>
  <title>Collecting all the data!</title>
  <dc:creator>Ben Straub</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2025-02-17_data__packages/data__packages.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p>The purpose of this blog is to maintain an ongoing list of publicly available data packages, data in packages or data sources that align to CDISC standards. My hope is that this could be a resource for:</p>
<ul>
<li>those intrepid individuals looking to showcase new documentation, functions, packages and other tools</li>
<li>those enterprising individuals wanting to learn more about CDISC standards and exploring open-source tools.</li>
</ul>
<p>The data presented below is just a start and is shown in order of how I found them. Feel free to get in touch with me for additions or clarifications. You can find me on pharmaverse slack by joining <a href="https://pharmaverse.slack.com/">here</a>. In fact, I encourage, nay implore you, to get in touch as this can’t be all the data that we have available to us!</p>
<section id="pharmaversesdtm-sdtm-test-data-for-the-pharmaverse-family-of-packages" class="level2">
<h2 class="anchored" data-anchor-id="pharmaversesdtm-sdtm-test-data-for-the-pharmaverse-family-of-packages">pharmaversesdtm: SDTM Test Data for the Pharmaverse Family of Packages</h2>
<p>A set of Study Data Tabulation Model (SDTM) datasets from the Clinical Data Interchange Standards Consortium (CDISC) pilot project used for testing and developing Analysis Data Model (ADaM) datasets inside the pharmaverse family of packages. A CDISC Pilot was conducted somewhere between 2008 and 2010. This is that Pilot data but slowly brought up to current CDISC standards. There are also new datasets in the same style (same <code>STUDYID</code>, <code>USUBJID</code>s, etc.) added by the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> and the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> extension package teams that provide test data for new domains or specific TAs (ophthalmology, vaccines, etc.).</p>
<p>Most common SDTM datasets can be found as well as some specific disease area SDTMs that are not available in the CDISC pilot datasets.</p>
<p>Available on <a href="https://cloud.r-project.org/web/packages/pharmaversesdtm/index.html">CRAN</a>. This package is actively maintained on <a href="https://github.com/pharmaverse/pharmaversesdtm">GitHub</a></p>
</section>
<section id="pharmaverseadam-adam-test-data-for-the-pharmaverse-family-of-packages" class="level2">
<h2 class="anchored" data-anchor-id="pharmaverseadam-adam-test-data-for-the-pharmaverse-family-of-packages">pharmaverseadam: ADaM Test Data for the Pharmaverse Family of Packages</h2>
<p>A set of Analysis Data Model (ADaM) datasets constructed using the Study Data Tabulation Model (SDTM) datasets contained in the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Test Data for the Pharmaverse Family of Packages • pharmaversesdtm</template> <a href="https://pharmaverse.github.io/pharmaversesdtm/" class="r-link-pkg" target="_blank">{pharmaversesdtm}</a> </bslib-tooltip> package and the template scripts from the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> family of packages.</p>
<p>Available on <a href="https://cloud.r-project.org/web/packages/pharmaverseadam/index.html">CRAN</a>. This package is actively maintained on <a href="https://github.com/pharmaverse/pharmaversesdtm">GitHub</a></p>
</section>
<section id="admiral-adam-in-r-asset-library" class="level2">
<h2 class="anchored" data-anchor-id="admiral-adam-in-r-asset-library">admiral: ADaM in R Asset Library</h2>
<p>A toolbox for programming Clinical Data Interchange Standards Consortium (CDISC) compliant Analysis Data Model (ADaM) datasets in R. ADaM datasets are a mandatory part of any New Drug or Biologics License Application submitted to the United States Food and Drug Administration (FDA). Analysis derivations are implemented in accordance with the “Analysis Data Model Implementation Guide.</p>
<p>Limited datasets like <code>ADSL</code>, <code>ADLB</code> are provided in <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip>, because the template scripts available in this package are used to create the ADaMs in <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip>.</p>
<p>Available on <a href="https://cran.r-project.org/web/packages/admiral/index.html">CRAN</a>. This package is actively maintained on <a href="https://github.com/pharmaverse/admiral">GitHub</a>.</p>
</section>
<section id="random.cdisc.data-create-random-adam-datasets" class="level2">
<h2 class="anchored" data-anchor-id="random.cdisc.data-create-random-adam-datasets">random.cdisc.data: Create Random ADaM Datasets</h2>
<p>A set of functions to create <em>random</em> Analysis Data Model (ADaM) datasets and cached datasets. You can find a list of the possible random CDISC datasets generated <a href="https://insightsengineering.github.io/random.cdisc.data/main/index.html">here</a>. ADaM dataset specifications are described by the Clinical Data Interchange Standards Consortium (CDISC) Analysis Data Model Team. These datasets are used to power the <a href="https://insightsengineering.github.io/tlg-catalog/stable/">TLG Catalog</a>, though the NEST team is actively substituting them for <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> datasets instead - see <a href="https://pharmaverse.github.io/blog/posts/2025-01-15_nest_and_pharmaverseadam/nest_and_pharmaverseadam.html">a recent blog post</a> about this very effort!</p>
<p>Available on <a href="https://cran.r-project.org/web/packages/random.cdisc.data/index.html">CRAN</a>. The package is actively maintained on <a href="https://github.com/insightsengineering/random.cdisc.data">GitHub</a> by the NEST team.</p>
</section>
<section id="safetydata-clinical-trial-data" class="level2">
<h2 class="anchored" data-anchor-id="safetydata-clinical-trial-data">safetyData: Clinical Trial Data</h2>
<p>The package re-formats PHUSE’s sample ADaM and SDTM datasets as an R package following R data best practices.</p>
<p>PHUSE released the data under the permissive MIT license, so reuse with attribution is encouraged. The data are especially useful for prototyping new tables, listings and figures and for writing automated tests.</p>
<p>Basic documentation for each data file is provided in help files (e.g.&nbsp;?adam_adae). Full data specifications in the form of define.xml files can also be found at the links above (pdf for ADaM and pdf for SDTM).</p>
<p>Available on <a href="https://cran.r-project.org/web/packages/random.cdisc.data/index.html">CRAN</a>. The package is available on <a href="https://github.com/SafetyGraphics/safetyData">GitHub</a>.</p>
</section>
<section id="nest-accelerating-clinical-reporting" class="level2">
<h2 class="anchored" data-anchor-id="nest-accelerating-clinical-reporting">NEST: Accelerating Clinical Reporting</h2>
<p><a href="https://insightsengineering.github.io/nest/">NEST</a> is a collection of open-sourced R packages, which enables faster and more efficient insights generation under clinical research settings, for both exploratory and regulatory purposes.</p>
<p>They have a wealth of data generated for documentation, demonstrations and testing. You can find all the datasets and what packages they live in <a href="https://insightsengineering.r-universe.dev/datasets">here</a>.</p>
</section>
<section id="collect-all-the-data" class="level2">
<h2 class="anchored" data-anchor-id="collect-all-the-data">Collect all the data!</h2>
<p>As you can see the list is short! Let me know if you have sources (big and small) and we can add to this list.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2025-02-17_data__packages/data.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="220"></p>
</figure>
</div>
<!--------------- appendices go here ----------------->
</section>
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:27:35.060369</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/zzz_DO_NOT_EDIT_data__packages/data__packages.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{straub2025,
  author = {Straub, Ben},
  title = {Collecting All the Data!},
  date = {2025-02-17},
  url = {https://pharmaverse.github.io/blog/posts/2025-02-17_data__packages/data__packages.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-straub2025" class="csl-entry quarto-appendix-citeas">
Straub, Ben. 2025. <span>“Collecting All the Data!”</span> February 17,
2025. <a href="https://pharmaverse.github.io/blog/posts/2025-02-17_data__packages/data__packages.html">https://pharmaverse.github.io/blog/posts/2025-02-17_data__packages/data__packages.html</a>.
</div></div></section></div> ]]></description>
  <category>SDTM</category>
  <category>ADaM</category>
  <category>Community</category>
  <category>Technical</category>
  <guid>https://pharmaverse.github.io/blog/posts/2025-02-17_data__packages/data__packages.html</guid>
  <pubDate>Mon, 17 Feb 2025 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2025-02-17_data__packages/data.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Hello admiralmetabolic!</title>
  <dc:creator>Anders Askeland</dc:creator>
  <dc:creator>Edoardo Mancini</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2025-01-21_hello_admiralmetabolic/hello_admiralmetabolic.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://pharmaverse.github.io/admiralmetabolic/index.html"><img src="https://pharmaverse.github.io/blog/posts/2025-01-21_hello_admiralmetabolic/admiralmetabolic.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="220"></a></p>
</figure>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> team is celebrating the newest addition to the extension package family with the release of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Metabolism Extension Package for ADaM in R Asset Library • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/" class="r-link-pkg" target="_blank">{admiralmetabolic}</a> </bslib-tooltip> 0.1! This new package focuses on the therapeutic areas of obesity and cardiovascular metabolism, and was born out of a collaboration between Novo Nordisk and Roche, as well as a number of independent contributors. <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Metabolism Extension Package for ADaM in R Asset Library • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/" class="r-link-pkg" target="_blank">{admiralmetabolic}</a> </bslib-tooltip> addresses a key unmet need in this area given the ever-increasing interest in obesity, diabetes and cardiovascular metabolism across the industry.</p>
</section>
<section id="package-contents" class="level1">
<h1>Package Contents</h1>
<p>For this first 0.1 release, <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Metabolism Extension Package for ADaM in R Asset Library • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/" class="r-link-pkg" target="_blank">{admiralmetabolic}</a> </bslib-tooltip> focuses primarily on the obesity indication. The package offers:</p>
<ul>
<li>Obesity-specific SDTM test data (to be moved to <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Test Data for the Pharmaverse Family of Packages • pharmaversesdtm</template> <a href="https://pharmaverse.github.io/pharmaversesdtm/" class="r-link-pkg" target="_blank">{pharmaversesdtm}</a> </bslib-tooltip> at the next release of the package);</li>
<li>Two brand-new functions: <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Adds a Parameter for Waist to Height Ratio — derive_param_waisthgt • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/reference/derive_param_waisthgt.html" class="r-link-call" target="_blank">admiralmetabolic::derive_param_waisthgt()</a> </bslib-tooltip> and <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Adds a Parameter for Waist to Hip Ratio — derive_param_waisthip • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/reference/derive_param_waisthip.html" class="r-link-call" target="_blank">admiralmetabolic::derive_param_waisthip()</a> </bslib-tooltip>;</li>
<li>Two vignettes for an <a href="https://pharmaverse.github.io/admiralmetabolic/articles/advs.html">obesity vital signs ADaM ADVS</a> and a <a href="https://pharmaverse.github.io/admiralmetabolic/articles/adcoeq.html">Control of Eating Questionnaire ADaM ADCOEQ</a>;</li>
<li>Two template programs for <a href="https://github.com/pharmaverse/admiralmetabolic/blob/main/inst/templates/ad_advs.R">ADVS</a> and <a href="https://github.com/pharmaverse/admiralmetabolic/blob/main/inst/templates/ad_adcoeq.R">ADCOEQ</a> matching the corresponding vignettes.</li>
</ul>
<section id="new-functions" class="level2">
<h2 class="anchored" data-anchor-id="new-functions">New Functions</h2>
<p>The first function, <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Adds a Parameter for Waist to Height Ratio — derive_param_waisthgt • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/reference/derive_param_waisthgt.html" class="r-link-call" target="_blank">admiralmetabolic::derive_param_waisthgt()</a> </bslib-tooltip>, is a wrapper to <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Adds a Parameter Computed from the Analysis Value of Other Parameters — derive_param_computed • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_param_computed.html" class="r-link-call" target="_blank">admiral::derive_param_computed()</a> </bslib-tooltip> and enables users to add derived waist to height ratio parameters to a vital signs ADVS ADaM using waist circumference and height records. Here is an example of the function in action:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tibble)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiral)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiralmetabolic)</span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Derive Waist to Height Ratio. In this example height is measured only once per subject.</span></span>
<span id="cb1-6"></span>
<span id="cb1-7">advs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb1-8">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>USUBJID,      <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>PARAMCD, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>PARAM,                     <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVAL, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVALU, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>VISIT,</span>
<span id="cb1-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1001"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HEIGHT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height (cm)"</span>,              <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">147</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING"</span>,</span>
<span id="cb1-10">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1001"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist Circumference (cm)"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">110</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING"</span>,</span>
<span id="cb1-11">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1001"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist Circumference (cm)"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">108</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 2"</span>,</span>
<span id="cb1-12">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1001"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist Circumference (cm)"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">107</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 3"</span>,</span>
<span id="cb1-13">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1002"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HEIGHT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height (cm)"</span>,              <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">163</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING"</span>,</span>
<span id="cb1-14">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1002"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist Circumference (cm)"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">120</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING"</span>,</span>
<span id="cb1-15">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1002"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist Circumference (cm)"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">118</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 2"</span>,</span>
<span id="cb1-16">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1002"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist Circumference (cm)"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">117</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 3"</span>,</span>
<span id="cb1-17">)</span>
<span id="cb1-18"></span>
<span id="cb1-19"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_param_waisthgt</span>(</span>
<span id="cb1-20">  advs,</span>
<span id="cb1-21">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(USUBJID, VISIT),</span>
<span id="cb1-22">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">wstcir_code =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>,</span>
<span id="cb1-23">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height_code =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HEIGHT"</span>,</span>
<span id="cb1-24">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">set_values_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(</span>
<span id="cb1-25">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PARAMCD =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WAISTHGT"</span>,</span>
<span id="cb1-26">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PARAM =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist to Height Ratio"</span></span>
<span id="cb1-27">  ),</span>
<span id="cb1-28">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">constant_by_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(USUBJID),</span>
<span id="cb1-29">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">get_unit_expr =</span> admiral<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">extract_unit</span>(PARAM)</span>
<span id="cb1-30">)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 6
   USUBJID     PARAMCD  PARAM                       AVAL AVALU VISIT    
   &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;                      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    
 1 01-101-1001 HEIGHT   Height (cm)              147     cm    SCREENING
 2 01-101-1001 WSTCIR   Waist Circumference (cm) 110     cm    SCREENING
 3 01-101-1001 WSTCIR   Waist Circumference (cm) 108     cm    WEEK 2   
 4 01-101-1001 WSTCIR   Waist Circumference (cm) 107     cm    WEEK 3   
 5 01-101-1002 HEIGHT   Height (cm)              163     cm    SCREENING
 6 01-101-1002 WSTCIR   Waist Circumference (cm) 120     cm    SCREENING
 7 01-101-1002 WSTCIR   Waist Circumference (cm) 118     cm    WEEK 2   
 8 01-101-1002 WSTCIR   Waist Circumference (cm) 117     cm    WEEK 3   
 9 01-101-1001 WAISTHGT Waist to Height Ratio      0.748 &lt;NA&gt;  SCREENING
10 01-101-1001 WAISTHGT Waist to Height Ratio      0.735 &lt;NA&gt;  WEEK 2   
11 01-101-1001 WAISTHGT Waist to Height Ratio      0.728 &lt;NA&gt;  WEEK 3   
12 01-101-1002 WAISTHGT Waist to Height Ratio      0.736 &lt;NA&gt;  SCREENING
13 01-101-1002 WAISTHGT Waist to Height Ratio      0.724 &lt;NA&gt;  WEEK 2   
14 01-101-1002 WAISTHGT Waist to Height Ratio      0.718 &lt;NA&gt;  WEEK 3   </code></pre>
</div>
</div>
<p>Note that this function has built-in support for:</p>
<ul>
<li>Unit conversion in cases where units differ across the numerator and denominator (allowed units: m, mm, ft, in);</li>
<li>Single or multiple height measurement by modifying the argument <code>constant_by_vars</code>. Please visit the function’s reference page for more details.</li>
</ul>
<p><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Adds a Parameter for Waist to Hip Ratio — derive_param_waisthip • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/reference/derive_param_waisthip.html" class="r-link-call" target="_blank">admiralmetabolic::derive_param_waisthip()</a> </bslib-tooltip> is very similar: it is also a wrapper to <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Adds a Parameter Computed from the Analysis Value of Other Parameters — derive_param_computed • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_param_computed.html" class="r-link-call" target="_blank">admiral::derive_param_computed()</a> </bslib-tooltip>, but this time enables users to add derived waist to hip ratio parameters using waist- and hip circumference. It boasts the same unit-flexibility as <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Adds a Parameter for Waist to Height Ratio — derive_param_waisthgt • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/reference/derive_param_waisthgt.html" class="r-link-call" target="_blank">admiralmetabolic::derive_param_waisthgt()</a> </bslib-tooltip> - let’s look at that in action:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">advs2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb3-2">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>USUBJID,      <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>PARAMCD, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>PARAM,                     <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVAL, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVALU, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>VISIT,</span>
<span id="cb3-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1001"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HIPCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hip Circumference (cm)"</span>,   <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">125</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING"</span>,</span>
<span id="cb3-4">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1001"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HIPCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hip Circumference (cm)"</span>,   <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">124</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 2"</span>,</span>
<span id="cb3-5">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1001"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist Circumference (in)"</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">43.31</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"in"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING"</span>,</span>
<span id="cb3-6">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1001"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist Circumference (in)"</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">42.52</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"in"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 2"</span>,</span>
<span id="cb3-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1002"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HIPCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hip Circumference (cm)"</span>,   <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">135</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING"</span>,</span>
<span id="cb3-8">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1002"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HIPCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hip Circumference (cm)"</span>,   <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">133</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 2"</span>,</span>
<span id="cb3-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1002"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist Circumference (in)"</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">47.24</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"in"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING"</span>,</span>
<span id="cb3-10">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-101-1002"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist Circumference (in)"</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">46.46</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"in"</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 2"</span></span>
<span id="cb3-11">)</span>
<span id="cb3-12"></span>
<span id="cb3-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_param_waisthip</span>(</span>
<span id="cb3-14">  advs2,</span>
<span id="cb3-15">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(USUBJID, VISIT),</span>
<span id="cb3-16">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">wstcir_code =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WSTCIR"</span>,</span>
<span id="cb3-17">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hipcir_code =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HIPCIR"</span>,</span>
<span id="cb3-18">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">set_values_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(</span>
<span id="cb3-19">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PARAMCD =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WAISTHIP"</span>,</span>
<span id="cb3-20">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PARAM =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Waist to Hip Ratio"</span></span>
<span id="cb3-21">  ),</span>
<span id="cb3-22">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">get_unit_expr =</span> admiral<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">extract_unit</span>(PARAM)</span>
<span id="cb3-23">)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Unit conversion performed for "HIPCIR". Values converted from "cm" to "in".</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 6
   USUBJID     PARAMCD  PARAM                       AVAL AVALU VISIT    
   &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;                      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    
 1 01-101-1001 HIPCIR   Hip Circumference (cm)   125     cm    SCREENING
 2 01-101-1001 HIPCIR   Hip Circumference (cm)   124     cm    WEEK 2   
 3 01-101-1001 WSTCIR   Waist Circumference (in)  43.3   in    SCREENING
 4 01-101-1001 WSTCIR   Waist Circumference (in)  42.5   in    WEEK 2   
 5 01-101-1002 HIPCIR   Hip Circumference (cm)   135     cm    SCREENING
 6 01-101-1002 HIPCIR   Hip Circumference (cm)   133     cm    WEEK 2   
 7 01-101-1002 WSTCIR   Waist Circumference (in)  47.2   in    SCREENING
 8 01-101-1002 WSTCIR   Waist Circumference (in)  46.5   in    WEEK 2   
 9 01-101-1001 WAISTHIP Waist to Hip Ratio         0.880 &lt;NA&gt;  SCREENING
10 01-101-1001 WAISTHIP Waist to Hip Ratio         0.871 &lt;NA&gt;  WEEK 2   
11 01-101-1002 WAISTHIP Waist to Hip Ratio         0.889 &lt;NA&gt;  SCREENING
12 01-101-1002 WAISTHIP Waist to Hip Ratio         0.887 &lt;NA&gt;  WEEK 2   </code></pre>
</div>
</div>
</section>
<section id="vignettes-and-template" class="level2">
<h2 class="anchored" data-anchor-id="vignettes-and-template">Vignettes and Template</h2>
<p>On the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Metabolism Extension Package for ADaM in R Asset Library • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/" class="r-link-pkg" target="_blank">{admiralmetabolic}</a> </bslib-tooltip> package website, users will find the <a href="https://pharmaverse.github.io/admiralmetabolic/articles/advs.html">obesity ADVS vignette</a>. This documentation page will guide users towards creating an obesity ADVS ADaM, touching upon how to use our two new functions <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Adds a Parameter for Waist to Height Ratio — derive_param_waisthgt • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/reference/derive_param_waisthgt.html" class="r-link-call" target="_blank">admiralmetabolic::derive_param_waisthgt()</a> </bslib-tooltip> and <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Adds a Parameter for Waist to Hip Ratio — derive_param_waisthip • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/reference/derive_param_waisthip.html" class="r-link-call" target="_blank">admiralmetabolic::derive_param_waisthip()</a> </bslib-tooltip> as well as how to apply existing <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> tools such as the brand-new (as of <a href="https://pharmaverse.github.io/blog/posts/2025-01-17_1.2_admiral.../1.2_admiral_release.html">admiral 1.2</a>) <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Derive Categorization Variables Like AVALCATy and AVALCAyN — derive_vars_cat • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_cat.html" class="r-link-call" target="_blank">admiral::derive_vars_cat()</a> </bslib-tooltip> to create weight classes within the AVALCAT variable and <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Derive Criterion Flag Variables CRITy, CRITyFL, and CRITyFN — derive_vars_crit_flag • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_crit_flag.html" class="r-link-call" target="_blank">admiral::derive_vars_crit_flag()</a> </bslib-tooltip> to create criterion flag/variable pairs for endpoints such as a 5% reduction in weight at a certain visit.</p>
<p>Of course, this vignette is coupled with the <a href="https://github.com/pharmaverse/admiralmetabolic/blob/main/inst/templates/ad_advs.R">obesity ADVS template program</a>, which users can use as a starting point for their ADaM scripts. The template can also be loaded and saved directly from the R console by running:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">admiral<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">use_ad_template</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADVS"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">package =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiralmetabolic"</span>)</span></code></pre></div>
</div>
<p>The <a href="https://licensing.leeds.ac.uk/product/control-of-eating-questionnaire-coeq">Control of Eating Questionnaire</a> (COEQ) is used in many obesity trials as an endpoint. As such, <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Metabolism Extension Package for ADaM in R Asset Library • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/" class="r-link-pkg" target="_blank">{admiralmetabolic}</a> </bslib-tooltip> also contains a vignette geared towards the creation of an ADaM dataset ADCOEQ for the COEQ. Due to the flexibility of the parent <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> package, functions such as <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Add New Records Within By Groups Using Aggregation Functions — derive_summary_records • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_summary_records.html" class="r-link-call" target="_blank">admiral::derive_summary_records()</a> </bslib-tooltip> can be employed to create ADCOEQ. Users are invited to visit the <a href="https://pharmaverse.github.io/admiralmetabolic/articles/adcoeq.html">vignette</a> for more details and a full walkthrough.</p>
<p>Once again, this vignette comes hand-in-hand with the <a href="https://github.com/pharmaverse/admiralmetabolic/blob/main/inst/templates/ad_advs.R">ADCOEQ program</a>, which can be accessed through the link above or directly from the R console by running:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">admiral<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">use_ad_template</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADCOEQ"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">package =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiralmetabolic"</span>)</span></code></pre></div>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>We love growing the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> family, and hope you are just as excited about <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Metabolism Extension Package for ADaM in R Asset Library • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/" class="r-link-pkg" target="_blank">{admiralmetabolic}</a> </bslib-tooltip> as we are. We welcome community feedback about the package, its content and development directions for future releases. Please raise your feedback as issues or discussions in our <a href="https://github.com/pharmaverse/admiralmetabolic">GitHub repository</a> or the <a href="https://join.slack.com/t/pharmaverse/shared_invite/zt-yv5atkr4-Np2ytJ6W_QKz_4Olo7Jo9A">pharmaverse slack</a>. The development team will be meeting next month for a retrospective and a plan for the next release, so please reach out!</p>
<p>Finally, if you have any suggestions for new extension packages, or would like to drive one yourself, please reach out to the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> Business Lead, Edoardo Mancini and/or the Technical Lead, Ben Straub through the <a href="https://join.slack.com/t/pharmaverse/shared_invite/zt-yv5atkr4-Np2ytJ6W_QKz_4Olo7Jo9A">pharmaverse slack</a> and we’d be happy to discuss next steps with you.</p>
<!--------------- appendices go here ----------------->
<div class="cell">
<div class="cell-output-display">


</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:39.68965</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/zzz_DO_NOT_EDIT_hello_admiralmetabolic/hello_admiralmetabolic.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{askeland2025,
  author = {Askeland, Anders and Mancini, Edoardo},
  title = {Hello Admiralmetabolic!},
  date = {2025-01-21},
  url = {https://pharmaverse.github.io/blog/posts/2025-01-21_hello_admiralmetabolic/hello_admiralmetabolic.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-askeland2025" class="csl-entry quarto-appendix-citeas">
Askeland, Anders, and Edoardo Mancini. 2025. <span>“Hello
Admiralmetabolic!”</span> January 21, 2025. <a href="https://pharmaverse.github.io/blog/posts/2025-01-21_hello_admiralmetabolic/hello_admiralmetabolic.html">https://pharmaverse.github.io/blog/posts/2025-01-21_hello_admiralmetabolic/hello_admiralmetabolic.html</a>.
</div></div></section></div> ]]></description>
  <category>ADaM</category>
  <category>Community</category>
  <category>Technical</category>
  <guid>https://pharmaverse.github.io/blog/posts/2025-01-21_hello_admiralmetabolic/hello_admiralmetabolic.html</guid>
  <pubDate>Tue, 21 Jan 2025 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2025-01-21_hello_admiralmetabolic/admiralmetabolic.png" medium="image" type="image/png" height="130" width="144"/>
</item>
<item>
  <title>{admiral} 1.2 is here!</title>
  <dc:creator>Ben Straub</dc:creator>
  <dc:creator>Edoardo Mancini</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2025-01-17_1.2_admiral.../1.2_admiral_release.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>As crazy as it may sound, the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> package is nearing its third CRAN birthday: our first release dates all the way back to <strong>17th February 2022</strong>! Time really does fly when you’re programming ADaMs in R. The codebase has grown quite a lot! For some context, if you’d only allowed yourself to write twenty lines of code a day, starting from the 17th February 2022, by now you would have compiled the whole of the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> codebase (excluding documentation and unit tests). And so, what better early birthday present for <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> than the new and exciting 1.2 release!</p>
<p>Read through this blog post to find out more about the exciting contents of the 1.2 release, as well some of our plans for 2025.</p>
</section>
<section id="new-features-for-1.2" class="level1">
<h1>New Features for 1.2</h1>
<p>As always, we have listed the full set of 1.2 updates in our <a href="https://pharmaverse.github.io/admiral/news/index.html">changelog</a>, and have picked out only a select few updates to discuss.</p>
<p>To commence, for the first time since <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> 1.0 we have added new functions! The three new functions available in this release are:</p>
<ul>
<li><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Derive Categorization Variables Like AVALCATy and AVALCAyN — derive_vars_cat • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_cat.html" class="r-link-call" target="_blank">derive_vars_cat()</a> </bslib-tooltip>: Derive Categorization Variables Like <code>AVALCATy</code> and <code>AVALCAyN</code>.</li>
<li><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Derive Criterion Flag Variables CRITy, CRITyFL, and CRITyFN — derive_vars_crit_flag • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_crit_flag.html" class="r-link-call" target="_blank">derive_vars_crit_flag()</a> </bslib-tooltip>: Derive ADaM-compliant criterion flags to facilitate subgroup analyses like <code>CRITy</code>, <code>CRITyFL</code>, and <code>CRITyFN</code>.</li>
<li><span class="r-link-pkg-error">transform_scale()</span>: Transform questionnaire values onto a standardized scale.</li>
</ul>
<section id="new-function" class="level2">
<h2 class="anchored" data-anchor-id="new-function">New function: <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"></bslib-tooltip></h2>
<p><template>Derive Categorization Variables Like AVALCATy and AVALCAyN — derive_vars_cat • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_cat.html" class="r-link-call" target="_blank">derive_vars_cat()</a> </p>
<p>We wanted a function that could take in user-defined inputs for category-like variables, e.g.&nbsp;<code>AVALCATy</code> and <code>AVALCAyN</code>. While this is typically defined in the metadata for an ADaM, we thought having a dedicated function in <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> could help either with double programming or smaller projects that don’t have metadata fully developed. Let us know what you think!</p>
<p>Below you can expand to get a few simple examples of this new function with dummy data in action. Be sure to check out the function’s documentation on the admiral website for full understanding of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Derive Categorization Variables Like AVALCATy and AVALCAyN — derive_vars_cat • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_cat.html" class="r-link-call" target="_blank">derive_vars_cat()</a> </bslib-tooltip>.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Expand for Full Code Walkthrough">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Expand for Full Code Walkthrough
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiral)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tibble)</span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Example 1</span></span>
<span id="cb1-6">advs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tibble<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb1-7">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>USUBJID,       <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>VSTEST,  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVAL,</span>
<span id="cb1-8">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1015"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height"</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">147.32</span>,</span>
<span id="cb1-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1015"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight"</span>,  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">53.98</span>,</span>
<span id="cb1-10">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1023"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height"</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">162.56</span>,</span>
<span id="cb1-11">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1023"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight"</span>,     <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>,</span>
<span id="cb1-12">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1028"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height"</span>,     <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>,</span>
<span id="cb1-13">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1028"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight"</span>,     <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>,</span>
<span id="cb1-14">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1033"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height"</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">175.26</span>,</span>
<span id="cb1-15">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1033"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight"</span>,  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">88.45</span></span>
<span id="cb1-16">)</span>
<span id="cb1-17"></span>
<span id="cb1-18"></span>
<span id="cb1-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Example 1</span></span>
<span id="cb1-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># A simple defintion with multiple conditions</span></span>
<span id="cb1-21">definition2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(</span>
<span id="cb1-22">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>VSTEST,   <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>condition,  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVALCAT1, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVALCA1N,</span>
<span id="cb1-23">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height"</span>,  AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">160</span>,  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&gt;160 cm"</span>,         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb1-24">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height"</span>, AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">160</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;=160 cm"</span>,         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,</span>
<span id="cb1-25">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight"</span>,   AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">70</span>,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&gt;70 kg"</span>,         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb1-26">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Weight"</span>,  AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">70</span>,  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;=70 kg"</span>,         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb1-27">)</span>
<span id="cb1-28"></span>
<span id="cb1-29"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_vars_cat</span>(</span>
<span id="cb1-30">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dataset =</span> advs,</span>
<span id="cb1-31">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">definition =</span> definition2,</span>
<span id="cb1-32">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(VSTEST)</span>
<span id="cb1-33">)</span>
<span id="cb1-34"></span>
<span id="cb1-35"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Example 2</span></span>
<span id="cb1-36"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># A simple defintion with slightly more complex conditions</span></span>
<span id="cb1-37">definition3 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(</span>
<span id="cb1-38">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>VSTEST,                <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>condition,  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVALCAT1, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVALCA1N,</span>
<span id="cb1-39">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height"</span>,               AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">170</span>,  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&gt;170 cm"</span>,         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb1-40">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height"</span>, AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">170</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">160</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;=170 cm"</span>,         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,</span>
<span id="cb1-41">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Height"</span>,              AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">160</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;=160 cm"</span>,         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb1-42">)</span>
<span id="cb1-43"></span>
<span id="cb1-44"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_vars_cat</span>(</span>
<span id="cb1-45">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dataset =</span> advs,</span>
<span id="cb1-46">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">definition =</span> definition3,</span>
<span id="cb1-47">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(VSTEST)</span>
<span id="cb1-48">)</span>
<span id="cb1-49"></span>
<span id="cb1-50"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Example 3</span></span>
<span id="cb1-51"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Now using for MCRITyML and the MCRITyMN variables</span></span>
<span id="cb1-52">adlb <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tibble<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb1-53">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>USUBJID,     <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>PARAM, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVAL, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVALU,  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>ANRHI,</span>
<span id="cb1-54">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1015"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ALT"</span>,   <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">150</span>,  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"U/L"</span>,      <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40</span>,</span>
<span id="cb1-55">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1023"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ALT"</span>,    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">70</span>,  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"U/L"</span>,      <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40</span>,</span>
<span id="cb1-56">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1036"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ALT"</span>,   <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">130</span>,  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"U/L"</span>,      <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40</span>,</span>
<span id="cb1-57">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1048"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ALT"</span>,    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>,  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"U/L"</span>,      <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40</span>,</span>
<span id="cb1-58">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1015"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AST"</span>,    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>,  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"U/L"</span>,      <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">35</span></span>
<span id="cb1-59">)</span>
<span id="cb1-60"></span>
<span id="cb1-61">definition_mcrit <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(</span>
<span id="cb1-62">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>PARAM,                      <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>condition,    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>MCRIT1ML, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>MCRIT1MN,</span>
<span id="cb1-63">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ALT"</span>,                    AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> ANRHI,    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;=ANRHI"</span>,         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb1-64">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ALT"</span>, ANRHI <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> ANRHI, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&gt;1-3*ANRHI"</span>,         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,</span>
<span id="cb1-65">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ALT"</span>,                 <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> ANRHI <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> AVAL,   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&gt;3*ANRHI"</span>,         <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb1-66">)</span>
<span id="cb1-67"></span>
<span id="cb1-68">adlb <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-69">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_vars_cat</span>(</span>
<span id="cb1-70">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">definition =</span> definition_mcrit,</span>
<span id="cb1-71">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(PARAM)</span>
<span id="cb1-72">  )</span></code></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="new-function-1" class="level2">
<h2 class="anchored" data-anchor-id="new-function-1">New function: <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"></bslib-tooltip></h2>
<p><template>Derive Criterion Flag Variables CRITy, CRITyFL, and CRITyFN — derive_vars_crit_flag • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_crit_flag.html" class="r-link-call" target="_blank">derive_vars_crit_flag()</a> </p>
<p>The function derives ADaM-compliant criterion flags, e.g.&nbsp;<code>CRIT1FL</code>, to facilitate subgroup analyses.</p>
<p>If a criterion flag can’t be derived with this function, the derivation is not ADaM-compliant. It helps to ensure that:</p>
<ul>
<li><p>the condition of the criterion depends only on variables of the same row,</p></li>
<li><p>the CRITyFL is populated with valid values, i.e, either “Y” and NA or “Y”, “N”, and NA,</p></li>
<li><p>the CRITy variable is populated correctly.</p></li>
</ul>
<p>Below you can expand to get a few simple examples of this new function with dummy data in action. Be sure to check out the function’s documentation on the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> website for a full understanding of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Derive Criterion Flag Variables CRITy, CRITyFL, and CRITyFN — derive_vars_crit_flag • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_crit_flag.html" class="r-link-call" target="_blank">derive_vars_crit_flag()</a> </bslib-tooltip>.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Expand for Full Code Walkthrough">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Expand for Full Code Walkthrough
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiral)</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tibble)</span>
<span id="cb2-3">adbds <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb2-4">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>PARAMCD, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AVAL,</span>
<span id="cb2-5">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AST"</span>,    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,</span>
<span id="cb2-6">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AST"</span>,    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">52</span>,</span>
<span id="cb2-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AST"</span>,    <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,</span>
<span id="cb2-8">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ALT"</span>,    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">33</span>,</span>
<span id="cb2-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ALT"</span>,    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span></span>
<span id="cb2-10">)</span>
<span id="cb2-11"></span>
<span id="cb2-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create a criterion flag with values "Y" and NA</span></span>
<span id="cb2-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_vars_crit_flag</span>(</span>
<span id="cb2-14">  adbds,</span>
<span id="cb2-15">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">condition =</span> AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>,</span>
<span id="cb2-16">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">description =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Absolute value &gt; 50"</span></span>
<span id="cb2-17">)</span>
<span id="cb2-18"></span>
<span id="cb2-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create criterion flag with values "Y", "N", and NA and parameter dependent</span></span>
<span id="cb2-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># criterion description</span></span>
<span id="cb2-21"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_vars_crit_flag</span>(</span>
<span id="cb2-22">  adbds,</span>
<span id="cb2-23">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">crit_nr =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,</span>
<span id="cb2-24">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">condition =</span> AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>,</span>
<span id="cb2-25">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">description =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(PARAMCD, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&gt; 50"</span>),</span>
<span id="cb2-26">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_yn =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>,</span>
<span id="cb2-27">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">create_numeric_flag =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="cb2-28">)</span></code></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="new-function-transform_scale" class="level2">
<h2 class="anchored" data-anchor-id="new-function-transform_scale">New function: <span class="r-link-pkg-error">transform_scale()</span></h2>
<p>The final new function we are adding is <span class="r-link-pkg-error">transform_scale()</span>. Coming directly from a user request, with this function we now have functionality to linearly transform a vector of values with a certain associated range into values from another range.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiral)</span>
<span id="cb3-2"></span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">transform_range</span>(</span>
<span id="cb3-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">source =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>),</span>
<span id="cb3-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">source_range =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>),</span>
<span id="cb3-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">target_range =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>)</span>
<span id="cb3-7">)</span></code></pre></div>
</div>
<p>Within ADaM programming, this is a common task, arising for instance when transforming questionnaire values into a standardized scale (e.g.&nbsp;1-100). As such, we see this function being employed principally within calls to <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Adds a Parameter Computed from the Analysis Value of Other Parameters — derive_param_computed • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_param_computed.html" class="r-link-call" target="_blank">derive_param_computed()</a> </bslib-tooltip> during the creation of datasets such as ADQS. You can read more about this topic within our <a href="https://pharmaverse.github.io/admiral/articles/questionnaires.html#transformed-items">Questionnaire ADaMs vignette</a>.</p>
</section>
</section>
<section id="deprecation-strategy" class="level1">
<h1>Deprecation Strategy</h1>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>We would like all users to be aware that a new deprecation strategy is being adopted by the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> team. You can find the details linked here in our <a href="https://pharmaverse.github.io/admiraldev/dev/articles/programming_strategy.html#deprecation">Programming Strategy Guide</a></p>
</div>
</div>
<p>Previously, the team were going to keep “superseded” functions around indefinitely, i.e., a function that was replaced with a better function would be kept in <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> and maintained until universe-death. Unfortunately, that places an enormous tech-debt on future maintainers. It was decided that these “superseded” functions should in fact be deprecated and slowly removed from the code base. Please check out our <a href="https://pharmaverse.github.io/admiraldev/dev/articles/programming_strategy.html#deprecation">Programming Strategy Guide</a> if you would like to better understand this process of removing functions from <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip>.</p>
</section>
<section id="resources-for-admiral-admiraldiscovery-cheatsheet-find-my-function-working-groups" class="level1">
<h1>Resources for admiral: admiraldiscovery, cheatsheet, Find My Function, Working Groups</h1>
<p>Work on <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> releases isn’t just limited to new functions and deprecation. The <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> team seeks to provide a wealth of resources and ways to get involved to keep <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> current and up to date.</p>
<p>For this release we have updated the <a href="https://github.com/pharmaverse/admiral/blob/main/inst/cheatsheet/admiral_cheatsheet.pdf">cheatsheet</a> so that it is in line with the additions and changes for the new release.</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2025-01-17_1.2_admiral.../admiralcheat.png" align="center" style="float:right" width="100%"></p>
<p>&nbsp;</p>
<p><a href="https://pharmaverse.github.io/admiraldiscovery/articles/reactable.html">admiraldiscovery</a> is a standalone website and has a nice interactive table to help identify common ADaM variables and the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> functions that derive them.</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2025-01-17_1.2_admiral.../admiraldisc.png" align="center" style="float:right" width="100%"></p>
<p>&nbsp;</p>
<p>Additionally, we have made the <a href="https://pharmaverse.github.io/admiraldiscovery/articles/reactable.html">admiraldiscovery</a> (aka “Find my function”) link more prominent on the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> package website’s navigation bar to increase the user traffic to the admiraldiscovery site.</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2025-01-17_1.2_admiral.../admiraldiscovery.png" align="center" style="float:right" width="100%"></p>
<p>&nbsp;</p>
<p>Also, from June up until now, we’ve had two working groups operating:</p>
<ul>
<li><p>The ADaM Implementation Guide working group, which has been diligently consulting the ADaM IG to identify any gaps within <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> functionality and/or documentation and creating issues to close the gaps.</p></li>
<li><p>The Environments working group, which is currently reading select chapters from <a href="https://adv-r.hadley.nz/">Advanced R</a> in order to refresh their understanding of environments before potentially re-hashing the way these are treated in <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip>.</p></li>
</ul>
<p>If you have any ideas for new working groups of which you’d like to be a part, reach out to us - let’s co-create <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> together!</p>
<section id="admiral-at-recent-conferences" class="level2">
<h2 class="anchored" data-anchor-id="admiral-at-recent-conferences">admiral at Recent Conferences</h2>
<p>This post is also a great opportunity to showcase and publicize some of the fantastic outreach that members of the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> community have done since our 1.1 release back in June. A couple of highlights include:</p>
<ul>
<li>At useR 2024 in Salzburg:
<ul>
<li>Edoardo Mancini and Stefan Thoma gave a presentation titled: <em>“<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> - the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>A Grammar of Data Manipulation • dplyr</template> <a href="https://dplyr.tidyverse.org" class="r-link-pkg" target="_blank">{dplyr}</a> </bslib-tooltip> of the pharmaceutical industry?”</em> - <a href="https://stefanthoma.github.io/useR_2024_admiral">slides here</a>.</li>
</ul></li>
<li>At R/Pharma 2024:
<ul>
<li>Ben Straub and Fanny Gautier led an <em>“ADaM Workshop”</em> using admiral, metacore/metatools and xportr to derive <code>ADSL</code> and <code>ADVS</code> - <a href="https://pharmaverse.github.io/rpharma-2024-ADaM-workshop/#/title-slide">slides here</a>, <a href="https://github.com/pharmaverse/rpharma-2024-ADaM-workshop">repo here</a>.</li>
</ul></li>
<li>At PHUSE EU Connect 2024 in Strasbourg:
<ul>
<li>Yirong Cao and Yi Yan gave a talk titled: <em>Insights of Using <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Oncology Extension Package for ADaM in R Asset Library • admiralonco</template> <a href="https://pharmaverse.github.io/admiralonco/" class="r-link-pkg" target="_blank">{admiralonco}</a> </bslib-tooltip> at BMS: Facilitating Oncology Efficacy ADaM Datasets</em> - <a href="https://phuse.s3.eu-central-1.amazonaws.com/Archive/2024/Connect/EU/Strasbourg/PRE_SM05.pdf">slides here</a>, <a href="https://phuse.s3.eu-central-1.amazonaws.com/Archive/2024/Connect/EU/Strasbourg/PAP_SM05.pdf">paper here</a>.</li>
<li>Edoardo Mancini spoke about <em>Two hats, one noggin: Perspectives on working as a developer and as a user of the admiral R package for creating ADaMs</em> - <a href="https://phuse.s3.eu-central-1.amazonaws.com/Archive/2024/Connect/EU/Strasbourg/PRE_OS07.pdf">slides here</a>, <a href="https://phuse.s3.eu-central-1.amazonaws.com/Archive/2024/Connect/EU/Strasbourg/PAP_OS07.pdf">paper here</a>).</li>
<li>Federico Baratin gave his take on <em>admiralvaccine Project JouRney</em> - <a href="https://phuse.s3.eu-central-1.amazonaws.com/Archive/2024/Connect/EU/Strasbourg/PRE_OS08.pdf">slides here</a>, <a href="https://phuse.s3.eu-central-1.amazonaws.com/Archive/2024/Connect/EU/Strasbourg/PAP_OS08.pdf">paper here</a>).</li>
</ul></li>
</ul>
<p>As you can see, <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> is spreading like wildfire in the pharma industry, and we encourage anyone within our community to spread the word and continue making these super presentations. Please let us know if you present on <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> we would love to give you a shout out.</p>
<p>For the full archive of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip>-related presentations, please visit our <a href="https://pharmaverse.github.io/admiraldiscovery/articles/presentation_archive.html">Presentation Archive</a>.</p>
</section>
</section>
<section id="plans-for-2025" class="level1">
<h1>Plans for 2025</h1>
<p><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> plans for two releases in 2025 with an early summer release and an end of year release. We plan on continuing to update admiral based on user feedback. Please do not hesitate to <a href="https://github.com/pharmaverse/admiral/issues">create an issue</a> to make documentation clearer, or if you found a pesky bug, or you have an idea for a function or something else! We love feedback and you can even <a href="https://github.com/pharmaverse/admiral/issues/1839">implement your idea</a> if the core team gives their approval.</p>
<p><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> has a Discussion thread on potential ideas for our 1.3 release. You can contribute or follow along in the discussion <a href="https://github.com/pharmaverse/admiral/discussions/2191">here</a></p>
<p>A few choice items from the discussion:</p>
<ul>
<li><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> uses <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Advanced defusal operators — defusing-advanced • rlang</template> <a href="https://rlang.r-lib.org/reference/defusing-advanced.html" class="r-link-call" target="_blank">exprs()</a> </bslib-tooltip> in a lot of it function arguments for users. We hope in a future version to hide this from users as done in tidyverse packages</li>
<li><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> has been found to be slow for merging large datasets together. In a future release we will have worked out these bottlenecks!</li>
<li>Currently our lab grading is kept in an excel spreadsheet. We hope to move this to a json file as well as any other metadata that might be handy for users.</li>
<li>Can <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> move from <code>%&gt;%</code> to <code>|&gt;</code>, we actually have found the base pipe to have a few limitations, but we are discussing.</li>
</ul>
<p>Thanks for reading and happy programming in 2025!!</p>
<!--------------- appendices go here ----------------->
<div class="cell">
<div class="cell-output-display">


</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:26:55.997288</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/zzz_DO_NOT_EDIT_1.2_admiral.../1.2_admiral_release.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{straub2025,
  author = {Straub, Ben and Mancini, Edoardo},
  title = {\{Admiral\} 1.2 Is Here!},
  date = {2025-01-17},
  url = {https://pharmaverse.github.io/blog/posts/2025-01-17_1.2_admiral.../1.2_admiral_release.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-straub2025" class="csl-entry quarto-appendix-citeas">
Straub, Ben, and Edoardo Mancini. 2025. <span>“{Admiral} 1.2 Is
Here!”</span> January 17, 2025. <a href="https://pharmaverse.github.io/blog/posts/2025-01-17_1.2_admiral.../1.2_admiral_release.html">https://pharmaverse.github.io/blog/posts/2025-01-17_1.2_admiral.../1.2_admiral_release.html</a>.
</div></div></section></div> ]]></description>
  <category>ADaM</category>
  <category>Community</category>
  <category>Technical</category>
  <guid>https://pharmaverse.github.io/blog/posts/2025-01-17_1.2_admiral.../1.2_admiral_release.html</guid>
  <pubDate>Fri, 17 Jan 2025 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2025-01-17_1.2_admiral.../admiral.png" medium="image" type="image/png" height="108" width="144"/>
</item>
<item>
  <title>A collaborative triumph: Re-using test data between the NEST and admiral teams</title>
  <dc:creator>Joe Zhu</dc:creator>
  <dc:creator>Edoardo Mancini</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2025-01-15_nest_and_pharmaverseadam/nest_and_pharmaverseadam.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p><img src="https://pharmaverse.github.io/blog/posts/2025-01-15_nest_and_pharmaverseadam/nest_and_pharmaverseadam.png" align="center" style="float:right" width="100%"></p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>In the dynamic world of clinical research, innovation and collaboration are key drivers of success. The <a href="https://insightsengineering.github.io/nest/">NEST</a> and <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> teams exemplify this through their groundbreaking packages. By leveraging open-source tools and fostering a community-driven approach, they have significantly advanced data integration and reporting methodologies in the clinical research setting. This story celebrates one of the first occasions in which the <a href="https://insightsengineering.github.io/nest/">NEST</a> and <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> were able to join forces and collaborate.</p>
</section>
<section id="who-are-the-nest-team" class="level2">
<h2 class="anchored" data-anchor-id="who-are-the-nest-team">Who are the NEST Team?</h2>
<p>The <a href="https://insightsengineering.github.io/nest/">NEST</a> team, an acronym for Next-Generation Exploratory and Standardized Tools, has pioneered a collection of open-sourced R packages designed to expedite insight generation under clinical research settings. Originating at Roche, <a href="https://insightsengineering.github.io/nest/">NEST</a> has attracted a diverse array of collaborators from academia, the pharmaceutical industry, and clinical research institutes, largely due to efforts like pharmaverse. Their mission is to accelerate clinical reporting and welcome contributions from the broader scientific community.</p>
</section>
<section id="who-are-the-admiral-team" class="level2">
<h2 class="anchored" data-anchor-id="who-are-the-admiral-team">Who are the admiral team?</h2>
<p>Focused on a complementary goal, the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> team is dedicated to providing an open-source, modularized toolbox for creating ADaM datasets in R. Their approach is transparent and collaborative, empowering users to co-create and refine a harmonized methodology for ADaM development across the pharmaceutical industry. The <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> team designs their tools to be user-friendly and versatile, capable of addressing a wide range of data requirements.</p>
</section>
<section id="setting-the-stage-for-collaboration" class="level2">
<h2 class="anchored" data-anchor-id="setting-the-stage-for-collaboration">Setting the Stage for Collaboration</h2>
<p>Over a year ago, an opportunity for collaboration was identified within <a href="https://insightsengineering.github.io/nest/">NEST</a> and <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip>. Indeed, the <a href="https://insightsengineering.github.io/nest/">NEST</a> team was reliant on simulated data for integration testing and powering of its <a href="https://insightsengineering.github.io/tlg-catalog/stable/">TLG Catalog</a>, which often lacked realism and failed to cover edge cases or expose software limitations. Through conversations within the pharmaverse, it was realized that some of these challenges could be addressed by switching to using the more realistic test data offered by the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> package (maintained by the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> team). The source of the data within <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> is the is real SDTM data published through the <a href="https://github.com/cdisc-org/sdtm-adam-pilot-project">CDISC Test Data pilot</a>, converted into ADaM by running the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> template programs on it.</p>
<p>This potential pivot would beneficial for both teams. For one thing, it would allow the <a href="https://insightsengineering.github.io/nest/">NEST</a> team to achieve more realistic and comprehensive testing, thus enhancing the robustness of their development work. Simultaneously, it would mean that the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> team would receive feedback from <a href="https://insightsengineering.github.io/nest/">NEST</a> about the robustness of both the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> datasets and the templates used to generate them.</p>
</section>
<section id="key-achievements" class="level2">
<h2 class="anchored" data-anchor-id="key-achievements">Key Achievements</h2>
<p>The following months were a period of collaboration for the two teams as this switch was enacted. Numerous achievements were identified:</p>
<ul>
<li><p><strong>Realistic Data Integration</strong>: Transitioning from simulated to more realistic data provided the <a href="https://insightsengineering.github.io/nest/">NEST</a> team with more accurate and relevant testing conditions. This change was crucial in identifying and rectifying potential software limitations.</p></li>
<li><p><strong>Scope and Dependency Management</strong>: Both teams agreed to avoid creating strong interdependencies that could extend release cycles. <a href="https://insightsengineering.github.io/nest/">NEST</a> packages maintained minimal data for documentation purposes, while <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> preserved extensive datasets separately.</p></li>
<li><p><strong>CI Integration and Automation</strong>: On the <a href="https://insightsengineering.github.io/nest/">NEST</a> side, new CI integration tests ensured that template updates were automatically verified against stored <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> datasets. This maintained consistency and allowed developers to identify intended changes promptly.</p></li>
<li><p><strong>Strategic Pipelines</strong>: A pipeline was established in <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> so that any updates to the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Test Data for the Pharmaverse Family of Packages • pharmaversesdtm</template> <a href="https://pharmaverse.github.io/pharmaversesdtm/" class="r-link-pkg" target="_blank">{pharmaversesdtm}</a> </bslib-tooltip> source datasets and/or the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> template scripts can trigger an update to <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip>.</p></li>
</ul>
</section>
<section id="recent-developments" class="level2">
<h2 class="anchored" data-anchor-id="recent-developments">Recent Developments</h2>
<p>The collaboration bore fruit as the teams uncovered critical insights and improvements. For instance, using the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> data in the <span class="r-link-pkg-error">{scda.test}</span> package helped the <a href="https://insightsengineering.github.io/nest/">NEST</a> team identify and correct issues in their table template development, specifically in calculating denominator values. The realistic test data also revealed minor inconsistencies in the derivation of ECG data within the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> templates, which were promptly addressed, enhancing data quality.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The collaboration between the <a href="https://insightsengineering.github.io/nest/">NEST</a> and <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> teams showcases the power of open-source initiatives and community-driven efforts such as the pharmaverse in advancing clinical research. By integrating realistic data and refining their testing processes, they have significantly enhanced the robustness and reliability of their tools. This partnership not only accelerates insight generation but also cultivates a culture of collaboration and innovation, benefiting the broader pharmaverse community.</p>
<p>The success of this collaboration highlights the profound impact of shared goals and collective innovation, paving the way for future advancements in clinical research methodologies and outcomes.</p>
</section>
<section id="acknowledgements" class="level2">
<h2 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h2>
<p>We would like to thank the following people for their support during this project:</p>
<ul>
<li><p>Daphne Grasselly for establishing the automated CI refresh pipeline in <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip>, and Kangjie Zhang for leading the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> team in 2024.</p></li>
<li><p>Ben Straub, Stefan Bundfuss, Zelos Zhu, Ross Farrugia and Jeff Dickinson for their support from the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> side.</p></li>
<li><p>Leena Khatri and Emily de la Rua for support from the <a href="https://insightsengineering.github.io/nest/">NEST</a> side.</p></li>
</ul>
<!--------------- appendices go here ----------------->
</section>
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:32.524406</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/zzz_DO_NOT_EDIT_nest_and_pharmaverseadam/nest_and_pharmaverseadam.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{zhu2025,
  author = {Zhu, Joe and Mancini, Edoardo},
  title = {A Collaborative Triumph: {Re-using} Test Data Between the
    {NEST} and Admiral Teams},
  date = {2025-01-15},
  url = {https://pharmaverse.github.io/blog/posts/2025-01-15_nest_and_pharmaverseadam/nest_and_pharmaverseadam.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-zhu2025" class="csl-entry quarto-appendix-citeas">
Zhu, Joe, and Edoardo Mancini. 2025. <span>“A Collaborative Triumph:
Re-Using Test Data Between the NEST and Admiral Teams.”</span> January
15, 2025. <a href="https://pharmaverse.github.io/blog/posts/2025-01-15_nest_and_pharmaverseadam/nest_and_pharmaverseadam.html">https://pharmaverse.github.io/blog/posts/2025-01-15_nest_and_pharmaverseadam/nest_and_pharmaverseadam.html</a>.
</div></div></section></div> ]]></description>
  <category>ADaM</category>
  <category>TLG</category>
  <category>Community</category>
  <guid>https://pharmaverse.github.io/blog/posts/2025-01-15_nest_and_pharmaverseadam/nest_and_pharmaverseadam.html</guid>
  <pubDate>Wed, 15 Jan 2025 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2025-01-15_nest_and_pharmaverseadam/nest_and_pharmaverseadam.png" medium="image" type="image/png" height="91" width="144"/>
</item>
<item>
  <title>Creating a better universe with dverse</title>
  <dc:creator>Mauro Lepore</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-12-13_document_yo.../document_your_universe_with_dverse.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p>This article shows how to create a global search for any collection of R packages, i.e.&nbsp;a universe. Your universe may be on CRAN, large, and popular like the <a href="https://tidyverse.org/">tidyverse</a> or <a href="https://pharmaverse.org/">pharmaverse</a>. But it may also be not on CRAN, small, company-specific or personal.</p>
<p>The example here uses the ‘admiralverse’ – a toy universe defined as every package on CRAN today (2024-12-07), with a website, and a name starting with ‘admiral’.</p>
<p>You need:</p>
<ul>
<li>the package <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>GitHub - maurolepore/dverse: Document a Universe of Packages</template> <a href="https://github.com/maurolepore/dverse" class="r-link-pkg" target="_blank">{dverse}</a> </bslib-tooltip> to <u>d</u>ocument your uni<u>verse</u>,</li>
<li>each package in the toy ‘admiralverse’ to access the documentation metadata,</li>
<li><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>A Grammar of Data Manipulation • dplyr</template> <a href="https://dplyr.tidyverse.org" class="r-link-pkg" target="_blank">{dplyr}</a> </bslib-tooltip> to manipulate the output of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>GitHub - maurolepore/dverse: Document a Universe of Packages</template> <a href="https://github.com/maurolepore/dverse" class="r-link-pkg" target="_blank">{dverse}</a> </bslib-tooltip>, and</li>
<li><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>GitHub - rstudio/DT: R Interface to the jQuery Plug-in DataTables</template> <a href="https://github.com/rstudio/DT" class="r-link-pkg" target="_blank">{DT}</a> </bslib-tooltip> to create a searchable table.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiral)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiraldev)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiralonco)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiralophtha)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiralpeds)</span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiralvaccine)</span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb1-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(DT)</span></code></pre></div>
</div>
<details>
<summary>
Versions
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">packageVersion</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dverse"</span>)</span>
<span id="cb2-2"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## [1] '0.2.0'</span></span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">packageVersion</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiral"</span>)</span>
<span id="cb2-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## [1] '1.2.0'</span></span>
<span id="cb2-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">packageVersion</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiraldev"</span>)</span>
<span id="cb2-6"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## [1] '1.2.0'</span></span>
<span id="cb2-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">packageVersion</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiralonco"</span>)</span>
<span id="cb2-8"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## [1] '1.2.0'</span></span>
<span id="cb2-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">packageVersion</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiralophtha"</span>)</span>
<span id="cb2-10"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## [1] '1.2.0'</span></span>
<span id="cb2-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">packageVersion</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiralpeds"</span>)</span>
<span id="cb2-12"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## [1] '0.2.0'</span></span>
<span id="cb2-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">packageVersion</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiralvaccine"</span>)</span>
<span id="cb2-14"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## [1] '0.4.0'</span></span>
<span id="cb2-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">packageVersion</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dplyr"</span>)</span>
<span id="cb2-16"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## [1] '1.1.4'</span></span>
<span id="cb2-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">packageVersion</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DT"</span>)</span>
<span id="cb2-18"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## [1] '0.33'</span></span></code></pre></div>
</div>
</details>
<p><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Create a data frame with documentation metadata of one or more packages — document_universe • dverse</template> <a href="https://maurolepore.github.io/dverse/reference/document_universe.html" class="r-link-call" target="_blank">dverse::document_universe()</a> </bslib-tooltip> takes the names of the packages in the ‘admiralverse’, and a template pointing to each help file (topic) in each package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">admiralverse <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb3-2">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiral"</span>,</span>
<span id="cb3-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiraldev"</span>,</span>
<span id="cb3-4">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiralonco"</span>,</span>
<span id="cb3-5">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiralophtha"</span>,</span>
<span id="cb3-6">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiralpeds"</span>,</span>
<span id="cb3-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"admiralvaccine"</span></span>
<span id="cb3-8">)</span>
<span id="cb3-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># For example: https://pharmaverse.github.io/admiral/reference/queries.html</span></span>
<span id="cb3-10">template <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://pharmaverse.github.io/{package}/reference/{topic}.html"</span></span>
<span id="cb3-11"></span>
<span id="cb3-12">docs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dverse<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">document_universe</span>(admiralverse, template)</span>
<span id="cb3-13">docs</span>
<span id="cb3-14"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## # A tibble: 346 × 7</span></span>
<span id="cb3-15"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##    topic                               alias title concept type  keyword package</span></span>
<span id="cb3-16"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##    &lt;chr&gt;                               &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span id="cb3-17"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##  1 &lt;a href=https://pharmaverse.github… %&gt;%   Pipe… reexpo… help  &lt;NA&gt;    admiral</span></span>
<span id="cb3-18"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##  2 &lt;a href=https://pharmaverse.github… %not… Nega… dev_ut… help  &lt;NA&gt;    admira…</span></span>
<span id="cb3-19"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##  3 &lt;a href=https://pharmaverse.github… %or%  Or    dev_ut… help  &lt;NA&gt;    admira…</span></span>
<span id="cb3-20"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##  4 &lt;a href=https://pharmaverse.github… adbc… Crea… &lt;NA&gt;    vign… &lt;NA&gt;    admira…</span></span>
<span id="cb3-21"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##  5 &lt;a href=https://pharmaverse.github… adce  Crea… &lt;NA&gt;    vign… &lt;NA&gt;    admira…</span></span>
<span id="cb3-22"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##  6 &lt;a href=https://pharmaverse.github… add_… Add … quo     help  &lt;NA&gt;    admira…</span></span>
<span id="cb3-23"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##  7 &lt;a href=https://pharmaverse.github… adfa… Crea… &lt;NA&gt;    vign… &lt;NA&gt;    admira…</span></span>
<span id="cb3-24"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##  8 &lt;a href=https://pharmaverse.github… adis  Crea… &lt;NA&gt;    vign… &lt;NA&gt;    admira…</span></span>
<span id="cb3-25"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##  9 &lt;a href=https://pharmaverse.github… admi… admi… intern… help  intern… admiral</span></span>
<span id="cb3-26"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 10 &lt;a href=https://pharmaverse.github… admi… Lab … datase… help  datase… admiral</span></span>
<span id="cb3-27"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## # ℹ 336 more rows</span></span></code></pre></div>
</div>
<p>You may need to exclude some topics, such as reexported objects from other packages. Because topics outside your universe yield broken links, you can exclude them with <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Is each URL (or href) online? — is_online • dverse</template> <a href="https://maurolepore.github.io/dverse/reference/is_online.html" class="r-link-call" target="_blank">dverse::is_online()</a> </bslib-tooltip>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">docs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>dverse<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is_online</span>(topic))</span>
<span id="cb4-2"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## # A tibble: 9 × 7</span></span>
<span id="cb4-3"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##   topic                                alias title concept type  keyword package</span></span>
<span id="cb4-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##   &lt;chr&gt;                                &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span id="cb4-5"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 1 &lt;a href=https://pharmaverse.github.… %&gt;%   Pipe… reexpo… help  &lt;NA&gt;    admiral</span></span>
<span id="cb4-6"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 2 &lt;a href=https://pharmaverse.github.… %not… Nega… dev_ut… help  &lt;NA&gt;    admira…</span></span>
<span id="cb4-7"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 3 &lt;a href=https://pharmaverse.github.… %or%  Or    dev_ut… help  &lt;NA&gt;    admira…</span></span>
<span id="cb4-8"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 4 &lt;a href=https://pharmaverse.github.… anti… Join… joins   help  &lt;NA&gt;    admira…</span></span>
<span id="cb4-9"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 5 &lt;a href=https://pharmaverse.github.… deat… Pre-… source… help  &lt;NA&gt;    admiral</span></span>
<span id="cb4-10"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 6 &lt;a href=https://pharmaverse.github.… deat… Pre-… source… help  &lt;NA&gt;    admira…</span></span>
<span id="cb4-11"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 7 &lt;a href=https://pharmaverse.github.… desc  dply… reexpo… help  &lt;NA&gt;    admiral</span></span>
<span id="cb4-12"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 8 &lt;a href=https://pharmaverse.github.… exprs rlan… reexpo… help  &lt;NA&gt;    admiral</span></span>
<span id="cb4-13"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 9 &lt;a href=https://pharmaverse.github.… rsp_… Pre-… source… help  &lt;NA&gt;    admira…</span></span>
<span id="cb4-14"></span>
<span id="cb4-15">online <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> docs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(dverse<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is_online</span>(topic))</span></code></pre></div>
</div>
<p>Consider the different kinds of documentation in your universe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">online <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(type, keyword)</span>
<span id="cb5-2"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## # A tibble: 4 × 3</span></span>
<span id="cb5-3"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##   type     keyword      n</span></span>
<span id="cb5-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##   &lt;chr&gt;    &lt;chr&gt;    &lt;int&gt;</span></span>
<span id="cb5-5"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 1 help     datasets    22</span></span>
<span id="cb5-6"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 2 help     internal    30</span></span>
<span id="cb5-7"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 3 help     &lt;NA&gt;       245</span></span>
<span id="cb5-8"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## 4 vignette &lt;NA&gt;        40</span></span></code></pre></div>
</div>
<p>You may organize the documentation however you like. For inspiration see the <a href="https://rmi-pacta.github.io/pactaverse/articles/global-search.html">pactaverse</a>, the toy <a href="https://maurolepore.github.io/admiralverse/articles/reference.html">‘admiralverse’</a>, <a href="https://forestgeo.github.io/fgeo/articles/siteonly/reference.html">fgeo</a> and <a href="https://www.tidymodels.org/find/">tidymodels</a>.</p>
<p>Here it makes sense to place vignettes, datasets, and public functions in separate tables.</p>
<section id="vignettes" class="level3">
<h3 class="anchored" data-anchor-id="vignettes">Vignettes</h3>
<p>Here are all the vignettes available across packages in the ‘admiralverse’. Click on each topic to read its corresponding vignette.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">vignettes <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> online <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(type <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vignette"</span>)</span>
<span id="cb6-2"></span>
<span id="cb6-3">vignettes <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb6-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">distinct</span>(topic, title, package) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb6-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">datatable</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">escape =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7448e37f079c5774a5ae" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7448e37f079c5774a5ae">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40"],["<a href=https://pharmaverse.github.io/admiralophtha/articles/adbcva.html>adbcva<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/articles/adce.html>adce<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/articles/adface.html>adface<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/articles/adis.html>adis<\/a>","<a href=https://pharmaverse.github.io/admiraldev/articles/admiraldev.html>admiraldev<\/a>","<a href=https://pharmaverse.github.io/admiralonco/articles/admiralonco.html>admiralonco<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/articles/admiralophtha.html>admiralophtha<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/articles/admiralpeds.html>admiralpeds<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/articles/admiralvaccine.html>admiralvaccine<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/articles/adoe.html>adoe<\/a>","<a href=https://pharmaverse.github.io/admiralonco/articles/adrs.html>adrs<\/a>","<a href=https://pharmaverse.github.io/admiralonco/articles/adrs_basic.html>adrs_basic<\/a>","<a href=https://pharmaverse.github.io/admiralonco/articles/adrs_gcig.html>adrs_gcig<\/a>","<a href=https://pharmaverse.github.io/admiralonco/articles/adrs_imwg.html>adrs_imwg<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/adsl.html>adsl<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/articles/adsl.html>adsl<\/a>","<a href=https://pharmaverse.github.io/admiralonco/articles/adtr.html>adtr<\/a>","<a href=https://pharmaverse.github.io/admiralonco/articles/adtte.html>adtte<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/articles/advfq.html>advfq<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/articles/advs.html>advs<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/bds_exposure.html>bds_exposure<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/bds_finding.html>bds_finding<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/bds_tte.html>bds_tte<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/concepts_conventions.html>concepts_conventions<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/generic.html>generic<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/higher_order.html>higher_order<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/hys_law.html>hys_law<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/imputation.html>imputation<\/a>","<a href=https://pharmaverse.github.io/admiralonco/articles/irecist.html>irecist<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/lab_grading.html>lab_grading<\/a>","<a href=https://pharmaverse.github.io/admiralonco/articles/nactdt.html>nactdt<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/occds.html>occds<\/a>","<a href=https://pharmaverse.github.io/admiraldev/articles/package_extensions.html>package_extensions<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/pk_adnca.html>pk_adnca<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/queries_dataset.html>queries_dataset<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/questionnaires.html>questionnaires<\/a>","<a href=https://pharmaverse.github.io/admiraldev/articles/rcmd_issues.html>rcmd_issues<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/articles/standards.html>standards<\/a>","<a href=https://pharmaverse.github.io/admiraldev/articles/test_data_guidance.html>test_data_guidance<\/a>","<a href=https://pharmaverse.github.io/admiral/articles/visits_periods.html>visits_periods<\/a>"],["Creating ADBCVA","Creating ADCE","Creating ADFACE","Creating ADIS","Get Started","Get Started","Get Started","Get Started","Get Started","Creating ADOE","Creating ADRS (Including Non-standard Endpoints)","Creating a Basic ADRS","Creating ADRS with GCIG Criteria","Creating ADRS with IMWG Criteria","Creating ADSL","Creating ADSL","Creating ADTR","Creating ADTTE","Creating ADVFQ","Creating a Pediatrics ADVS ADaM","Creating a BDS Exposure ADaM","Creating a BDS Finding ADaM","Creating a BDS Time-to-Event ADaM","Programming Concepts and Conventions","Generic Derivations","Higher Order Functions","Hy's Law Implementation","Date and Time Imputation","Creating ADRS with iRECIST endpoints","Lab Grading","Creating and Using New Anti-Cancer Start Date","Creating an OCCDS ADaM","Package Extensions","Creating a PK NCA or Population PK ADaM","Queries Dataset Documentation","Creating Questionnaire ADaMs","R CMD Issues","Ophthalmology Standards","Test Data Guidance","Visit and Period Variables"],["admiralophtha","admiralvaccine","admiralvaccine","admiralvaccine","admiraldev","admiralonco","admiralophtha","admiralpeds","admiralvaccine","admiralophtha","admiralonco","admiralonco","admiralonco","admiralonco","admiral","admiralvaccine","admiralonco","admiralonco","admiralophtha","admiralpeds","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiralonco","admiral","admiralonco","admiral","admiraldev","admiral","admiral","admiral","admiraldev","admiralophtha","admiraldev","admiral"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>topic<\/th>\n      <th>title<\/th>\n      <th>package<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"topic","targets":1},{"name":"title","targets":2},{"name":"package","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="you-dont-see-what-you-expect" class="level4">
<h4 class="anchored" data-anchor-id="you-dont-see-what-you-expect">You don’t see what you expect?</h4>
<ul>
<li><p>This works with vignettes but not articles, so <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Create a vignette or article — use_vignette • usethis</template> <a href="https://usethis.r-lib.org/reference/use_vignette.html" class="r-link-call" target="_blank">usethis::use_vignette()</a> </bslib-tooltip> not <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Create a vignette or article — use_vignette • usethis</template> <a href="https://usethis.r-lib.org/reference/use_vignette.html" class="r-link-call" target="_blank">usethis::use_article()</a> </bslib-tooltip>.</p></li>
<li><p>When you install the packages in your universe ensure to install the vignettes. Vignettes install by default when you install your packages from CRAN with <code>install.packages()</code> or <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Install specified required packages — pak • pak</template> <a href="https://pak.r-lib.org/reference/pak.html" class="r-link-call" target="_blank">pak::pak()</a> </bslib-tooltip>. But if you install them from source with <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Install a local development package. — install • devtools</template> <a href="https://devtools.r-lib.org/reference/install.html" class="r-link-call" target="_blank">devtools::install()</a> </bslib-tooltip> or <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Attempts to install a package directly from GitHub. — install_github • remotes</template> <a href="https://remotes.r-lib.org/reference/install_github.html" class="r-link-call" target="_blank">remotes::install_github()</a> </bslib-tooltip>, then you need <code>build_vignettes = TRUE</code>.</p></li>
</ul>
</section>
</section>
<section id="datasets" class="level3">
<h3 class="anchored" data-anchor-id="datasets">Datasets</h3>
<p>Here are all the datasets. Click on each topic to read about it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">datasets <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> online <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(keyword <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"datasets"</span>)</span>
<span id="cb7-2"></span>
<span id="cb7-3">datasets <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">distinct</span>(topic, title, package) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">datatable</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">escape =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-4706f485f9b7a26dc586" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4706f485f9b7a26dc586">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11"],["<a href=https://pharmaverse.github.io/admiral/reference/admiral_adlb.html>admiral_adlb<\/a>","<a href=https://pharmaverse.github.io/admiralonco/reference/admiral_adrs.html>admiral_adrs<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/admiral_adsl.html>admiral_adsl<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/reference/admiralophtha_adbcva.html>admiralophtha_adbcva<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/reference/admiralophtha_adoe.html>admiralophtha_adoe<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/reference/admiralophtha_advfq.html>admiralophtha_advfq<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/adsl_peds.html>adsl_peds<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/ex_single.html>ex_single<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/example_qs.html>example_qs<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/queries.html>queries<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/queries_mh.html>queries_mh<\/a>"],["Lab Analysis Dataset","Response Analysis Dataset","Subject Level Analysis Dataset","Best Corrected Visual Acuity Analysis Dataset","Ophthalmology Exam Analysis Dataset","Visual Function Questionnaire Analysis Dataset","Subject Level Analysis Dataset-pediatrics","Single Dose Exposure Dataset","Example 'QS' Dataset","Queries Dataset","Queries MH Dataset"],["admiral","admiralonco","admiral","admiralophtha","admiralophtha","admiralophtha","admiralpeds","admiral","admiral","admiral","admiral"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>topic<\/th>\n      <th>title<\/th>\n      <th>package<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"topic","targets":1},{"name":"title","targets":2},{"name":"package","targets":3}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="functions" class="level3">
<h3 class="anchored" data-anchor-id="functions">Functions</h3>
<p>Here are all the functions. Click on each topic to read about it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">internal <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> online <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(keyword <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"internal"</span>)</span>
<span id="cb8-2"></span>
<span id="cb8-3">public <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> online <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb8-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">anti_join</span>(vignettes) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb8-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">anti_join</span>(datasets) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb8-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">anti_join</span>(internal)</span>
<span id="cb8-7"></span>
<span id="cb8-8">public <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb8-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">distinct</span>(topic, title, package) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb8-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">datatable</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">escape =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-c5a06dcdc24f1edffcfb" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c5a06dcdc24f1edffcfb">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237"],["<a href=https://pharmaverse.github.io/admiraldev/reference/add_suffix_to_vars.html>add_suffix_to_vars<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/admiralvaccine_adce.html>admiralvaccine_adce<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/admiralvaccine_adface.html>admiralvaccine_adface<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/admiralvaccine_adis.html>admiralvaccine_adis<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/admiralvaccine_adsl.html>admiralvaccine_adsl<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/arg_name.html>arg_name<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_atomic_vector.html>assert_atomic_vector<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_character_scalar.html>assert_character_scalar<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_character_vector.html>assert_character_vector<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_data_frame.html>assert_data_frame<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_date_var.html>assert_date_var<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_date_vector.html>assert_date_vector<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_expr.html>assert_expr<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_expr_list.html>assert_expr_list<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_filter_cond.html>assert_filter_cond<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_function.html>assert_function<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_integer_scalar.html>assert_integer_scalar<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_list_element.html>assert_list_element<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_list_of.html>assert_list_of<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_logical_scalar.html>assert_logical_scalar<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_named.html>assert_named<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_numeric_vector.html>assert_numeric_vector<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_one_to_one.html>assert_one_to_one<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_param_does_not_exist.html>assert_param_does_not_exist<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_s3_class.html>assert_s3_class<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_same_type.html>assert_same_type<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_symbol.html>assert_symbol<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_unit.html>assert_unit<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_vars.html>assert_vars<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/assert_varval_list.html>assert_varval_list<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/atoxgr_criteria_ctcv4.html>atoxgr_criteria_ctcv4<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/atoxgr_criteria_ctcv5.html>atoxgr_criteria_ctcv5<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/atoxgr_criteria_daids.html>atoxgr_criteria_daids<\/a>","<a href=https://pharmaverse.github.io/admiralonco/reference/aval_resp.html>aval_resp<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/backquote.html>backquote<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/basket_select.html>basket_select<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/call_derivation.html>call_derivation<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/call_user_fun.html>call_user_fun<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/cdc_bmiage.html>cdc_bmiage<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/cdc_htage.html>cdc_htage<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/cdc_wtage.html>cdc_wtage<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/censor_source.html>censor_source<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/chr2vars.html>chr2vars<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_age_years.html>compute_age_years<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_bmi.html>compute_bmi<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_bsa.html>compute_bsa<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_dtf.html>compute_dtf<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_duration.html>compute_duration<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_egfr.html>compute_egfr<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_framingham.html>compute_framingham<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_map.html>compute_map<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_qtc.html>compute_qtc<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_qual_imputation.html>compute_qual_imputation<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_qual_imputation_dec.html>compute_qual_imputation_dec<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_rr.html>compute_rr<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_scale.html>compute_scale<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/compute_tmf.html>compute_tmf<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/consolidate_metadata.html>consolidate_metadata<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/contains_vars.html>contains_vars<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/convert_blanks_to_na.html>convert_blanks_to_na<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/convert_date_to_dtm.html>convert_date_to_dtm<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/convert_dtc_to_dt.html>convert_dtc_to_dt<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/convert_dtc_to_dtm.html>convert_dtc_to_dtm<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/convert_dtm_to_dtc.html>convert_dtm_to_dtc<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/reference/convert_etdrs_to_logmar.html>convert_etdrs_to_logmar<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/reference/convert_logmar_to_etdrs.html>convert_logmar_to_etdrs<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/convert_na_to_blanks.html>convert_na_to_blanks<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/count_vals.html>count_vals<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/country_code_lookup.html>country_code_lookup<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/create_period_dataset.html>create_period_dataset<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/create_query_data.html>create_query_data<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/create_single_dose_dataset.html>create_single_dose_dataset<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/dataset_vignette.html>dataset_vignette<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/date_source.html>date_source<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/default_qtc_paramcd.html>default_qtc_paramcd<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/deprecate_inform.html>deprecate_inform<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derivation_slice.html>derivation_slice<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_basetype_records.html>derive_basetype_records<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/derive_diam_to_sev_records.html>derive_diam_to_sev_records<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_expected_records.html>derive_expected_records<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_extreme_event.html>derive_extreme_event<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_extreme_records.html>derive_extreme_records<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/derive_fever_records.html>derive_fever_records<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/derive_interp_records.html>derive_interp_records<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_locf_records.html>derive_locf_records<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_bmi.html>derive_param_bmi<\/a>","<a href=https://pharmaverse.github.io/admiralonco/reference/derive_param_bor.html>derive_param_bor<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_bsa.html>derive_param_bsa<\/a>","<a href=https://pharmaverse.github.io/admiralonco/reference/derive_param_clinbenefit.html>derive_param_clinbenefit<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_computed.html>derive_param_computed<\/a>","<a href=https://pharmaverse.github.io/admiralonco/reference/derive_param_confirmed_bor.html>derive_param_confirmed_bor<\/a>","<a href=https://pharmaverse.github.io/admiralonco/reference/derive_param_confirmed_resp.html>derive_param_confirmed_resp<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_doseint.html>derive_param_doseint<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_exist_flag.html>derive_param_exist_flag<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_exposure.html>derive_param_exposure<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_extreme_record.html>derive_param_extreme_record<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_framingham.html>derive_param_framingham<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_map.html>derive_param_map<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_qtc.html>derive_param_qtc<\/a>","<a href=https://pharmaverse.github.io/admiralonco/reference/derive_param_response.html>derive_param_response<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_rr.html>derive_param_rr<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_tte.html>derive_param_tte<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_param_wbc_abs.html>derive_param_wbc_abs<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/derive_params_growth_age.html>derive_params_growth_age<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/derive_params_growth_height.html>derive_params_growth_height<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_summary_records.html>derive_summary_records<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/reference/derive_var_afeye.html>derive_var_afeye<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_age_years.html>derive_var_age_years<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_analysis_ratio.html>derive_var_analysis_ratio<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_anrind.html>derive_var_anrind<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_atoxgr.html>derive_var_atoxgr<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_atoxgr_dir.html>derive_var_atoxgr_dir<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/derive_var_aval_adis.html>derive_var_aval_adis<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_base.html>derive_var_base<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/reference/derive_var_bcvacritxfl.html>derive_var_bcvacritxfl<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_chg.html>derive_var_chg<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_dthcaus.html>derive_var_dthcaus<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_extreme_dt.html>derive_var_extreme_dt<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_extreme_dtm.html>derive_var_extreme_dtm<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_extreme_flag.html>derive_var_extreme_flag<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_joined_exist_flag.html>derive_var_joined_exist_flag<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_merged_ef_msrc.html>derive_var_merged_ef_msrc<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_merged_exist_flag.html>derive_var_merged_exist_flag<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_merged_summary.html>derive_var_merged_summary<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_obs_number.html>derive_var_obs_number<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_ontrtfl.html>derive_var_ontrtfl<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_pchg.html>derive_var_pchg<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_relative_flag.html>derive_var_relative_flag<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_shift.html>derive_var_shift<\/a>","<a href=https://pharmaverse.github.io/admiralophtha/reference/derive_var_studyeye.html>derive_var_studyeye<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_trtdurd.html>derive_var_trtdurd<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_var_trtemfl.html>derive_var_trtemfl<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_aage.html>derive_vars_aage<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_atc.html>derive_vars_atc<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_cat.html>derive_vars_cat<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_computed.html>derive_vars_computed<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/derive_vars_crit.html>derive_vars_crit<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_crit_flag.html>derive_vars_crit_flag<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_dt.html>derive_vars_dt<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_dtm.html>derive_vars_dtm<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_dtm_to_dt.html>derive_vars_dtm_to_dt<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_dtm_to_tm.html>derive_vars_dtm_to_tm<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_duration.html>derive_vars_duration<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_dy.html>derive_vars_dy<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/derive_vars_event_flag.html>derive_vars_event_flag<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_extreme_event.html>derive_vars_extreme_event<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_joined.html>derive_vars_joined<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/derive_vars_max_flag.html>derive_vars_max_flag<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_merged.html>derive_vars_merged<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_merged_lookup.html>derive_vars_merged_lookup<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/derive_vars_merged_vaccine.html>derive_vars_merged_vaccine<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/derive_vars_params.html>derive_vars_params<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_period.html>derive_vars_period<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_query.html>derive_vars_query<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/derive_vars_transposed.html>derive_vars_transposed<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/derive_vars_vaxdt.html>derive_vars_vaxdt<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/dose_freq_lookup.html>dose_freq_lookup<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/dquote.html>dquote<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/dthcaus_source.html>dthcaus_source<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/enumerate.html>enumerate<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/event.html>event<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/event_joined.html>event_joined<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/event_source.html>event_source<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/expect_dfs_equal.html>expect_dfs_equal<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/expr_c.html>expr_c<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/extract_unit.html>extract_unit<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/extract_vars.html>extract_vars<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/filter_exist.html>filter_exist<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/filter_extreme.html>filter_extreme<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/filter_if.html>filter_if<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/filter_joined.html>filter_joined<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/filter_not_exist.html>filter_not_exist<\/a>","<a href=https://pharmaverse.github.io/admiralonco/reference/filter_pd.html>filter_pd<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/filter_relative.html>filter_relative<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/flag_event.html>flag_event<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/friendly_type_of.html>friendly_type_of<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/get_admiral_option.html>get_admiral_option<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/get_constant_vars.html>get_constant_vars<\/a>","<a href=https://pharmaverse.github.io/admiralonco/reference/get_crpr_dataset.html>get_crpr_dataset<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/get_dataset.html>get_dataset<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/get_duplicates.html>get_duplicates<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/get_duplicates_dataset.html>get_duplicates_dataset<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/get_flagged_records.html>get_flagged_records<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/get_many_to_one_dataset.html>get_many_to_one_dataset<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/get_new_tmp_var.html>get_new_tmp_var<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/get_not_mapped.html>get_not_mapped<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/get_one_to_many_dataset.html>get_one_to_many_dataset<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/get_source_vars.html>get_source_vars<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/get_summary_records.html>get_summary_records<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/get_terms_from_db.html>get_terms_from_db<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/get_vars_query.html>get_vars_query<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/impute_dtc_dt.html>impute_dtc_dt<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/impute_dtc_dtm.html>impute_dtc_dtm<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/is_auto.html>is_auto<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/is_order_vars.html>is_order_vars<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/is_valid_dtc.html>is_valid_dtc<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/list_all_templates.html>list_all_templates<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/list_tte_source_objects.html>list_tte_source_objects<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/max_cond.html>max_cond<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/max_flag.html>max_flag<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/min_cond.html>min_cond<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/negate_vars.html>negate_vars<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/params.html>params<\/a>","<a href=https://pharmaverse.github.io/admiralvaccine/reference/post_process_reacto.html>post_process_reacto<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/process_set_values_to.html>process_set_values_to<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/query.html>query<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/records_source.html>records_source<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/remove_tmp_vars.html>remove_tmp_vars<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/replace_symbol_in_expr.html>replace_symbol_in_expr<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/replace_values_by_names.html>replace_values_by_names<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/restrict_derivation.html>restrict_derivation<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/set_admiral_options.html>set_admiral_options<\/a>","<a href=https://pharmaverse.github.io/admiralonco/reference/signal_crpr.html>signal_crpr<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/slice_derivation.html>slice_derivation<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/squote.html>squote<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/suppress_warning.html>suppress_warning<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/transform_range.html>transform_range<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/tte_source.html>tte_source<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/use_ad_template.html>use_ad_template<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/valid_time_units.html>valid_time_units<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/vars2chr.html>vars2chr<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/warn_if_incomplete_dtc.html>warn_if_incomplete_dtc<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/warn_if_inconsistent_list.html>warn_if_inconsistent_list<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/warn_if_invalid_dtc.html>warn_if_invalid_dtc<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/warn_if_vars_exist.html>warn_if_vars_exist<\/a>","<a href=https://pharmaverse.github.io/admiraldev/reference/what_is_it.html>what_is_it<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/who_bmi_for_age_boys.html>who_bmi_for_age_boys<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/who_bmi_for_age_girls.html>who_bmi_for_age_girls<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/who_hc_for_age_boys.html>who_hc_for_age_boys<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/who_hc_for_age_girls.html>who_hc_for_age_girls<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/who_lgth_ht_for_age_boys.html>who_lgth_ht_for_age_boys<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/who_lgth_ht_for_age_girls.html>who_lgth_ht_for_age_girls<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/who_wt_for_age_boys.html>who_wt_for_age_boys<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/who_wt_for_age_girls.html>who_wt_for_age_girls<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/who_wt_for_lgth_boys.html>who_wt_for_lgth_boys<\/a>","<a href=https://pharmaverse.github.io/admiralpeds/reference/who_wt_for_lgth_girls.html>who_wt_for_lgth_girls<\/a>","<a href=https://pharmaverse.github.io/admiral/reference/yn_to_numeric.html>yn_to_numeric<\/a>"],["Add a Suffix to Variables in a List of Expressions","Clinical Events Analysis Dataset - Vaccine Specific","Findings About Clinical Events Analysis Dataset - Vaccine Specific","Immunogenicity Specimen Assessments Analysis Dataset - Vaccine Specific","Subject Level Analysis Dataset - Vaccine Specific","Extract Argument Name from an Expression","Is an Argument an Atomic Vector?","Is an Argument a Character Scalar (String)?","Is an Argument a Character Vector?","Is an Argument a Data Frame?","Is a Variable in a Dataset a Date or Datetime Variable?","Is an object a date or datetime vector?","Assert Argument is an Expression","Is an Argument a List of Expressions?","Is an Argument a Filter Condition?","Is Argument a Function?","Is an Argument an Integer Scalar?","Is an Element of a List of Lists/Classes Fulfilling a Condition?","Is an Argument a List of Objects of a Specific S3 Class or Type?","Is an Argument a Logical Scalar (Boolean)?","Assert Argument is a Named List or Vector","Is an Argument a Numeric Vector?","Is There a One to One Mapping between Variables?","Asserts That a Parameter Does Not Exist in the Dataset","Is an Argument an Object of a Specific S3 Class?","Are All Argument of the Same Type?","Is an Argument a Symbol?","Asserts That a Parameter is Provided in the Expected Unit","Is an Argument a List of Variables?","Is an Argument a Variable-Value List?","Metadata Holding Grading Criteria for NCI-CTCAEv4","Metadata Holding Grading Criteria for NCI-CTCAEv5","Metadata Holding Grading Criteria for DAIDs","Map Character Response Values to Numeric Values","Wrap a String in Backquotes","Create a 'basket_select' object","Call a Single Derivation Multiple Times","Calls a Function Provided by the User","CDC BMI-for-age-chart","CDC Height-for-age-chart","CDC Weight-for-age-chart","Create a 'censor_source' Object","Turn a Character Vector into a List of Expressions","Compute Age in Years","Compute Body Mass Index (BMI)","Compute Body Surface Area (BSA)","Derive the Date Imputation Flag","Compute Duration","Compute Estimated Glomerular Filtration Rate (eGFR) for Kidney Function","Compute Framingham Heart Study Cardiovascular Disease 10-Year Risk Score","Compute Mean Arterial Pressure (MAP)","Compute Corrected QT","Function to Impute Values When Qualifier Exists in Character Result","Compute Factor for Value Imputations When Character Value Contains < or >","Compute RR Interval From Heart Rate","Compute Scale Parameters","Derive the Time Imputation Flag","Consolidate Multiple Meta Datasets Into a Single One","check that argument contains valid variable(s) created with 'exprs()' or Source Variables from a List of Expressions","Convert Blank Strings Into NAs","Convert a Date into a Datetime Object","Convert a Date Character Vector into a Date Object","Convert a Date Character Vector into a Datetime Object","Helper Function to Convert Date (or Date-time) Objects to Characters of dtc Format (-DTC type of variable)","ETDRS -> LogMAR conversion","LogMAR -> ETDRS conversion","Convert NAs Into Blank Strings","Count Number of Observations Where a Variable Equals a Value","Country Code Lookup","Create a Reference Dataset for Subperiods, Periods, or Phases","Creates a queries dataset as input dataset to the 'dataset_queries' argument in 'derive_vars_query()'","Create dataset of single doses","Output a Dataset in a Vignette in the admiral Format","Create a 'date_source' object","Get Default Parameter Code for Corrected QT","Deprecation with Soft Message","Create a 'derivation_slice' Object","Derive Basetype Variable","Creating Severity Records From Diameter","Derive Expected Records","Add the Worst or Best Observation for Each By Group as New Records","Add the First or Last Observation for Each By Group as New Records","Creating Fever Records","Derive interpolated rows for the CDC charts (>=2 yrs old)","Derive LOCF (Last Observation Carried Forward) Records","Adds a Parameter for BMI","Adds a Parameter for Best Overall Response (without confirmation)","Adds a Parameter for BSA (Body Surface Area) Using the Specified Method","Adds a Parameter for Clinical Benefit","Adds a Parameter Computed from the Analysis Value of Other Parameters","Adds a Parameter for Confirmed Best Overall Response","Adds a Parameter for Confirmed Response","Adds a Parameter for Dose Intensity","Add an Existence Flag Parameter","Add an Aggregated Parameter and Derive the Associated Start and End Dates","Adds a Parameter Based on First or Last Record from Multiple Sources","Adds a Parameter for Framingham Heart Study Cardiovascular Disease 10-Year Risk Score","Adds a Parameter for Mean Arterial Pressure","Adds a Parameter for Corrected QT (an ECG measurement)","Adds a Parameter Indicating If a Subject Had a Response before Progressive Disease","Adds a Parameter for Derived RR (an ECG measurement)","Derive a Time-to-Event Parameter","Add a parameter for lab differentials converted to absolute values","Derive Anthropometric indicators (Z-Scores/Percentiles-for-Age) based on Standard Growth Charts","Derive Anthropometric indicators (Z-Scores/Percentiles-for-Height/Length) based on Standard Growth Charts","Add New Records Within By Groups Using Aggregation Functions","Derive Affected Eye","Derive Age in Years","Derive Ratio Variable","Derive Reference Range Indicator","Derive Lab High toxicity Grade 0 - 4 and Low Toxicity Grades 0 - (-4)","Derive Lab Toxicity Grade 0 - 4","Derive AVAL variable for ADIS ADaM domain","Derive Baseline Variables","Adds 'CRITx'/'CRITxFL' pairs to BCVA dataset","Derive Change from Baseline","Derive Death Cause","Derive First or Last Date from Multiple Sources","Derive First or Last Datetime from Multiple Sources","Add a Variable Flagging the First or Last Observation Within Each By Group","Derives a Flag Based on an Existing Flag","Merge an Existence Flag From Multiple Sources","Merge an Existence Flag","Merge Summary Variables","Adds a Variable Numbering the Observations Within Each By Group","Derive On-Treatment Flag Variable","Derive Percent Change from Baseline","Flag Observations Before or After a Condition is Fulfilled","Derive Shift","Derive Study Eye","Derive Total Treatment Duration (Days)","Derive Treatment-emergent Flag","Derive Analysis Age","Derive ATC Class Variables","Derive Categorization Variables Like 'AVALCATy' and 'AVALCAyN'","Adds Variable(s) Computed from the Analysis Value of one or more Parameters","Derive Analysis Criterion Evaluation Variables","Derive Criterion Flag Variables 'CRITy', 'CRITyFL', and 'CRITyFN'","Derive/Impute a Date from a Date Character Vector","Derive/Impute a Datetime from a Date Character Vector","Derive Date Variables from Datetime Variables","Derive Time Variables from Datetime Variables","Derive Duration","Derive Relative Day Variables","Adds Flag Variables for an Occurred Event .","Add the Worst or Best Observation for Each By Group as New Variables","Add Variables from an Additional Dataset Based on Conditions from Both Datasets","Creating ANLxxFL Variables To Flag The Maximum Records","Add New Variable(s) to the Input Dataset Based on Variables from Another Dataset","Merge Lookup Table with Source Dataset","Add New Variable(s) to the Input dataset Based on Variables from Another dataset","Assigning Parameter Variables","Add Subperiod, Period, or Phase Variables to ADSL","Derive Query Variables","Derive Variables by Transposing and Merging a Second Dataset","Add Vaccination Date Variables to the Output Dataset","Pre-Defined Dose Frequencies","Wrap a String in Double Quotes","Create a 'dthcaus_source' Object","Enumerate Multiple Elements","Create a 'event' Object","Create a 'event_joined' Object","Create an 'event_source' Object","Expectation: Are Two Datasets Equal?","Concatenate One or More Expressions","Extract Unit From Parameter Description","Extract All Symbols from a List of Expressions","Returns records that fit into existing by groups in a filtered source dataset","Filter the First or Last Observation for Each By Group","Optional Filter","Filter Observations Taking Other Observations into Account","Returns records that don't fit into existing by groups in a filtered source dataset","Filter up to First PD (Progressive Disease) Date","Filter the Observations Before or After a Condition is Fulfilled","Create a 'flag_event' Object","Return English-friendly messaging for object-types","Get the Value of an Admiral Option","Get Constant Variables","Get CR Records Followed by PR That Lead to a Prior Error","Retrieve a Dataset from the 'admiraldev_environment' environment","Get Duplicates From a Vector","Get Duplicate Records that Led to a Prior Error","Create an Existence Flag","Get Many to One Values that Led to a Prior Error","Get a New Temporary Variable Name for a Dataset","Get list of records not mapped from the lookup table.","Get One to Many Values that Led to a Prior Error","Get Source Variables from a List of Expressions","Create Summary Records","Get Terms from the Queries Database","Get Query Variables","Impute Partial Date Portion of a \"--DTC\" Variable","Impute Partial Date(-time) Portion of a \"--DTC\" Variable","Checks if the argument equals the auto keyword","Is order vars?","Is this string a valid DTC","List All Available ADaM Templates","List all 'tte_source' Objects Available in a Package","Maximum Value on a Subset","Creating Maximum Flag","Minimum Value on a Subset","Negate List of Variables","Create a Set of Parameters","Post processing function for ADFACE dataset","Process 'set_values_to' Argument","Create an 'query' object","Create a 'records_source' Object","Remove All Temporary Variables Created Within the Current Function Environment","Replace Symbols in an Expression","Replace Expression Value with Name","Execute a Derivation on a Subset of the Input Dataset","Set the Value of admiral Options","Signal CR Records Followed by PR","Execute a Derivation with Different Arguments for Subsets of the Input Dataset","Wrap a String in Single Quotes","Suppress Specific Warnings","Transform Range","Create a 'tte_source' Object","Open an ADaM Template Script","Valid Time Units","Turn a List of Expressions into a Character Vector","Warn if incomplete dtc","Warn If Two Lists are Inconsistent","Warn If a Vector Contains Unknown Datetime Format","Warn If a Variable Already Exists","What Kind of Object is This?","WHO BMI-for-age for boys","WHO BMI-for-age for girls","WHO Head circumference-for-age for boys","WHO Head circumference-for-age for girls","WHO Length/height-for-age for boys","WHO Length/height-for-age for girls","WHO Weight-for-age for boys","WHO Weight-for-age for girls","WHO Weight-for-length for boys","WHO Weight-for-length for girls","Map '\"Y\"' and '\"N\"' to Numeric Values"],["admiraldev","admiralvaccine","admiralvaccine","admiralvaccine","admiralvaccine","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiral","admiral","admiral","admiralonco","admiraldev","admiral","admiral","admiral","admiralpeds","admiralpeds","admiralpeds","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiraldev","admiral","admiral","admiral","admiral","admiraldev","admiralophtha","admiralophtha","admiral","admiral","admiral","admiral","admiral","admiral","admiraldev","admiral","admiral","admiraldev","admiral","admiral","admiralvaccine","admiral","admiral","admiral","admiralvaccine","admiralpeds","admiral","admiral","admiralonco","admiral","admiralonco","admiral","admiralonco","admiralonco","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiralonco","admiral","admiral","admiral","admiralpeds","admiralpeds","admiral","admiralophtha","admiral","admiral","admiral","admiral","admiral","admiralvaccine","admiral","admiralophtha","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiralophtha","admiral","admiral","admiral","admiral","admiral","admiral","admiralvaccine","admiral","admiral","admiral","admiral","admiral","admiral","admiral","admiralvaccine","admiral","admiral","admiralvaccine","admiral","admiral","admiralvaccine","admiralvaccine","admiral","admiral","admiral","admiralvaccine","admiral","admiraldev","admiral","admiraldev","admiral","admiral","admiral","admiraldev","admiraldev","admiral","admiraldev","admiral","admiral","admiraldev","admiral","admiral","admiralonco","admiral","admiral","admiraldev","admiral","admiraldev","admiralonco","admiraldev","admiraldev","admiral","admiral","admiral","admiraldev","admiral","admiral","admiraldev","admiral","admiral","admiral","admiral","admiral","admiraldev","admiraldev","admiraldev","admiral","admiral","admiral","admiralvaccine","admiral","admiral","admiral","admiralvaccine","admiraldev","admiral","admiral","admiraldev","admiraldev","admiraldev","admiral","admiral","admiralonco","admiral","admiraldev","admiraldev","admiral","admiral","admiral","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiraldev","admiralpeds","admiralpeds","admiralpeds","admiralpeds","admiralpeds","admiralpeds","admiralpeds","admiralpeds","admiralpeds","admiralpeds","admiral"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>topic<\/th>\n      <th>title<\/th>\n      <th>package<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"topic","targets":1},{"name":"title","targets":2},{"name":"package","targets":3}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="learn-more" class="level3">
<h3 class="anchored" data-anchor-id="learn-more">Learn More</h3>
<p>To learn more see the toy ‘admiralverse’ <a href="https://maurolepore.github.io/admiralverse">meta-package</a> – which models the main use case of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>GitHub - maurolepore/dverse: Document a Universe of Packages</template> <a href="https://github.com/maurolepore/dverse" class="r-link-pkg" target="_blank">{dverse}</a> </bslib-tooltip>.</p>
<p>You may also enjoy these videos:</p>
<ul>
<li>Creating a meta-package for the toy ‘admiralverse’ (<a href="https://youtu.be/ezVpsadSF7A">5’</a>).</li>
<li>Creating a website for the toy ‘admiralverse’ (<a href="https://youtu.be/VhmnADBDXv0">9’</a>).</li>
</ul>
<p>Was this useful? Do you want to <a href="https://github.com/maurolepore/dverse/issues">report bugs, propose changes or request features?</a>.</p>
<p><a href="https://www.linkedin.com/in/mauro-lepore/">Let’s connect</a>.</p>
<!--------------- appendices go here ----------------->
</section>
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:27:54.615588</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/zzz_DO_NOT_EDIT_document_yo.../document_your_universe_with_dverse.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{lepore2024,
  author = {Lepore, Mauro},
  title = {Creating a Better Universe with Dverse},
  date = {2024-12-13},
  url = {https://pharmaverse.github.io/blog/posts/2024-12-13_document_yo.../document_your_universe_with_dverse.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-lepore2024" class="csl-entry quarto-appendix-citeas">
Lepore, Mauro. 2024. <span>“Creating a Better Universe with
Dverse.”</span> December 13, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-12-13_document_yo.../document_your_universe_with_dverse.html">https://pharmaverse.github.io/blog/posts/2024-12-13_document_yo.../document_your_universe_with_dverse.html</a>.
</div></div></section></div> ]]></description>
  <category>Technical</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-12-13_document_yo.../document_your_universe_with_dverse.html</guid>
  <pubDate>Fri, 13 Dec 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-12-13_document_yo.../dverse.png" medium="image" type="image/png" height="129" width="144"/>
</item>
<item>
  <title>Introducing the aNCA Package for Automated Non-Compartmental Analysis</title>
  <dc:creator>Ercan Suekuer, Jana Spinner, Gerardo R</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-12-02_a_nca/a_nca.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p><img src="https://pharmaverse.github.io/blog/posts/2024-12-02_a_nca/aNCA_logo.png" align="center" style="float:right" width="25%"></p>
<section id="what-is-anca" class="level3">
<h3 class="anchored" data-anchor-id="what-is-anca">What is <a href="https://github.com/pharmaverse/aNCA">aNCA</a>?</h3>
<p>The <a href="https://github.com/pharmaverse/aNCA">aNCA</a> package is an open source tool developed in collaboration between Roche, Appsilon, and Human Predictions. This new addition to the <a href="https://pharmaverse.org/">pharmaverse</a> is designed to simplify Non-Compartmental Analysis (NCA), making it more accessible for all scientists across industries.</p>
</section>
<section id="the-anca-package-empowers-users-to" class="level3">
<h3 class="anchored" data-anchor-id="the-anca-package-empowers-users-to"><strong>The aNCA package empowers users to:</strong></h3>
<ul>
<li>Perform NCA on both non-clinical and clinical data</li>
<li>Automatically calculate PK parameters for various dosing regimens</li>
<li>Conduct manual selections and exclusions for lambda-z regression</li>
<li>Visualize results dynamically with editable plots and summary tables</li>
<li>Export PK parameters into a comprehensive, ready-to-use reports</li>
</ul>
<p>This tool is built using <code>shiny</code> with user-friendliness in mind, allowing both novice and experienced users to seamlessly integrate it into their workflows.</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-12-02_a_nca/aNCA_presentation.gif" align="center" width="85%"></p>
</section>
<section id="get-started" class="level3">
<h3 class="anchored" data-anchor-id="get-started"><strong>Get Started!</strong></h3>
<p>To try out the package, head to the <a href="https://github.com/pharmaverse/aNCA">GitHub</a> repository and follow the installation steps. There you can also find how to contribute or share feedback with us (don’t forget to star the project if you like it!). Let’s keep pushing the boundaries of open-source tools!</p>
<!--------------- appendices go here ----------------->
</section>
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:20.636384</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/zzz_DO_NOT_EDIT_a_nca/a_nca.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{suekuer,_jana_spinner,_gerardo_r2024,
  author = {Suekuer, Jana Spinner, Gerardo R, Ercan},
  title = {Introducing the {aNCA} {Package} for {Automated}
    {Non-Compartmental} {Analysis}},
  date = {2024-12-02},
  url = {https://pharmaverse.github.io/blog/posts/2024-12-02_a_nca/a_nca.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-suekuer,_jana_spinner,_gerardo_r2024" class="csl-entry quarto-appendix-citeas">
Suekuer, Jana Spinner, Gerardo R, Ercan. 2024. <span>“Introducing the
aNCA Package for Automated Non-Compartmental Analysis.”</span> December
2, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-12-02_a_nca/a_nca.html">https://pharmaverse.github.io/blog/posts/2024-12-02_a_nca/a_nca.html</a>.
</div></div></section></div> ]]></description>
  <category>Shiny</category>
  <category>ADaM</category>
  <category>TLG</category>
  <category>Submissions</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-12-02_a_nca/a_nca.html</guid>
  <pubDate>Mon, 02 Dec 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-12-02_a_nca/aNCA_logo.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>How I Rebuilt a Lost ECG Data Script in R</title>
  <dc:creator>Vladyslav Shuliar</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-10-31_how__i__reb.../how__i__rebuilt_a__lost__ec_g__data__script_in__r.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p>As a Data Science placement student at Roche UK, I was given an exciting opportunity to enhance my R programming skills while contributing to the open-source community. Under the guidance of my manager, Edoardo Mancini, I undertook a unique and challenging task within the {pharmaversesdtm} project that tested both my technical expertise and problem-solving abilities.</p>
<p>The project involved recreating the <code>eg</code> domain (Electrocardiogram data) from the SDTM datasets used within {pharmaversesdtm}. The original dataset had been sourced from the <a href="https://github.com/cdisc-org/sdtm-adam-pilot-project">CDISC pilot project</a>, but since that source was no longer available, we had no direct reference. Fortunately, a saved copy of the dataset still existed, allowing me to analyze it and attempt to reproduce it as closely as possible.</p>
<section id="how-i-solved-the-problem" class="level2">
<h2 class="anchored" data-anchor-id="how-i-solved-the-problem">How I Solved the Problem</h2>
<section id="explored-and-analyzed-the-data" class="level3">
<h3 class="anchored" data-anchor-id="explored-and-analyzed-the-data">Explored and Analyzed the Data</h3>
<p>The first step was to thoroughly explore the existing ECG dataset of over 25,000 entries. I needed to understand the structure and key variables that defined the dataset, such as the “one row for each patient’s test during each visit” format. By analyzing these elements, I was able to gain a clear picture of how the dataset was organized. I also examined the range of values, variance, and other characteristics of the tests to ensure that my recreated version would align with the original dataset’s structure and statistical properties.</p>
<p>To provide a clearer understanding of how the data is structured, let’s take a quick look at the information collected during a patient’s visit. Below is an example of data for patient <code>01-701-1015</code> during their <code>WEEK 2</code> visit:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 7
   USUBJID     EGTEST             VISIT  EGDTC      EGTPT EGSTRESN EGSTRESC
   &lt;chr&gt;       &lt;chr&gt;              &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;   
 1 01-701-1015 QT Duration        WEEK 2 2014-01-16 "1"        449 449     
 2 01-701-1015 QT Duration        WEEK 2 2014-01-16 "2"        511 511     
 3 01-701-1015 QT Duration        WEEK 2 2014-01-16 "3"        534 534     
 4 01-701-1015 Heart Rate         WEEK 2 2014-01-16 "1"         63 63      
 5 01-701-1015 Heart Rate         WEEK 2 2014-01-16 "2"         83 83      
 6 01-701-1015 Heart Rate         WEEK 2 2014-01-16 "3"         66 66      
 7 01-701-1015 RR Duration        WEEK 2 2014-01-16 "1"        316 316     
 8 01-701-1015 RR Duration        WEEK 2 2014-01-16 "2"        581 581     
 9 01-701-1015 RR Duration        WEEK 2 2014-01-16 "3"        570 570     
10 01-701-1015 ECG Interpretation WEEK 2 2014-01-16 ""          NA ABNORMAL</code></pre>
</div>
</div>
<p>In this example, <code>USUBJID</code> identifies the subject, while <code>EGTEST</code> specifies the type of ECG test performed. <code>VISIT</code> refers to the visit during which the test occurred, and <code>EGDTC</code> records the date of the test. <code>EGTPT</code> indicates the condition under which the ECG test was conducted. <code>EGSTRESN</code> provides the numeric result, and <code>EGSTRESC</code> gives the corresponding categorical result.</p>
</section>
<section id="wrote-the-new-r-script" class="level3">
<h3 class="anchored" data-anchor-id="wrote-the-new-r-script">Wrote the New R Script</h3>
<p>Armed with insights from my analysis, I set about writing a new R script to replicate the lost one. This involved a lot of trial and error, as I kept refining the code to ensure it generated a dataset that closely resembled the original ECG data in both structure and content. In order to give you, my reader, better understanding of the solution, I’ll walk you through the main parts of the script.</p>
<section id="loading-libraries-and-data" class="level4">
<h4 class="anchored" data-anchor-id="loading-libraries-and-data">Loading Libraries and Data</h4>
<p>To begin, I loaded the necessary libraries and read in the vital signs (<code>vs</code>) dataset, This dataset is functional to my cause because it has the same structure and schedule as the <code>eg</code> data, so I can recreate the <code>eg</code> visit schedule for each patient from it. By setting a seed for the random data generation, I ensured that the process was reproducible, allowing others to verify my results and maintain consistency in future analyses. Additionally, the metatools package was loaded to facilitate adding labels to the variables later, which enhanced the readability of the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(metatools)</span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(pharmaversesdtm)</span>
<span id="cb2-4"></span>
<span id="cb2-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vs"</span>)</span>
<span id="cb2-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">123</span>)</span></code></pre></div>
</div>
</section>
<section id="extracting-unique-datetime-of-measurements" class="level4">
<h4 class="anchored" data-anchor-id="extracting-unique-datetime-of-measurements">Extracting Unique Date/Time of Measurements</h4>
<p>Next, I extracted the unique combination of subject IDs, visit names, and visit dates from the <code>vs</code> dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">egdtc <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> vs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(USUBJID, VISIT, VSDTC) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">distinct</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">EGDTC =</span> VSDTC)</span>
<span id="cb3-5"></span>
<span id="cb3-6">egdtc</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,741 × 3
   USUBJID     VISIT               EGDTC     
   &lt;chr&gt;       &lt;chr&gt;               &lt;chr&gt;     
 1 01-701-1015 SCREENING 1         2013-12-26
 2 01-701-1015 SCREENING 2         2013-12-31
 3 01-701-1015 BASELINE            2014-01-02
 4 01-701-1015 AMBUL ECG PLACEMENT 2014-01-14
 5 01-701-1015 WEEK 2              2014-01-16
 6 01-701-1015 WEEK 4              2014-01-30
 7 01-701-1015 AMBUL ECG REMOVAL   2014-02-01
 8 01-701-1015 WEEK 6              2014-02-12
 9 01-701-1015 WEEK 8              2014-03-05
10 01-701-1015 WEEK 12             2014-03-26
# ℹ 2,731 more rows</code></pre>
</div>
</div>
<p>This data was used later to match the generated ECG data to the correct visit and time points.</p>
</section>
<section id="generating-a-grid-of-patient-data" class="level4">
<h4 class="anchored" data-anchor-id="generating-a-grid-of-patient-data">Generating a Grid of Patient Data</h4>
<p>Subsequently, I created a grid of all possible combinations of subject IDs, test codes (e.g., <code>QT</code>, <code>HR</code>, <code>RR</code>, <code>ECGINT</code>), time points (e.g., after lying down, after standing), and visits. These combinations represented different test results collected across multiple visits.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">eg <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">expand.grid</span>(</span>
<span id="cb5-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">USUBJID =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(vs<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>USUBJID),</span>
<span id="cb5-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">EGTESTCD =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"QT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ECGINT"</span>),</span>
<span id="cb5-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">EGTPT =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb5-5">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AFTER LYING DOWN FOR 5 MINUTES"</span>,</span>
<span id="cb5-6">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AFTER STANDING FOR 1 MINUTE"</span>,</span>
<span id="cb5-7">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AFTER STANDING FOR 3 MINUTES"</span></span>
<span id="cb5-8">  ),</span>
<span id="cb5-9">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">VISIT =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb5-10">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING 1"</span>,</span>
<span id="cb5-11">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING 2"</span>,</span>
<span id="cb5-12">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BASELINE"</span>,</span>
<span id="cb5-13">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AMBUL ECG PLACEMENT"</span>,</span>
<span id="cb5-14">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 2"</span>,</span>
<span id="cb5-15">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 4"</span>,</span>
<span id="cb5-16">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AMBUL ECG REMOVAL"</span>,</span>
<span id="cb5-17">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 6"</span>,</span>
<span id="cb5-18">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 8"</span>,</span>
<span id="cb5-19">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 12"</span>,</span>
<span id="cb5-20">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 16"</span>,</span>
<span id="cb5-21">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 20"</span>,</span>
<span id="cb5-22">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 24"</span>,</span>
<span id="cb5-23">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 26"</span>,</span>
<span id="cb5-24">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RETRIEVAL"</span></span>
<span id="cb5-25">  ), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stringsAsFactors =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span></span>
<span id="cb5-26">)</span>
<span id="cb5-27"></span>
<span id="cb5-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Filter the dataset for one subject and one visit</span></span>
<span id="cb5-29">filtered_eg <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> eg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-30">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(USUBJID <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-701-1015"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> VISIT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WEEK 2"</span>)</span>
<span id="cb5-31"></span>
<span id="cb5-32"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Display the result</span></span>
<span id="cb5-33">filtered_eg</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       USUBJID EGTESTCD                          EGTPT  VISIT
1  01-701-1015       QT AFTER LYING DOWN FOR 5 MINUTES WEEK 2
2  01-701-1015       HR AFTER LYING DOWN FOR 5 MINUTES WEEK 2
3  01-701-1015       RR AFTER LYING DOWN FOR 5 MINUTES WEEK 2
4  01-701-1015   ECGINT AFTER LYING DOWN FOR 5 MINUTES WEEK 2
5  01-701-1015       QT    AFTER STANDING FOR 1 MINUTE WEEK 2
6  01-701-1015       HR    AFTER STANDING FOR 1 MINUTE WEEK 2
7  01-701-1015       RR    AFTER STANDING FOR 1 MINUTE WEEK 2
8  01-701-1015   ECGINT    AFTER STANDING FOR 1 MINUTE WEEK 2
9  01-701-1015       QT   AFTER STANDING FOR 3 MINUTES WEEK 2
10 01-701-1015       HR   AFTER STANDING FOR 3 MINUTES WEEK 2
11 01-701-1015       RR   AFTER STANDING FOR 3 MINUTES WEEK 2
12 01-701-1015   ECGINT   AFTER STANDING FOR 3 MINUTES WEEK 2</code></pre>
</div>
</div>
<p>In order to demonstrate the data more clearly, I have displayed the combinations for only one subject and one visit for you to see, as the full table is very large. Each of these test codes corresponds to specific ECG measurements: <code>QT</code> refers to the QT interval (a measurement made on an electrocardiogram used to assess some of the electrical properties of the heart), <code>HR</code> represents heart rate, <code>RR</code> is the interval between R waves, and <code>ECGINT</code> refers to the ECG interpretation.</p>
<p>As I analyzed the original ECG dataset, I learned more about these test codes and their relevance to the clinical data.</p>
</section>
<section id="generating-random-test-results" class="level4">
<h4 class="anchored" data-anchor-id="generating-random-test-results">Generating Random Test Results</h4>
<p>For each combination in the grid, I generated random test results using a normal distribution to simulate realistic values for each test code. To determine the means and standard deviations, I used the original EG dataset as a reference. By analyzing the range and distribution of values in the original dataset, I was able to extract realistic means and standard deviations for each numerical ECG test (<code>QT</code>, <code>HR</code>, <code>RR</code>).</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">EGSTRESN <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">case_when</span>(</span>
<span id="cb7-2">EGTESTCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RR"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> EGELTM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT5M"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">floor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">543.9985</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">80</span>)),</span>
<span id="cb7-3">EGTESTCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RR"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> EGELTM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT3M"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">floor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">536.0161</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">80</span>)),</span>
<span id="cb7-4">EGTESTCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RR"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> EGELTM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT1M"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">floor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">532.3233</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">80</span>)),</span>
<span id="cb7-5">EGTESTCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HR"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> EGELTM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT5M"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">floor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">70.04389</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)),</span>
<span id="cb7-6">EGTESTCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HR"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> EGELTM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT3M"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">floor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">74.27798</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)),</span>
<span id="cb7-7">EGTESTCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HR"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> EGELTM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT1M"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">floor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">74.77461</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)),</span>
<span id="cb7-8">EGTESTCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"QT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> EGELTM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT5M"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">floor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">450.9781</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>)),</span>
<span id="cb7-9">EGTESTCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"QT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> EGELTM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT3M"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">floor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">457.7265</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>)),</span>
<span id="cb7-10">EGTESTCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"QT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> EGELTM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT1M"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">floor</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">n</span>(), <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">455.3394</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>))</span>
<span id="cb7-11">)</span></code></pre></div>
<p>This approach ensured that the synthetic data aligned closely with the patterns and variability observed in the original clinical data.</p>
</section>
<section id="finalizing-the-dataset" class="level4">
<h4 class="anchored" data-anchor-id="finalizing-the-dataset">Finalizing the Dataset</h4>
<p>Finally, I added labels to the dataframe for easier analysis and future use by utilizing the <code>metatools::add_labels()</code> function.</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">add_labels</span>(</span>
<span id="cb8-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">STUDYID =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Study Identifier"</span>,</span>
<span id="cb8-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">USUBJID =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Unique Subject Identifier"</span>,</span>
<span id="cb8-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">EGTEST =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ECG Test Name"</span>,</span>
<span id="cb8-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">VISIT =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Visit Name"</span>,</span>
<span id="cb8-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">EGSTRESC =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Character Result/Finding in Std Format"</span>,</span>
<span id="cb8-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">EGSTRESN =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Numeric Result/Finding in Standard Units"</span>,</span>
<span id="cb8-8"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>etc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span></span>
<span id="cb8-9">)</span></code></pre></div>
<p>This provided descriptive names for each column in the dataset, making it more intuitive to understand the data during analysis and ensuring clarity in its subsequent use.</p>
</section>
<section id="limitations" class="level4">
<h4 class="anchored" data-anchor-id="limitations">Limitations</h4>
<p>However, this approach has certain limitations. One key issue is that the simulations do not account for the time structure, as each observation is generated independently (i.i.d.), which does not reflect real-world dynamics. Additionally, sampling from a normal distribution may not always be appropriate and can sometimes yield unrealistic results, such as negative heart rate (HR) values. To mitigate this, I manually reviewed the generated data to ensure that only plausible values were included. Below are the valid ranges I established for this purpose:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Filter the data for the relevant test codes (QT, RR, HR)</span></span>
<span id="cb9-2">eg_filtered <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pharmaversesdtm<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>eg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb9-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(EGTESTCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"QT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HR"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RR"</span>))</span>
<span id="cb9-4"></span>
<span id="cb9-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Display the minimum and maximum values for each test code</span></span>
<span id="cb9-6">value_ranges <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> eg_filtered <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb9-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(EGTESTCD) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb9-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarize</span>(</span>
<span id="cb9-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">min_value =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(EGSTRESN, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb9-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">max_value =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(EGSTRESN, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb9-11">  )</span>
<span id="cb9-12"></span>
<span id="cb9-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Show the result</span></span>
<span id="cb9-14">value_ranges</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  EGTESTCD min_value max_value
  &lt;fct&gt;        &lt;dbl&gt;     &lt;dbl&gt;
1 QT             242       671
2 HR              40       107
3 RR             236       889</code></pre>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level3">
<h3 class="anchored" data-anchor-id="conclusion">Conclusion</h3>
<p>This project not only sharpened my R programming skills but also provided invaluable experience in reverse-engineering data, analyzing large healthcare datasets, and tackling real-world challenges in the open-source domain. By following a structured approach, I was able to successfully recreate the <code>EG</code> dataset synthetically, ensuring it mirrors realistic clinical data. This achievement not only enhances my technical capabilities but also contributes to the broader open-source community, as the synthetic dataset will be featured in the next release of {pharmaversesdtm}, offering a valuable resource for future research and development.</p>
<!--------------- appendices go here ----------------->
</section>
</section>
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:27:00.332978</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/zzz_DO_NOT_EDIT_how__i__reb.../how__i__rebuilt_a__lost__ec_g__data__script_in__r.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{shuliar2024,
  author = {Shuliar, Vladyslav},
  title = {How {I} {Rebuilt} a {Lost} {ECG} {Data} {Script} in {R}},
  date = {2024-10-31},
  url = {https://pharmaverse.github.io/blog/posts/2024-10-31_how__i__reb.../how__i__rebuilt_a__lost__ec_g__data__script_in__r.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-shuliar2024" class="csl-entry quarto-appendix-citeas">
Shuliar, Vladyslav. 2024. <span>“How I Rebuilt a Lost ECG Data Script in
R.”</span> October 31, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-10-31_how__i__reb.../how__i__rebuilt_a__lost__ec_g__data__script_in__r.html">https://pharmaverse.github.io/blog/posts/2024-10-31_how__i__reb.../how__i__rebuilt_a__lost__ec_g__data__script_in__r.html</a>.
</div></div></section></div> ]]></description>
  <category>SDTM</category>
  <category>Technical</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-10-31_how__i__reb.../how__i__rebuilt_a__lost__ec_g__data__script_in__r.html</guid>
  <pubDate>Thu, 31 Oct 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-10-31_how__i__reb.../pharmaversesdtm.png" medium="image" type="image/png" height="147" width="144"/>
</item>
<item>
  <title>Introducing sdtm.oak</title>
  <dc:creator>Rammprasad Ganapathy</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-10-24_introducing.../introducing_sdtm.oak.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> v0.1 is now available on <a href="https://cran.r-project.org/web/packages/sdtm.oak/index.html">CRAN</a>. In this blog post, we will introduce the package, key concepts, and examples. <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> is developed in collaboration with volunteers from several companies, including Roche, Pfizer, GSK, Pattern Institute, Transition Technologies Science, and Atorus Research. <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> is also sponsored by <a href="https://www.cdisc.org/cosa">CDISC COSA</a> with a vision of being part of <a href="https://www.cdisc.org/cdisc-360">CDISC 360</a> to address end-to-end standards development and implementation.</p>
<section id="filling-the-gap" class="level1">
<h1>Filling the Gap</h1>
<p><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> package addresses a critical gap in the pharmaverse suite by enabling study programmers to create SDTM datasets in R, complementing the existing capabilities for ADaM, TLGs, eSubmission, etc.</p>
<p>Let’s explore the challenges with SDTM programming. Although SDTM is simpler with less complex derivations compared to ADaM, it presents unique challenges. Unlike ADaM, which uses SDTM datasets as its source with a well-defined structure, SDTM relies on raw datasets as input. These raw datasets can vary widely in structure, depending on the data collection and EDC (Electronic Data Capture) system used. Even the same eCRF (electronic Case Report Form), when designed in different EDC systems, can produce raw datasets with different structures.</p>
<p>Another challenge is the variability in data collection standards. Although CDISC has established CDASH data collection standards, many pharmaceutical companies have their own standards, which can differ significantly from CDASH. Additionally, since CDASH is not mandated by the FDA, sponsors can choose the data collection standards that best fit their needs.</p>
<p>There are hundreds of EDC systems available in the marketplace, and the data collection standards vary significantly. Creating a single open-source package to work with all sorts of raw data formats and data collection standards seemed impossible. But here’s the good news: not anymore! The <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> team has a solution to address this challenge.</p>
<p><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> is designed to be highly versatile, accommodating varying raw data structures from different EDC systems and external vendors. Moreover, <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> is data standards agnostic, meaning it supports both CDISC-defined data collection standards (CDASH) and various proprietary data collection standards defined by pharmaceutical companies. The reusable algorithms concept in <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> provides a framework for modular programming, making it a valuable addition to the pharmaverse ecosystem.</p>
</section>
<section id="edc-data-standards-agnostic" class="level1">
<h1>EDC &amp; Data standards agnostic</h1>
<p>We adopted the following innovative approach to make <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> adaptable to various EDC systems and data collection standards:</p>
<ul>
<li>SDTM mappings are categorized as algorithms and developed as R functions.</li>
<li>Used datasets and variables are specified as arguments to function calls.</li>
</ul>
</section>
<section id="algorithms" class="level1">
<h1>Algorithms</h1>
<p>The SDTM mappings that transform the collected source data (eDT: External Data Transfer) into the target SDTM data model are grouped into algorithms. These mapping algorithms form the backbone of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip>.</p>
<p>Key Points: * Algorithms can be re-used across multiple SDTM domains. * Programming language agnostic: This concept does not rely on a specific programming language for implementation.</p>
<p>The <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> package includes R functions to handle these algorithms.</p>
<p>Some of the basic algorithms are below, also explaining how these algorithms can be used across multiple domains.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 2%">
<col style="width: 57%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Algorithm.Name</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">assign_no_ct</td>
<td style="text-align: left;">One-to-one mapping between the raw source and a target SDTM variable that has no controlled terminology restrictions. Just a simple assignment statement.</td>
<td style="text-align: left;">MH.MHTERM<br> AE.AETERM</td>
</tr>
<tr class="even">
<td style="text-align: left;">assign_ct</td>
<td style="text-align: left;">One-to-one mapping between the raw source and a target SDTM variable that is subject to controlled terminology restrictions. A simple assign statement and applying controlled terminology. This will be used only if the SDTM variable has an associated controlled terminology.</td>
<td style="text-align: left;">VS.VSPOS<br> VS.VSLAT</td>
</tr>
<tr class="odd">
<td style="text-align: left;">assign_datetime</td>
<td style="text-align: left;">One-to-one mapping between the raw source and a target that involves mapping a Date or time or datetime component. This mapping algorithm also takes care of handling unknown dates and converting them into. ISO8601 format.</td>
<td style="text-align: left;">MH.MHSTDTC<br> AE.AEENDTC</td>
</tr>
<tr class="even">
<td style="text-align: left;">hardcode_ct</td>
<td style="text-align: left;">Mapping a hardcoded value to a target SDTM variable that is subject to terminology restrictions. This will be used only if the SDTM variable has an associated controlled terminology.</td>
<td style="text-align: left;">MH.MHPRESP = ‘Y’<br> <br>VS.VSTEST = ‘Systolic Blood Pressure’<br> <br>VS.VSORRESU = ‘mmHg’<br></td>
</tr>
<tr class="odd">
<td style="text-align: left;">hardcode_no_ct</td>
<td style="text-align: left;">Mapping a hardcoded value to a target SDTM variable that has no terminology restrictions.</td>
<td style="text-align: left;">FA.FASCAT = ‘COVID-19 PROBABLE CASE’<br> <br>CM.CMTRT = ‘FLUIDS’</td>
</tr>
<tr class="even">
<td style="text-align: left;">condition_add</td>
<td style="text-align: left;">Algorithm that is used to filter the source data and/or target domain based on a condition. The mapping will be applied only if the condition is met. This algorithm has to be used in conjunction with other algorithms, that is if the condition is met perform the mapping using algorithms like assign_ct, assign_no_ct, hardcode_ct, hardcode_no_ct, assign_datetime.</td>
<td style="text-align: left;">If If MDPRIOR == 1 then CM.CMSTRTPT = ‘BEFORE’.<br> <br>VS.VSMETHOD when VSTESTCD = ‘TEMP’<br> <br>If collected value in raw variable DOS is numeric then CM.CMDOSE<br> <br>If collected value in raw variable MOD is different to CMTRT then map to CM.CMMODIFY</td>
</tr>
</tbody>
</table>
<p>Here is an example of reusing an algorithm across multiple domains, variables, and also to a non-standard mapping</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-10-24_introducing.../reusable_algorithms.jpg" class="img-fluid" width="600"></p>
</section>
<section id="functions-and-arguments" class="level1">
<h1>Functions and Arguments</h1>
<p>All the aforementioned algorithms are implemented as R functions, each accepting the raw dataset, raw variable, target SDTM dataset, and target SDTM variable as parameters.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(sdtm.oak)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb1-3"></span>
<span id="cb1-4">cm_raw <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tibble<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb1-5">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>oak_id, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>raw_source, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>patient_number, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>MDRAW, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>DOSU, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>MDPRIOR,</span>
<span id="cb1-6">  <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>L, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm_raw"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">375</span>L, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BABY ASPIRIN"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mg"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>L,</span>
<span id="cb1-7">  <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>L, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm_raw"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">375</span>L, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CORTISPORIN"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gram"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>L,</span>
<span id="cb1-8">  <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>L, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm_raw"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">376</span>L, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ASPIRIN"</span>, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>L</span>
<span id="cb1-9">)</span>
<span id="cb1-10"></span>
<span id="cb1-11">study_ct <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tibble<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb1-12">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>codelist_code, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>term_code, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>term_value, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>collected_value, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>term_preferred_term, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>term_synonyms,</span>
<span id="cb1-13">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C71620"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C25613"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Percentage"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Percentage"</span>,</span>
<span id="cb1-14">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C71620"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C28253"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mg"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mg"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Milligram"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Milligram"</span>,</span>
<span id="cb1-15">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C71620"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C48155"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"g"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"g"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gram"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gram"</span></span>
<span id="cb1-16">)</span>
<span id="cb1-17"></span>
<span id="cb1-18">cm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span></span>
<span id="cb1-19">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Derive topic variable</span></span>
<span id="cb1-20">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SDTM Mapping - Map the collected value to CM. CMTRT</span></span>
<span id="cb1-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">assign_no_ct</span>(</span>
<span id="cb1-22">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">raw_dat =</span> cm_raw,</span>
<span id="cb1-23">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">raw_var =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MDRAW"</span>,</span>
<span id="cb1-24">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">tgt_var =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CMTRT"</span></span>
<span id="cb1-25">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-26">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Derive qualifier CMDOSU</span></span>
<span id="cb1-27">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SDTM Mapping - Map the collected value to CM. CMDOSU</span></span>
<span id="cb1-28">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">assign_ct</span>(</span>
<span id="cb1-29">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">raw_dat =</span> cm_raw,</span>
<span id="cb1-30">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">raw_var =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DOSU"</span>,</span>
<span id="cb1-31">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">tgt_var =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CMDOSU"</span>,</span>
<span id="cb1-32">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ct_spec =</span> study_ct,</span>
<span id="cb1-33">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ct_clst =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C71620"</span>,</span>
<span id="cb1-34">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">oak_id_vars</span>()</span>
<span id="cb1-35">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-36">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Derive qualifier CMSTTPT</span></span>
<span id="cb1-37">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SDTM mapping - If MDPRIOR == 1 then CM.CMSTTPT = 'SCREENING'</span></span>
<span id="cb1-38">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hardcode_no_ct</span>(</span>
<span id="cb1-39">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">raw_dat =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">condition_add</span>(cm_raw, MDPRIOR <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>),</span>
<span id="cb1-40">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">raw_var =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MDPRIOR"</span>,</span>
<span id="cb1-41">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">tgt_var =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CMSTTPT"</span>,</span>
<span id="cb1-42">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">tgt_val =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCREENING"</span>,</span>
<span id="cb1-43">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">oak_id_vars</span>()</span>
<span id="cb1-44">  )</span></code></pre></div>
</div>
<p>As you can see in this function call, the raw dataset and variable names are passed as arguments. As long as the raw dataset and variable are present in the global environment, the function will execute the algorithm’s logic and create the target SDTM variable.</p>
<p><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> is designed to handle any type of raw input format. It is not tied to any specific data collection standards, making it both EDC-agnostic and data standards-agnostic.</p>
</section>
<section id="why-not-use-dplyr" class="level1">
<h1>Why not use dplyr?</h1>
<p>As you can see from the definition of the algorithms, all of them are a form of {<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Create, modify, and delete columns — mutate • dplyr</template> <a href="https://dplyr.tidyverse.org/reference/mutate.html" class="r-link-call" target="_blank">mutate()</a> </bslib-tooltip>} statement. However, these functions provide a way to pass dataset and variable names as arguments and the ability to merge with the previous step by id variables. This enables users to build the code in a modular and simplistic fashion, mapping one SDTM variable at a time, connected by pipes.</p>
<p>The SDTM mappings can also be used together in a single step, such as applying a filter condition, executing a mapping, and merging the outcome with the previous step. When there is a need to apply controlled terminology, the algorithms perform additional checks, such as verifying the presence of the value in the study’s controlled terminology specification, which is passed as an argument to the function call. If the collected value is present, it applies the standard submission value.</p>
<p>While all these functionalities can be achieved with <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>A Grammar of Data Manipulation • dplyr</template> <a href="https://dplyr.tidyverse.org" class="r-link-pkg" target="_blank">{dplyr}</a> </bslib-tooltip>, the functions provided by <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> simplify the process and enhance efficiency. By leveraging metadata and controlled terminology, we further minimize errors and offer a modular approach to building SDTM datasets.</p>
</section>
<section id="oak_id_vars" class="level1">
<h1><code>oak_id_vars</code></h1>
<p>The <code>oak_id_vars</code> is a crucial link between the raw datasets and the mapped SDTM domain. As the user derives each SDTM variable, it is merged with the corresponding topic variable using <code>oak_id_vars</code>. In <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip>, the variables <code>oak_id</code>, <code>raw_source</code>, and <code>patient_number</code> are considered <code>oak_id_vars</code>. These three variables must be added to all raw datasets. Users can also extend this with any additional id vars.<code>oak_id_vars</code> can be added to the raw datasets using the function {<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>A function to generate oak_id_vars — generate_oak_id_vars • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/reference/generate_oak_id_vars.html" class="r-link-call" target="_blank">generate_oak_id_vars()</a> </bslib-tooltip>}.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 13%">
<col style="width: 65%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Varialble</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">oak_id</td>
<td style="text-align: left;">Numeric</td>
<td style="text-align: left;">The row number of the raw dataframe</td>
</tr>
<tr class="even">
<td style="text-align: left;">raw_source</td>
<td style="text-align: left;">Character</td>
<td style="text-align: left;">The raw dataset (eCRF) name or eDT dataset name</td>
</tr>
<tr class="odd">
<td style="text-align: left;">patient_number</td>
<td style="text-align: left;">Numeric</td>
<td style="text-align: left;">Subject number in eCRF or eDT data source</td>
</tr>
</tbody>
</table>
</section>
<section id="in-this-release" class="level1">
<h1>In this Release</h1>
<p>The v0.1.0 release of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>SDTM Data Transformation Engine • sdtm.oak</template> <a href="https://pharmaverse.github.io/sdtm.oak/" class="r-link-pkg" target="_blank">{sdtm.oak}</a> </bslib-tooltip> users can create the majority of the SDTM domains. Domains that are NOT in scope for the v0.1.0 release are DM (Demographics), Trial Design Domains, SV (Subject Visits), SE (Subject Elements), RELREC (Related Records), Associated Person domains, creation of SUPP domain, and EPOCH variable across all domains.</p>
</section>
<section id="roadmap" class="level1">
<h1>Roadmap</h1>
<p>We are planning to develop the below features in the subsequent releases.</p>
<ul>
<li>Functions required to derive reference date variables in the DM domain.<br>
</li>
<li>Metadata driven automation based on the standardized SDTM specification.<br>
</li>
<li>Functions required to program the EPOCH variable.<br>
</li>
<li>Functions to derive standard units and results based on metadata.<br>
</li>
<li>Functions required to create SUPP domains.<br>
</li>
<li>Making the algorithms part of the standard CDISC eCRF portal enabling automation of CDISC standard eCRFs.</li>
</ul>
</section>
<section id="get-involved" class="level1">
<h1>Get Involved</h1>
<p>Please try the package and provide us with your feedback, or get involved in the development of new features. We can be reached through any of the following means:</p>
<p>Slack: <a href="https://oakgarden.slack.com">https://oakgarden.slack.com</a><br>
GitHub: <a href="https://github.com/pharmaverse/sdtm.oak">https://github.com/pharmaverse/sdtm.oak</a><br>
CDISC Wiki: <a href="https://wiki.cdisc.org/display/oakgarden">https://wiki.cdisc.org/display/oakgarden</a></p>
<!--------------- appendices go here ----------------->
<div class="cell">
<div class="cell-output-display">


</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:02.962669</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/zzz_DO_NOT_EDIT_introducing.../introducing_sdtm.oak.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{ganapathy2024,
  author = {Ganapathy, Rammprasad},
  title = {Introducing Sdtm.oak},
  date = {2024-10-24},
  url = {https://pharmaverse.github.io/blog/posts/2024-10-24_introducing.../introducing_sdtm.oak.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-ganapathy2024" class="csl-entry quarto-appendix-citeas">
Ganapathy, Rammprasad. 2024. <span>“Introducing Sdtm.oak.”</span>
October 24, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-10-24_introducing.../introducing_sdtm.oak.html">https://pharmaverse.github.io/blog/posts/2024-10-24_introducing.../introducing_sdtm.oak.html</a>.
</div></div></section></div> ]]></description>
  <category>SDTM</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-10-24_introducing.../introducing_sdtm.oak.html</guid>
  <pubDate>Thu, 24 Oct 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-10-24_introducing.../sdtmoak.png" medium="image" type="image/png" height="148" width="144"/>
</item>
<item>
  <title>The Tension of High-Performance Computing: Reproducibility vs. Parallelization</title>
  <dc:creator>Alexandros Kouretsis</dc:creator>
  <dc:creator>APPSILON </dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-10-16_the__tensio.../the__tension_of__high-_performance__computing:__reproducibility_vs.__parallelization.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<section id="harnessing-hpc-for-drug-development" class="level2">
<h2 class="anchored" data-anchor-id="harnessing-hpc-for-drug-development">Harnessing HPC for Drug Development</h2>
<p>In pharmaceutical research, high-performance computing (HPC) plays a pivotal role in driving advancements in drug discovery and development. From analyzing vast genomic datasets to simulating drug interactions across diverse populations, HPC enables researchers to tackle complex computational tasks at high speeds. As pharmaceutical research becomes increasingly data-driven, the need for powerful computational tools has grown, allowing for more accurate predictions, faster testing, and more efficient processes. However, with the growing complexity and scale of these computations, ensuring reproducibility of results becomes a significant challenge.</p>
<p>In this blog post, we will explore common reproducibility challenges in drug development and simulations, using the <a href="https://shikokuchuo.net/mirai/"><code>{mirai}</code></a> package as a backend solution to manage parallelization.</p>
</section>
<section id="the-problem-reproducibility-in-parallel-processing" class="level2">
<h2 class="anchored" data-anchor-id="the-problem-reproducibility-in-parallel-processing">The Problem: Reproducibility in Parallel Processing</h2>
<p>Imagine a research team working on a cutting-edge drug development project. To process and analyze vast amounts of data efficiently, they leverage parallel processing, distributing tasks across multiple processors. This approach significantly accelerates their work, enabling them to handle large datasets and complex computations in a fraction of the time.</p>
<p>However, the team soon encounters an issue. Each time they rerun the same processing tasks with identical input parameters, the results differ slightly. This raises a major concern: <em>the results are not reproducible.</em> In industries like pharmaceuticals, where accuracy and consistency are critical, reproducibility is not just important—it’s a regulatory requirement.</p>
<p>For example, in large-scale Monte Carlo simulations, small differences can arise not only from changes in execution order across processors but also from inconsistencies between workers or difficulties in maintaining synchronized random number generation (RNG) streams. Furthermore, the more complex the environment—with multiple components such as distributed workers, different hardware, or varying system configurations—the harder it becomes to reprovision the exact same environment and repeat the computations exactly. As these variations accumulate, ensuring consistent and reproducible results becomes a significant challenge in data-driven research.</p>
<section id="tracking-operations-in-parallel-computing" class="level3">
<h3 class="anchored" data-anchor-id="tracking-operations-in-parallel-computing">Tracking Operations in Parallel Computing</h3>
<p>Let’s explore a simple scenario where parallelization creates confusion in tracking operations due to the asynchronous nature of task execution and logging. For this, we will also use the <a href="https://github.com/elbersb/tidylog"><code>{tidylog}</code></a> package, which tracks and logs <code>{dplyr}</code> operations, providing insight into how the computations are executed across multiple workers.</p>
<p>We’ll create our workflow in a script and run it using the <code>{logrx}</code> package from Pharmaverse. The workflow will be written as an expression using <code>base::substitute()</code>, which will help generate the complete script. In our example, we’ll start four daemons. A daemon is a background process that runs in the background continuously and handles specific computing tasks.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">mirai_workflow <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substitute</span>({</span>
<span id="cb1-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mirai"</span>)</span>
<span id="cb1-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dplyr"</span>)</span>
<span id="cb1-4"></span>
<span id="cb1-5">  log_file <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tempfile</span>()</span>
<span id="cb1-6"></span>
<span id="cb1-7">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># start parallel workers</span></span>
<span id="cb1-8">  mirai<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">daemons</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span>
<span id="cb1-9"></span>
<span id="cb1-10">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># load libraries on each worker and set up logging to a file</span></span>
<span id="cb1-11">  mirai<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">everywhere</span>(</span>
<span id="cb1-12">    {</span>
<span id="cb1-13">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dplyr"</span>)</span>
<span id="cb1-14">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tidylog"</span>)</span>
<span id="cb1-15"></span>
<span id="cb1-16">      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Define function to log messages to the log file</span></span>
<span id="cb1-17">      log_to_file <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> \(txt) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(txt, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">file =</span> log_file, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">append =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb1-18">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">options</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tidylog.display"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(message, log_to_file))</span>
<span id="cb1-19">    },</span>
<span id="cb1-20">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">log_file =</span> log_file</span>
<span id="cb1-21">  )</span>
<span id="cb1-22"></span>
<span id="cb1-23">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># perform computations in parallel</span></span>
<span id="cb1-24">  m <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mirai_map</span>(letters[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>], \(x) {</span>
<span id="cb1-25">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.rows =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"{x}"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))</span>
<span id="cb1-26">  })</span>
<span id="cb1-27"></span>
<span id="cb1-28">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># collect results</span></span>
<span id="cb1-29">  result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> m[] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bind_cols</span>()</span>
<span id="cb1-30"></span>
<span id="cb1-31">  mirai<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">daemons</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb1-32"></span>
<span id="cb1-33">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(</span>
<span id="cb1-34">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(</span>
<span id="cb1-35">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">logs =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readLines</span>(log_file),</span>
<span id="cb1-36">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">result =</span> result</span>
<span id="cb1-37">    )</span>
<span id="cb1-38">  )</span>
<span id="cb1-39">})</span></code></pre></div>
</div>
<p>In the above code chunk, we set up a parallel processing environment using the <code>{mirai}</code> package. The function <code>mirai_map()</code> is used to apply a mutating function in parallel to a tibble for each element of <code>letters</code>, logging the operations to a file using the <code>{tidylog}</code> package. However, while we can log each operation as it happens, due to the parallel nature of <code>{mirai}</code>, the logging does not occur in a controlled or sequential order. <em>Each daemon executes its task independently, and the order of logging in the file will depend on the completion times of these parallel processes rather than the intended flow of operations.</em></p>
<blockquote class="blockquote">
<p>Parallel computations can obscure the traceability of operations</p>
</blockquote>
<p>This lack of control can lead to a situation where the log entries do not reflect the actual sequence in which the <code>{dplyr}</code> commands were expected to be processed. Although the operations themselves are carried out correctly, the asynchronous logging may create challenges in <em>tracing</em> and <em>debugging</em> the process, as entries in the log file could appear out of order, giving an incomplete or misleading representation of the task flow.</p>
<p>Let’s first save the code to an R script called <code>mirai_workflow.R</code>. This step helps ensure that the execution can be properly tracked and documented:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">mirai_workflow <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">deparse</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">writeLines</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mirai_workflow.R"</span>)</span></code></pre></div>
</div>
<p>Next, we execute the script using <code>logrx::axecute()</code>, which not only runs the workflow but also logs key metadata and outputs for enhanced traceability and reproducibility:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">logrx<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">axecute</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mirai_workflow.R"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">to_report =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"result"</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>$logs
[1] "mutate: new variable 'a' (integer) with one unique value and 0% NA"
[2] "mutate: new variable 'c' (integer) with one unique value and 0% NA"
[3] "mutate: new variable 'b' (integer) with one unique value and 0% NA"
[4] "mutate: new variable 'e' (integer) with one unique value and 0% NA"
[5] "mutate: new variable 'd' (integer) with one unique value and 0% NA"

$result
  a  b  c  d  e
1 8 25 86 43 46</code></pre>
</div>
</div>
<p>Upon examining the log file generated, you’ll notice that the entries are not in the same order as the commands were dispatched. This illustrates the inherent difficulty in maintaining a consistent logging sequence for parallel tasks, especially since the timing of each process completion and log recording is unpredictable.</p>
<p>Additionally, it is worth noting that <code>logrx</code> does not capture the logging performed by <code>{tidylog}</code> during the execution of tasks on <code>{mirai}</code> daemons. This is because the daemons run as independent R processes, and the logging messages are not propagated back to the parent process in a straightforward manner. As described in <code>{mirai}</code>’s documentation, daemons are responsible for handling tasks asynchronously, and messages logged within these processes do not automatically integrate into the parent session. Therefore, we access <code>{tidylog}</code> messages indirectly, by reading the dedicated log file (<code>log_file</code>) that each worker writes to during execution.</p>
</section>
<section id="task-dispatching-and-rng-management" class="level3">
<h3 class="anchored" data-anchor-id="task-dispatching-and-rng-management">Task Dispatching and RNG Management</h3>
<p>By default, <code>{mirai}</code> uses an advanced dispatcher to manage task distribution efficiently, scheduling tasks in a First-In-First-Out manner and leveraging <a href="https://shikokuchuo.net/nanonext/"><code>{nanonext}</code></a> primitives for zero-latency, resource-free task management. However, its asynchronous execution can hinder reproducibility, especially with random number generation (RNG) or tasks needing strict order.</p>
<p>To enhance reproducibility, <code>{mirai}</code> allows disabling the dispatcher which usually decides the order in which tasks are run. Instead, it connects directly to the workers one by one in a simple order (see <a href="https://en.wikipedia.org/wiki/Round-robin_scheduling">round-robin</a>). While less efficient, this approach provides greater control over task execution and is better suited for ensuring reproducibility by initializing <a href="doi:10.1287/opre.47.1.159">L’Ecuyer-CMRG RNG streams</a>.</p>
<p>In the following example, we simulate drug efficacy across different patient cohorts using parallel processing with the <code>{mirai}</code> package. We define three cohorts, each with a different mean drug effect and standard deviation, and initialize four daemons to handle the computations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(mirai)</span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">warn.conflicts =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb5-3"></span>
<span id="cb5-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Parameters for the simulation</span></span>
<span id="cb5-5">cohorts <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb5-6">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>patient_count, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>mean_effect, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>sd_effect,</span>
<span id="cb5-7">  <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>,           <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>,          <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>,</span>
<span id="cb5-8">  <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>,           <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.65</span>,         <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.15</span>,</span>
<span id="cb5-9">  <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>,           <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.75</span>,         <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span></span>
<span id="cb5-10">)</span>
<span id="cb5-11"></span>
<span id="cb5-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Start daemons with consistent RNG streams</span></span>
<span id="cb5-13">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> mirai<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">daemons</span>(</span>
<span id="cb5-14">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>,</span>
<span id="cb5-15">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dispatcher =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># For mirai versions below 1.3.0, use dispatcher = FALSE</span></span>
<span id="cb5-16">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">seed =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">123</span></span>
<span id="cb5-17">)</span>
<span id="cb5-18"></span>
<span id="cb5-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Parallel simulation for each row of the cohorts table</span></span>
<span id="cb5-20">m <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> mirai<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mirai_map</span>(cohorts, \(patient_count, mean_effect, sd_effect) {</span>
<span id="cb5-21">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb5-22">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">patient_id =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>patient_count,</span>
<span id="cb5-23">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">efficacy =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(patient_count, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> mean_effect, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> sd_effect)</span>
<span id="cb5-24">  )</span>
<span id="cb5-25">})</span>
<span id="cb5-26"></span>
<span id="cb5-27">results <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> m[] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bind_rows</span>()</span>
<span id="cb5-28"></span>
<span id="cb5-29">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> mirai<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">daemons</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dispatcher =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>)</span>
<span id="cb5-30"></span>
<span id="cb5-31">results <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-32">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(patient_id) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-33">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(</span>
<span id="cb5-34">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean_efficacy =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(efficacy),</span>
<span id="cb5-35">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd_efficacy =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(efficacy)</span>
<span id="cb5-36">  )</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,000 × 3
   patient_id mean_efficacy sd_efficacy
        &lt;int&gt;         &lt;dbl&gt;       &lt;dbl&gt;
 1          1         0.629      0.0632
 2          2         0.809      0.0421
 3          3         0.706      0.163 
 4          4         0.765      0.105 
 5          5         0.778      0.0574
 6          6         0.629      0.0582
 7          7         0.854      0.142 
 8          8         0.579      0.107 
 9          9         0.662      0.103 
10         10         0.718      0.0386
# ℹ 990 more rows</code></pre>
</div>
</div>
<p>We used <code>tribble()</code> to define the simulation parameters and initialize 4 daemons with <code>dispatcher = "none"</code> and a fixed seed to ensure consistent random number generation across tasks. The <code>mirai_map()</code> function parallelizes the drug efficacy simulation, and the results are combined using <code>bind_rows()</code> for further analysis.</p>
<p>Disabling the dispatcher gives more control over task execution, ensuring reproducibility. If you repeat the computation you will notice that it generates consistent results. However, this approach comes at a cost. Disabling the dispatcher may lead to inefficient resource utilization when tasks are unevenly distributed, as some daemons may remain idle. While reproducibility is prioritized, we sacrifice some performance, especially when handling tasks with varying workloads.</p>
<p>Reproducibility becomes trickier when using parallelization frameworks like <code>{parallelMap}</code>, <code>{doFuture}</code>, and <code>{future}</code>, as each handles random number generation (RNG) differently. While <code>set.seed()</code> works for sequential tasks, parallel tasks need careful management of RNG streams, often using specific methods like “L’Ecuyer-CMRG” or functions like <code>clusterSetRNGStream()</code> to keep results consistent. Each framework has its own approach, so it’s important to understand how each one manages RNG to ensure reproducibility.</p>
<p>Even without random numbers, simple tasks—like adding floating-point numbers—can give different results in parallel processing. This happens because floating-point numbers aren’t exactly represented, and the order of operations can affect the outcome. In parallel environments, where tasks finish in different orders, these small differences can add up, making it harder to reproduce results in large computations.</p>
</section>
</section>
<section id="closing-thoughts" class="level2">
<h2 class="anchored" data-anchor-id="closing-thoughts">Closing Thoughts</h2>
<p>While we’ve explored the basics of reproducibility in parallel computing with simple examples, the challenges extend beyond random number generation. Issues such as <em>process synchronization</em>, using tools like lock files (see for example <a href="https://r-lib.github.io/filelock/"><code>{filelock}</code></a>), become critical in multi-process environments. <em>Floating-point arithmetic</em> adds complexity, particularly when distributed across heterogeneous systems with varying architectures and precision. <em>Managing dependencies</em> also becomes more intricate as tasks grow in complexity, and ensuring <em>error recovery</em> in a controlled manner is vital to avoid crashes or inconsistent results in large-scale operations.</p>
<p>Powerful tools like <a href="https://docs.ropensci.org/targets/"><code>{targets}</code></a> and <a href="https://wlandau.github.io/crew/"><code>{crew}</code></a> can help tackle these advanced challenges. <code>{targets}</code> is a workflow orchestration tool that manages dependencies, automates reproducible pipelines, and ensures consistent results across runs. Meanwhile, <code>{crew}</code> extends this by efficiently managing distributed computing tasks, allowing for seamless scaling, load balancing, and error handling across local processes or cloud environments. Together, these tools simplify the execution of complex high-performance computing (HPC) workflows, providing flexibility and robustness for scaling computations while trying for maintaining control and reproducibility.</p>
<p>This blog post has hopefully increased your intuition about the challenges that may arise when incorporating HPC into your work. By understanding these complexities, you’ll be better positioned to make informed decisions about the trade-offs—such as balancing performance and reproducibility—that are most relevant to your specific case. As your computations scale, finding the right balance between efficiency, accuracy, and reproducibility will be crucial for the success of your projects.</p>
<!--------------- appendices go here ----------------->
</section>
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:54.953609</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/zzz_DO_NOT_EDIT_the__tensio.../the__tension_of__high-_performance__computing:__reproducibility_vs.__parallelization.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{kouretsis2024,
  author = {Kouretsis, Alexandros and , APPSILON},
  title = {The {Tension} of {High-Performance} {Computing:}
    {Reproducibility} Vs. {Parallelization}},
  date = {2024-10-16},
  url = {https://pharmaverse.github.io/blog/posts/2024-10-16_the__tensio.../the__tension_of__high-_performance__computing:__reproducibility_vs.__parallelization.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-kouretsis2024" class="csl-entry quarto-appendix-citeas">
Kouretsis, Alexandros, and APPSILON. 2024. <span>“The Tension of
High-Performance Computing: Reproducibility Vs. Parallelization.”</span>
October 16, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-10-16_the__tensio.../the__tension_of__high-_performance__computing:__reproducibility_vs.__parallelization.html">https://pharmaverse.github.io/blog/posts/2024-10-16_the__tensio.../the__tension_of__high-_performance__computing:__reproducibility_vs.__parallelization.html</a>.
</div></div></section></div> ]]></description>
  <category>Submissions</category>
  <category>Technical</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-10-16_the__tensio.../the__tension_of__high-_performance__computing:__reproducibility_vs.__parallelization.html</guid>
  <pubDate>Wed, 16 Oct 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-10-16_the__tensio.../pharmaverse.PNG" medium="image"/>
</item>
<item>
  <title>roxy.shinylive - shinylive applications in roxygen documentation</title>
  <dc:creator>Pawel Rucki</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-10-11_roxy.shinyl.../roxy.shinylive_-_shinylive_applications_in_roxygen_documentation.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p><img src="https://pharmaverse.github.io/blog/posts/2024-10-11_roxy.shinyl.../roxy.shinylive.gif" class="img-fluid"></p>
<p>Continuing my exploration of WebR (see my previous post <a href="https://pharmaverse.github.io/blog/posts/2024-05-08_tlg_catalog_webr/tlg_catalog_webr.html">here</a>), I’m happy to introduce a new tool for Shiny package developers - <a href="https://insightsengineering.github.io/roxy.shinylive/">{roxy.shinylive}</a>. The package is designed for anyone building their Shiny applications or modules as an R package. With just a few lines of code, you can easily embed an <code>iframe</code> to a Shinylive application based on the code from the “Examples” section of your documentation.</p>
<p>Typically, you might have something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' This is a super app constructor.</span></span>
<span id="cb1-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' @param ... something</span></span>
<span id="cb1-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' @return shiny app object</span></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' @examples</span></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' if (interactive()) {</span></span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#'   my_super_app()</span></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' }</span></span>
<span id="cb1-8">my_super_app <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(...) {</span>
<span id="cb1-9">  ...</span>
<span id="cb1-10">  shiny<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">shinyApp</span>(...)</span>
<span id="cb1-11">}</span></code></pre></div>
</div>
<p>Now, let’s use <code>@examplesShinyLive</code> tag and make small adjustments to the example code to make it work in Shinylive:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' @examplesShinyLive</span></span>
<span id="cb2-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' library(mypackage)</span></span>
<span id="cb2-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' interactive &lt;- function() TRUE</span></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' {{ next_example }}</span></span>
<span id="cb2-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' @examples</span></span>
<span id="cb2-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#' (...)</span></span></code></pre></div>
</div>
<p>Voilà! Now your documentation includes Shinylive app! As a result, the end-users are able to see your application in action without needing to install anything. This makes your package more accessible and closer to the end-users.</p>
<p>In addition, the package exports <code>create_shinylive_url()</code> function, which creates an URL based on the application code as a string. This opens up more possibilities, such as embedding application(s) in README files, vignettes or even outside of package documentation. Combined with <code>knitr::knit_code$get("&lt;chunk id&gt;")</code> and <code>knitr::include_url()</code>, you can reuse other chunk(s) code to embed <code>iframe</code>s in RMarkdown or Quarto documents.</p>
<p>For a practical example of implementation, please see the documentation of <a href="https://insightsengineering.github.io/teal.modules.general/main/"><code>teal.modules.general</code></a> or <a href="https://insightsengineering.github.io/teal.modules.clinical/main/"><code>teal.modules.clinical</code></a>: a <a href="https://insightsengineering.github.io/teal.modules.general/main/reference/tm_data_table.html#examples-in-shinylive">function documentation</a> or a <a href="https://insightsengineering.github.io/teal.modules.general/main/articles/using-data-table.html#try-it-out-in-shinylive">vignette</a>. (Please note that it might take a while for WebR to download and install all the packages)</p>
<p>Special thanks to Sam Parmar from Pfizer - the author of the <a href="https://parmsam.github.io/lzstring-r/">{lzstring}</a> package, which makes encoding / decoding possible. Yet another example of cross-pharma collaboration!</p>
<p>PS. Yes - it’s coming to CRAN soon.</p>
<p>PS2. I’ve been also thinking about a similar solution for non-Shiny R codes. See <a href="https://github.com/r-lib/pkgdown/issues/2348">this</a> and <a href="https://github.com/r-wasm/webr/issues/356">this</a> issues for more updates.</p>
<p>I’d love for you to try out {roxy.shinylive} and see how it can enhance your Shiny package development workflow. Whether you have feedback, suggestions, or feature requests, please feel free to file an issue on the https://github.com/insightsengineering/roxy.shinylive, or join our <a href="https://pharmaverse.slack.com/"><code>pharmaverse</code> Slack channel</a> to stay up to date and be part of the discussion.</p>
<!--------------- appendices go here ----------------->
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:43.116885</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/zzz_DO_NOT_EDIT_roxy.shinyl.../roxy.shinylive_-_shinylive_applications_in_roxygen_documentation.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{rucki2024,
  author = {Rucki, Pawel},
  title = {Roxy.shinylive - Shinylive Applications in Roxygen
    Documentation},
  date = {2024-10-11},
  url = {https://pharmaverse.github.io/blog/posts/2024-10-11_roxy.shinyl.../roxy.shinylive_-_shinylive_applications_in_roxygen_documentation.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-rucki2024" class="csl-entry quarto-appendix-citeas">
Rucki, Pawel. 2024. <span>“Roxy.shinylive - Shinylive Applications in
Roxygen Documentation.”</span> October 11, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-10-11_roxy.shinyl.../roxy.shinylive_-_shinylive_applications_in_roxygen_documentation.html">https://pharmaverse.github.io/blog/posts/2024-10-11_roxy.shinyl.../roxy.shinylive_-_shinylive_applications_in_roxygen_documentation.html</a>.
</div></div></section></div> ]]></description>
  <category>Shiny</category>
  <category>Technical</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-10-11_roxy.shinyl.../roxy.shinylive_-_shinylive_applications_in_roxygen_documentation.html</guid>
  <pubDate>Fri, 11 Oct 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-10-11_roxy.shinyl.../roxy.shinylive.gif" medium="image" type="image/gif"/>
</item>
<item>
  <title>Undergraduate University Statistics Report using pharmaverseadam data</title>
  <dc:creator>Syon Parashar</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-09-16_university_undergraduate_report/university_undergraduate_report.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p>As part of my placement year as a Data Sciences Industrial Placement student in Biostatistics at Roche in the UK, I was required to produce a “Business Project” and present it to the entire Data Sciences department. I decided to use <a href="https://pharmaverse.github.io/pharmaverseadam/index.html">pharmaverseadam</a> to design a brand-new R training, “trainStats”, for junior Biostatisticians, since the package includes realistic ADaM datasets that are ideal for statistical analyses. For maximum efficiency, I tied my business project with a quantitative project report, due August 2024, for my undergraduate degree in Mathematics, Operational Research and Statistics at Cardiff University.</p>
<p>The quantitative project report investigates statistical analyses on preliminary clinical trial data using the R Studio software as instructed by the trainStats program I have authored, to help ease new Biostatisticians in the industry. The software was built considering the needs of people who are new to the industry and are keen to pursue a career in Biostatistics.</p>
<p>I had a smooth experience with the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> package all throughout my business and university project. I was introduced to the package by Ross Farrugia while looking for open-source data to analyze for my project. The package was very easy to read and use, with excellent documentation on the <a href="https://pharmaverse.github.io/pharmaverseadam/index.html">pharmaverseadam website</a>. As I was planning to share aggregated outputs (such as tables, listings and graphs) from clinical datasets externally to the university, even using historical clinical data was not allowed since external use of confidential data did not align with Roche’s data privacy principles.</p>
<p>Throughout the trainStats documentation, I have primarily used the <code>adoe_ophtha</code> ADaM dataset (containing ophthalmology safety data) from <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> to allow for a variety of exploratory statistical analyses ranging from producing boxplots of the spread of data by visit day, computing standard deviation and confidence intervals for endpoints, as well as programming linear regression models and patient profiles. As <code>adoe_ophtha</code> contains visit day, active arm and endpoint data, it was ideal to use for training purposes. In addition, I did use the <code>adsl</code> dataset too, to encourage trainStats users to join and merge datasets, taking into account patient demographics such as age. Here is a snippet of the code I wrote to generate bar charts by active arm for the “Central Subfield Thickness” endpoint:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># For Central Subfield Thickness</span></span>
<span id="cb1-2">adoe_CST<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ARM <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(adoe_CST<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ARM, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Placebo"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Xanomeline Low Dose"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Xanomeline High Dose"</span>))</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">subset</span>(adoe_CST, ARM <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Screen Failure"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> ARM, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> AVAL)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Active Arm"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Central Subfield Thickness / um"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylim</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(adoe_CST<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>AVAL))</span></code></pre></div>
</div>
<p>Below, is another example of the code I wrote to produce a boxplot displaying the analysis value of Central Subfield Thickness by patient visit days:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">adoe_CST <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> adoe_ophtha <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(PARAMCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SCSUBTH"</span>)</span>
<span id="cb2-3"></span>
<span id="cb2-4">adoe_DR <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> adoe_ophtha <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb2-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(PARAMCD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SDRSSR"</span>)</span>
<span id="cb2-6"></span>
<span id="cb2-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Boxplots for each visit day</span></span>
<span id="cb2-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(AVAL <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> AVISITN,</span>
<span id="cb2-9">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> adoe_CST,</span>
<span id="cb2-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">main =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Different boxplots for each visit day"</span>,</span>
<span id="cb2-11">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Visit Number"</span>,</span>
<span id="cb2-12">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Central Subfield Thickness/ um"</span>,</span>
<span id="cb2-13">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"orange"</span>,</span>
<span id="cb2-14">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">border =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"brown"</span></span>
<span id="cb2-15">)</span></code></pre></div>
</div>
<p>As you can see above, both of these code snapshots display the importance of clear logic and reasoning whilst coding by implementing strong data visualization techniques such as commenting. The code is simple and I personally found that using the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> package to produce various plots was very straightforward. The objective of trainStats was to help users familiarise themselves with ADaM datasets and my favorite element of the package was that the format of both synthetic ADaM datasets were incredibly similar to that of a true clinical trial ADaM for a study in Ophthalmology.</p>
<p>To further develop and improve the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> package, I believe including more endpoints in the <code>adoe_ophtha</code> dataset would be invaluable for future application and statistical analyses. Often <code>ADOE</code> datasets have several endpoints but the <code>adoe_ophtha</code> dataset only included 2 clinical parameters, namely “Central Subfield Thickness” and “Diabetic Retinopathy Severity Scale”. In addition, since the data is synthetic and randomly generated, the outputs had no significant correlations or trends from a statistical perspective in terms of disease progression or measures of central tendencies. Although, in this case, the emphasis was on understanding logic and reasoning whilst programming the statistical outputs, I experienced difficulties analysing the data quantitatively in my university report due to the high variation in data. Going forward, if there is a method to simulate the data less randomly, then that may be more useful for future dummy analyses on <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> data.</p>
<p>Overall, my experience of using the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> package for the first time was excellent. The package was convenient to use in R Studio, and clearly formatted for multi-purpose use. I would definitely recommend using <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM Test Data for the Pharmaverse Family of Packages • pharmaverseadam</template> <a href="https://pharmaverse.github.io/pharmaverseadam/" class="r-link-pkg" target="_blank">{pharmaverseadam}</a> </bslib-tooltip> to all users in the industry, who are required to produce a piece of project work or any analyses/summary for external use, or even those keen to publicly publish articles and papers in their areas within pharma to the wider community, in a safe and responsible manner regarding external use of data. I would like to thank Ross Farrugia for introducing me to the package, and especially Edoardo Mancini for talking me through the package and supporting me throughout the business project and university report.</p>
<!--------------- appendices go here ----------------->
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:22.528928</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/2024-09-02_university_undergraduate_report/university_undergraduate_report.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{parashar2024,
  author = {Parashar, Syon},
  title = {Undergraduate {University} {Statistics} {Report} Using
    Pharmaverseadam Data},
  date = {2024-09-16},
  url = {https://pharmaverse.github.io/blog/posts/2024-09-16_university_undergraduate_report/university_undergraduate_report.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-parashar2024" class="csl-entry quarto-appendix-citeas">
Parashar, Syon. 2024. <span>“Undergraduate University Statistics Report
Using Pharmaverseadam Data.”</span> September 16, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-09-16_university_undergraduate_report/university_undergraduate_report.html">https://pharmaverse.github.io/blog/posts/2024-09-16_university_undergraduate_report/university_undergraduate_report.html</a>.
</div></div></section></div> ]]></description>
  <category>ADaM</category>
  <category>Community</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-09-16_university_undergraduate_report/university_undergraduate_report.html</guid>
  <pubDate>Mon, 16 Sep 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-09-16_university_undergraduate_report/pharmaverseadam.png" medium="image" type="image/png" height="137" width="144"/>
</item>
<item>
  <title>Writing my first custom CICD action for the pharmaverseblog</title>
  <dc:creator>Edoardo Mancini</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../writing_my_first_custom_ci_cd_action_for_the_pharmaverseblog.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<section id="the-problem" class="level1">
<h1>The problem</h1>
<p>Each pharmaverseblog post is tagged with one or more categories that describe the topics discussed within it. For instance, this post is tagged <strong>Technical</strong>. When making a new blog post, users are invited to select the tags from a curated list designed to split the posts according to categories that balance specificity and generality. Here is the list we currently use:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Metadata"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SDTM"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADaM"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TLG"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Shiny"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Community"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Conferences"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Submissions"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Technical"</span>)</span></code></pre></div>
</div>
<p>Users <strong>can</strong> add to this list, however we have observed that more often than not, if users do diverge, it is due to a typo. This has unfortunate effects within our pharmaverseblog, chiefly that our front page glossary of posts is now split:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../mismatched_categories.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="140"></p>
</figure>
</div>
<p>Within the pharmaverseblog editor team, we wondered whether there was a simple way to police these tags a bit more, perhaps in an automated manner. Enter CICD checks!</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What is CICD?
</div>
</div>
<div class="callout-body-container callout-body">
<p>CICD stands for <strong>Continuous Integration, Continuous Deployment</strong> and is a catch-all term for automated code pipelines that ensure that new code added to an existing codebase seamlessly assimilates with the rest of the codebase without introducing unexpected behavior.</p>
<p>Often, when working in R projects hosted on GitHub, one encounters CICD in the form of checks that are triggered when making a pull request to the <code>main</code> branch (see image below for an example). These can check all sorts of aspects, ranging from correct spelling in your documentation all the way to executing your function unit tests and checking they all pass.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../cicd_pipeline.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
</div>
</div>
<p>The pharmaverseblog already had three active CICD pipelines, which run for spelling, style and links. For style and links, we did not write the code for these checks ourselves, rather we just activated open-source checks for our code repository. For spelling, this is a custom pipeline written by one of our blog editors, Stefan Thoma. So, what if we could write another <strong>custom CICD pipeline</strong> to check that new blog posts use tags from our selected list?</p>
</section>
<section id="a-cicd-solution" class="level1">
<h1>A (CICD) solution</h1>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
TLDR
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>I wrote a function, <code>check_post_tags()</code> which scans the <code>.qmd</code> file containing a blog post, extracts the tag(s), and checks them against the allowed list.</li>
<li>Then, I set up a script which loops <code>check_post_tags()</code> over all our blog posts and identifies offending posts.</li>
<li>Following that, I used the <code>{cli}</code> package to format a nice error message for all the offending posts and their tags.</li>
<li>Finally, in <code>.github/workflows</code>, I created a new CICD workflow named <code>check_post_tags.yml</code> which simply executes my script upon every pull request to <code>main</code>.</li>
</ul>
</div>
</div>
</div>
<section id="constructing-the-check" class="level2">
<h2 class="anchored" data-anchor-id="constructing-the-check">Constructing the check</h2>
<p>I decided that my strategy would be to write the main body of my CICD check as an R script. As I am relatively confident in R, the main challenge for me would be to then figure out how to automatically execute that script in a CICD pipeline.</p>
<p>After some playing around, I settled with the following 30-line script:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Get list of blog posts ----</span></span>
<span id="cb2-2">posts <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list.files</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"posts"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">recursive =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"*.qmd"</span>)</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Get vector of allowed tags ----</span></span>
<span id="cb2-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">source</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"R/allowed_tags.R"</span>)</span>
<span id="cb2-6"></span>
<span id="cb2-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Function to extract tags from a post and check them against the allowed list ----</span></span>
<span id="cb2-8">check_post_tags <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(post, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">allowed_post_tags =</span> allowed_tags) {</span>
<span id="cb2-9">  post_tags <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> rmarkdown<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">yaml_front_matter</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">file.path</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"posts"</span>, post))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>categories</span>
<span id="cb2-10">  cross_check <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> post_tags <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> allowed_post_tags</span>
<span id="cb2-11">  problematic_tags <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> post_tags[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>cross_check]</span>
<span id="cb2-12"></span>
<span id="cb2-13">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> (<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">all</span>(cross_check)) {</span>
<span id="cb2-14">    cli<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format_message</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The tag(s) {.val {problematic_tags}} in the post {.val {post}} are not from the allowed list of tags."</span>)</span>
<span id="cb2-15">  }</span>
<span id="cb2-16">}</span>
<span id="cb2-17"></span>
<span id="cb2-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Apply check_post_tags to all blog posts and find problem posts ----</span></span>
<span id="cb2-19">check_results <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lapply</span>(posts, check_post_tags)</span>
<span id="cb2-20">error_messages <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unlist</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Filter</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Negate</span>(is.null), check_results))</span>
<span id="cb2-21"></span>
<span id="cb2-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Construct error message if one or more posts have problematic tags ----</span></span>
<span id="cb2-23"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> (<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(error_messages) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>) {</span>
<span id="cb2-24">  error_messages <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(error_messages, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Please select from the following tags: {.val {allowed_tags}}, or contact one of the maintainers."</span>)</span>
<span id="cb2-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(error_messages) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"x"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(error_messages) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-26"></span>
<span id="cb2-27">  concatenated_error_messages <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> cli<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cli_bullets</span>(error_messages)</span>
<span id="cb2-28"></span>
<span id="cb2-29">  cli<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cli_abort</span>(concatenated_error_messages)</span>
<span id="cb2-30">}</span></code></pre></div>
</div>
<p>The script works as follows:</p>
<ol type="1">
<li>Get a full list of blog posts. These are all the <code>.qmd</code> files within the <code>posts</code> folder of the pharmaverseblog repo.</li>
<li>Specify a vector of “allowed tags” in the <code>allowed_tags.R</code> script.</li>
<li>Specify a function that, given a post:
<ol type="a">
<li>Extracts categories from the <code>yaml</code> header of the <code>.qmd</code> file.</li>
<li>Cross-checks the tags with the allowed ones.</li>
<li>For problematic tags, uses the <code>{cli}</code> package to construct a nicely-formatted error message.</li>
</ol></li>
<li>Loop <code>check_post_tags()</code> over all blog posts using a simple <code>lapply()</code> call and extract all error messages.</li>
<li>If there are any error messages, use <code>{cli}</code> again to construct a concatenated error message.</li>
</ol>
<p>The final error message looks something like the below:</p>
<pre><code>✖ The tag(s) "ADaMs" in the post
  "2024-06-17_new_admiral_ex.../new_admiral_extension_packages_admiralpeds_coming_soon.qmd"
  are not from the allowed list of tags.
Please select from the following tags: "Metadata", "SDTM", "ADaM", "TLG", "Shiny",
"Community", "Conferences", "Submissions", and "Technical", or contact one of the maintainers.</code></pre>
</section>
<section id="creating-a-pipeline-for-the-check" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-pipeline-for-the-check">Creating a pipeline for the check</h2>
<p>When it came to creating a pipeline for the check, if you had asked me to do this a few months ago, I wouldn’t have known my left from my right. Luckily I had recently attended a great CICD workshop at useR 2024 in Salzburg, led by Daphne Grasselly, Franciszek Walkowiak and Pawel Rucki. You can find the repository from their workshop <a href="https://github.com/user-workshop-cicd/r.package.example">here</a> - it was invaluable to orient me in the right direction. With a (very naive) google search, I also found <a href="https://www.youtube.com/watch?v=u-TcADhWosA">this video</a>, which shows how to execute an R script automatically whenever a pull request is made to the <code>main</code> branch of a repo.</p>
<p>Through some trial and error, I was able to coalesce the above resources into quite a short <code>yaml</code> file that set up my CICD pipeline. Within the pharmaverseblog repository, the CICD pipelines live under <code>.github/workflows</code>. There, I added the following new workflow, in the form of a <code>yaml</code> file, called <code>check_post_tags.yml</code>:</p>
<pre><code>name: Check post tags

on:
  pull_request:
    branches:
      - 'main'

jobs:
  Check-post-tags:
    runs-on: ubuntu-latest
    container:
      image: "rocker/tidyverse:4.2.1"
    steps:
      - uses: actions/checkout@v4
      - name: Run check_post_tags
        run: source("R/check_post_tags.R")
        shell: Rscript {0}</code></pre>
<p>It’s deceptively simple to read:</p>
<ol type="1">
<li>We execute the workflow upon any pull request to main.</li>
<li>When there is a pull request to main, we can load the <code>rocker/tidyverse:4.2.1</code> docker image which has all the <code>{tidyverse}</code> packages pre-installed.</li>
<li>Then we need to checkout the pharmaverseblog repo and run the <code>check_post_tags.R</code> script.</li>
</ol>
<p>That’s it! If there are any problematic posts, the script will throw an error and the check will fail like so:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../failed_check.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="750"></p>
</figure>
</div>
<p>Clicking on the “Details” option will return the error message I constructed previously.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../failed_check_details.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="750"></p>
</figure>
</div>
<p>Otherwise, no error will be thrown, the check will pass, and the post is good to go (provided the other checks pass)!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../passed_check.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="750"></p>
</figure>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../cicd_meme.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="400"></p>
</figure>
</div>
<p>The hardest aspect of the whole process was surpassing the mental barrier of getting started. CICD can be an overwhelming and mysterious topic, but it’s only as complicated as you make it. Of course, I’m still an absolute novice, and maybe my implementation above is not perfect, and there are definitely more complex applications of CICD, but I was still able to write code that solved my specific problem.</p>
<p>If you’d like to read more about CICD within the pharmaverseblog, I’d highly recommend this <a href="https://stefanthoma.github.io/quarto-blog/posts/2023-01-09_CICD-spelling/">detailed post</a> by Stefan Thoma on his own blog, where he discusses implementations on the spelling check.</p>
<p>Do you have any use cases for CICD within the pharmaverseblog or any of your own projects? Please reach out - I’d love to hear from you!</p>
<!--------------- appendices go here ----------------->
<div class="cell">
<div class="cell-output-display">


</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:08.701722</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/2024-09-05_writing_my_first.../writing_my_first_custom_ci_cd_action_for_the_pharmaverseblog.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{mancini2024,
  author = {Mancini, Edoardo},
  title = {Writing My First Custom {CICD} Action for the
    Pharmaverseblog},
  date = {2024-09-11},
  url = {https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../writing_my_first_custom_ci_cd_action_for_the_pharmaverseblog.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-mancini2024" class="csl-entry quarto-appendix-citeas">
Mancini, Edoardo. 2024. <span>“Writing My First Custom CICD Action for
the Pharmaverseblog.”</span> September 11, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../writing_my_first_custom_ci_cd_action_for_the_pharmaverseblog.html">https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../writing_my_first_custom_ci_cd_action_for_the_pharmaverseblog.html</a>.
</div></div></section></div> ]]></description>
  <category>Technical</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../writing_my_first_custom_ci_cd_action_for_the_pharmaverseblog.html</guid>
  <pubDate>Wed, 11 Sep 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-09-11_writing_my_first.../why-cicd.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Meet our Diversity Champion – Laura Needleman</title>
  <dc:creator>Laura Needleman</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-09-03_meet_our__divers.../meet_our__diversity__champion_–__laura__needleman.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p>On behalf of the pharmaverse council, we’d like to introduce you to Laura Needleman – an active member of our community who has volunteered to support us as a champion around DE&amp;I. All of our efforts to this day have started from the ground up with passionate people putting their hands up to make a difference for our industry and patients all over the world. Therefore, when Laura identified a challenge and stepped forward to help foster solutions, this resonated hugely with us as a group that are looking to learn and evolve continually to make a positive impact in our scope of open source. Here’s some further introduction and context from Laura in her own words…</p>
<p>“Over the summer, I approached the pharmaverse council ready to join forces with a Diversity Champion proposal in hand. As I walked the council through my proposal and thoughts, I believe they saw my passion for equal access and representation was burning bright! I was ready to hit the ground running to help the community members feel <strong>represented</strong> and <strong>heard</strong> within pharmaverse.</p>
<p>I plan to work with the council to not only suggest ways to increase more diversity, equity, and inclusion at the top (within the council) and within the community but also as an autistic brain ready to pick apart systems and ask the questions others might not be asking. If there is one thing autistics hit out of the park… it’s disrupting groupthink. Do I hear a record scratch every time I open my mouth and say something? …yes …yes I do…</p>
<p>Jokes aside, one thing that drew my attention to pharmaverse and why I wanted to give my time to further DE&amp;I is because I could see the large-scale movement that was happening from the energy the pharmaverse platform was creating. The increase in R collaboration over the past 4 years in our industry is noticeable and palpable even and I believe that movement is in part because of the systems and communities built off of the pharmaverse foundation. As an R user myself, and as someone in our biometrics clinical reporting community of programmers and statisticians, it’s a grassroots type space where people are coming with their ideas on how to make it better and it grows year by year. Even when that feedback is uncomfortable to hear, such as gender disparity in the council, response and action is taken and that is something I can back and believe in.</p>
<p>As far as my professional background in this space, currently I am the US Policy Lead for Astrazeneca’s Neurodiversity Employee Resource Group, TH!NK, which is a role designed to advocate for neurodivergent employees around accommodations and team perceptions as well as contribute to US Policies from a neurodivergent perspective. I am also an autistic public advocate in our space of biometrics clinical trials where I openly share my experiences in our industry as an autistic woman. I have presented topics of Neurodiversity at both PharmaSUG and PHUSE and have an active voice on LinkedIn. In addition, in 2022, I was awarded Cytel’s CEO award for furthering their DE&amp;I mission.</p>
<p>DE&amp;I work is an intentional process that is done consciously and continuously. My presence within the pharmaverse council is a relationship and not a solution in it of itself. I come to the council as an individual advisor and thus my presence within the council does not represent Astrazeneca joining the council. Please reach out to me if you’d like to chat about DE&amp;I at pharmaverse, in general or on a specific concern! I am listening and I’ll work to elevate voices that need it. Remember, I’m not perfect, I also have a disability, and I am here to do volunteer DE&amp;I work at no cost.</p>
<p>Feel free to reach out via email at any time – laura.needleman@astrazeneca.com or connect and reach out to me on LinkedIn!”</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-09-03_meet_our__divers.../MeetLaura.png" class="img-fluid figure-img"></p>
<figcaption>Meet Laura!</figcaption>
</figure>
</div>
<!--------------- appendices go here ----------------->
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:27:24.979837</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/2024-09-03_meet_our__divers.../meet_our__diversity__champion_–__laura__needleman.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{needleman2024,
  author = {Needleman, Laura},
  title = {Meet Our {Diversity} {Champion} – {Laura} {Needleman}},
  date = {2024-09-03},
  url = {https://pharmaverse.github.io/blog/posts/2024-09-03_meet_our__divers.../meet_our__diversity__champion_–__laura__needleman.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-needleman2024" class="csl-entry quarto-appendix-citeas">
Needleman, Laura. 2024. <span>“Meet Our Diversity Champion – Laura
Needleman.”</span> September 3, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-09-03_meet_our__divers.../meet_our__diversity__champion_–__laura__needleman.html">https://pharmaverse.github.io/blog/posts/2024-09-03_meet_our__divers.../meet_our__diversity__champion_–__laura__needleman.html</a>.
</div></div></section></div> ]]></description>
  <category>Community</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-09-03_meet_our__divers.../meet_our__diversity__champion_–__laura__needleman.html</guid>
  <pubDate>Tue, 03 Sep 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-09-03_meet_our__divers.../MeetLaura.png" medium="image" type="image/png" height="74" width="144"/>
</item>
<item>
  <title>teal and Posit Shiny Contest 2024</title>
  <dc:creator>Dony Unardi</dc:creator>
  <dc:creator>Pawel Rucki</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-08-20_teal_submission_.../teal_submission_for__posit__shiny__contest_2024.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-20_teal_submission_.../teal.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="220"></p>
</figure>
</div>
<section id="a-new-opportunity-for-teal-developers-at-the-posit-shiny-contest-2024" class="level3">
<h3 class="anchored" data-anchor-id="a-new-opportunity-for-teal-developers-at-the-posit-shiny-contest-2024">A New Opportunity for <code>teal</code> Developers at the Posit Shiny Contest 2024</h3>
<p>We’re thrilled to announce that <a href="https://insightsengineering.github.io/teal/"><code>teal</code></a> is collaborating with Posit for the 2024 Shiny Contest, offering a fantastic opportunity for developers to showcase their skills.</p>
<p>This year, you can stand out by submitting a <a href="https://insightsengineering.github.io/teal/"><code>teal</code></a> app and even win the new developer award! Whether you’re a seasoned developer or just starting, this is your moment to shine.</p>
<p>To further support our community during this event, we’d like to mention two things:</p>
<ol type="1">
<li><p><a href="https://insightsengineering.github.io/random.cdisc.data/"><code>random.cdisc.data</code></a> R package<br>
To help you create <a href="https://insightsengineering.github.io/teal/"><code>teal</code></a> app without worrying about sensitive data exposure, we’d like to introduce the <a href="https://insightsengineering.github.io/random.cdisc.data/"><code>random.cdisc.data</code></a> R package. This package is designed to generate random CDISC data, which is particularly useful when creating <a href="https://insightsengineering.github.io/teal/"><code>teal</code></a> apps that require CDISC data formats.<br>
With ready-to-use datasets offered by the package, you can focus more on building your app and less on data preparation.</p></li>
<li><p>Explore the <a href="https://github.com/insightsengineering/teal.gallery"><code>teal.gallery</code></a> repository<br>
We highly recommend to check out the <a href="https://github.com/insightsengineering/teal.gallery"><code>teal.gallery</code></a> repo, where you’ll find example apps that leverage <a href="https://insightsengineering.github.io/random.cdisc.data/"><code>random.cdisc.data</code></a> to showcase teal’s capabilities. It’s also a great resource for exploring and discovering what <a href="https://insightsengineering.github.io/teal/"><code>teal</code></a> can do for you.</p></li>
</ol>
<p>The deadline for the submission is <strong>September 15</strong>, so mark your calendar and start building your teal app today!</p>
<p>To learn more about this opportunity, please visit <a href="https://posit.co/blog/announcing-the-2024-shiny-contest/">Posit Shiny Contest 2024 Announcement</a>.</p>
<!--------------- appendices go here ----------------->
</section>
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:27:12.705458</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/2024-08-20_teal_submission_.../teal_submission_for__posit__shiny__contest_2024.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{unardi2024,
  author = {Unardi, Dony and Rucki, Pawel},
  title = {Teal and {Posit} {Shiny} {Contest} 2024},
  date = {2024-08-20},
  url = {https://pharmaverse.github.io/blog/posts/2024-08-20_teal_submission_.../teal_submission_for__posit__shiny__contest_2024.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-unardi2024" class="csl-entry quarto-appendix-citeas">
Unardi, Dony, and Pawel Rucki. 2024. <span>“Teal and Posit Shiny Contest
2024.”</span> August 20, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-08-20_teal_submission_.../teal_submission_for__posit__shiny__contest_2024.html">https://pharmaverse.github.io/blog/posts/2024-08-20_teal_submission_.../teal_submission_for__posit__shiny__contest_2024.html</a>.
</div></div></section></div> ]]></description>
  <category>Shiny</category>
  <category>Community</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-08-20_teal_submission_.../teal_submission_for__posit__shiny__contest_2024.html</guid>
  <pubDate>Tue, 20 Aug 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-08-20_teal_submission_.../teal.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>Exploring the Top 5 pharmaverse Packages</title>
  <dc:creator>Gift Kenneth</dc:creator>
  <dc:creator>APPSILON </dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/top-five-packages.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p>The <a href="https://pharmaverse.org/">pharmaverse</a> is a collaborative project where leading pharmaceutical companies and passionate individuals come together to create helpful tools for <a href="https://posit.co/blog/pharmaverse-packages-for-clinical-reporting-workflows/">clinical reporting</a>. By <strong>using R programming and the open-source community</strong>, the <a href="https://github.com/pharmaverse/">pharmaverse</a> makes it easier to gain insights and increase transparency in the pharma industry.</p>
<p>In this post, let’s explore the <strong>top 5 <a href="https://pharmaverse.org/">pharmaverse</a> packages</strong> (by GitHub Stars ⭐), their interesting features, and how they can be used in clinical data analysis and reporting.</p>
<section id="rtables-crafting-regulatory-ready-tables" class="level2">
<h2 class="anchored" data-anchor-id="rtables-crafting-regulatory-ready-tables"><strong>{rtables}: Crafting Regulatory-Ready Tables</strong></h2>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/rtables.png" class="img-fluid" width="263"></p>
<p>Let’s start our journey with <a href="https://github.com/insightsengineering/rtables">{rtables}</a>, a package contributed by <a href="https://www.roche.com/">Roche</a>, which enables the creation of tables for reporting clinical trials. It offers a flexible and efficient way to generate publication-quality tables, simplifying the reporting process and ensuring consistency across different trials.</p>
<p><a href="https://github.com/insightsengineering/rtables">{rtables}</a> was primarily designed to address the needs of the pharmaceutical industry for creating regulatory-ready tables for clinical trial reporting. <strong>You can use it to generate tables to summarize patient demographics, adverse events, efficacy endpoints, and other clinical trial data.</strong></p>
<section id="features-of-rtables" class="level3">
<h3 class="anchored" data-anchor-id="features-of-rtables"><strong>Features of {rtables}</strong></h3>
<p>The <a href="https://github.com/insightsengineering/rtables">{rtables}</a> package offers several features that make it a useful tool for creating complex tables:</p>
<ul>
<li><p><a href="https://github.com/insightsengineering/rtables">{rtables}</a> allows you to define tables with a <strong>hierarchical, tree-like structure</strong>, enabling the creation of multi-level tables with nested rows and columns.</p></li>
<li><p>Each cell in an rtable can contain any high-dimensional data structure, and you can apply custom formatting, such as rounding, alignment, and cell spans, to individual cells.</p></li>
<li><p>It <strong>supports various output formats</strong>, including HTML, ASCII, LaTeX, and PDF, allowing you to generate tables that can be easily integrated into reports, presentations, and shiny applications.</p></li>
<li><p>The values in an rtable are <strong>stored in a non-rounded state</strong>, supporting cross-checking and further analysis.</p></li>
<li><p>This package is <strong>designed to work with CDISC standards</strong>, allowing you to seamlessly integrate it into your clinical data reporting workflows.</p></li>
</ul>
</section>
<section id="example-code" class="level3">
<h3 class="anchored" data-anchor-id="example-code"><strong>Example Code</strong></h3>
<p>The following example demonstrates how to create a basic table using the <a href="https://github.com/insightsengineering/rtables">{rtables}</a> package. We start by installing and loading the required libraries.&nbsp;</p>
<p>Next, we create a simulated dataset representing clinical trial data. We then define a function to calculate the mean of a biomarker and use <a href="https://github.com/insightsengineering/rtables">{rtables}</a> functions to build and print the table.</p>
<pre><code># Install rtables if it's not already installed
if (!requireNamespace("rtables", quietly = TRUE)) {
  install.packages("rtables")
}

# Load required library
library(rtables)

# Create a simulated dataset
set.seed(123)
ex_adsl &lt;- data.frame(
  ARM = sample(c("Placebo", "Drug X", "Combination"), 100, replace = TRUE),
  BMRKR2 = sample(c("Low", "Medium", "High"), 100, replace = TRUE),
  RACE = sample(c("Asian", "Black", "White"), 100, replace = TRUE),
  SEX = sample(c("Male", "Female"), 100, replace = TRUE),
  BMRKR1 = rnorm(100, mean = 5, sd = 2)
)

# Define a function to calculate the mean of a biomarker
biomarker_ave &lt;- function(x, ...) {
  val &lt;- if (length(x) &gt; 0) round(mean(x), 2) else "no data"
  in_rows("Biomarker 1 (mean)" = rcell(val))
}

# Create the table
table &lt;- basic_table() |&gt;
  split_cols_by("ARM") |&gt;
  split_cols_by("BMRKR2") |&gt;
  add_colcounts() |&gt;
  split_rows_by("RACE", split_fun = trim_levels_in_group("SEX")) |&gt;
  split_rows_by("SEX") |&gt;
  summarize_row_groups() |&gt;
  analyze("BMRKR1", biomarker_ave) |&gt;
  build_table(ex_adsl)

# Print the table
print(table)</code></pre>
<p><strong>Results</strong></p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/rtables-example.png" class="img-fluid"></p>
<p><strong>You can learn more about rtables:</strong></p>
<ul>
<li><p><a href="https://waddella.github.io/RStudioTableContest2020/A_Not_So_Short_Introduction_to_rtables.html">A Not So Short Introduction to rtables</a>&nbsp;</p></li>
<li><p><a href="https://insightsengineering.github.io/rtables/latest-release/articles/rtables.html?q=introduction">Introduction to {rtables}</a></p></li>
<li><p><a href="https://github.com/insightsengineering/rtables">GitHub - insightsengineering/rtables: Reporting tables with R</a>&nbsp;&nbsp;</p></li>
</ul>
</section>
</section>
<section id="admiral-simplifying-adam-dataset-creation" class="level2">
<h2 class="anchored" data-anchor-id="admiral-simplifying-adam-dataset-creation"><strong>{admiral}: Simplifying ADaM Dataset Creation</strong></h2>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/admiral.png" class="img-fluid" width="260"></p>
<p>Next let’s take a look at the <a href="https://pharmaverse.github.io/admiral/"><strong>{admiral}</strong></a> package, initially developed through a collaboration between <a href="https://www.roche.com/">Roche</a> and <a href="https://www.gsk.com/en-gb/">GSK</a>. It provides a toolbox of reusable functions and utilities with <a href="https://dplyr.tidyverse.org/"><strong>dplyr</strong></a><strong>-like syntax</strong> to prepare <strong>CDISC ADaM (Analysis Data Model)</strong> <strong>datasets</strong>. It serves as a valuable resource for statistical programmers looking to build ADaMs according to varying analysis needs while ensuring traceability and compliance with <strong>FDA standards</strong>. Many more pharma companies and CROs have contributed to the package since its inception in 2021.</p>
<section id="features-of-admiral" class="level3">
<h3 class="anchored" data-anchor-id="features-of-admiral"><strong>Features of {admiral}</strong></h3>
<p>Let’s take a look at some features of the package:&nbsp;</p>
<ul>
<li><p><a href="https://github.com/pharmaverse/admiral/">{admiral}</a> offers <strong>modular functions</strong> for adding variables and records to datasets in a step-by-step manner. This makes it easy to adjust code by adding, removing, or modifying derivations.</p></li>
<li><p>It provides <strong>template R scripts as a starting point for creating different ADaM datasets.</strong> These templates can be generated using the use_ad_template() function.</p></li>
<li><p>The package offers a <strong>flexible and efficient way to generate ADaM datasets</strong> from source data, ensuring compliance with CDISC standards and traceability of the data transformation process.</p></li>
<li><p><strong>By providing a consistent set of functions and utilities</strong> for ADaM dataset creation, <a href="https://github.com/pharmaverse/admiral/">{admiral}</a> helps to standardize the reporting process across different clinical trials and pharmaceutical companies.</p></li>
<li><p><strong>Modular design allows for extensions</strong> that focus on specific areas or needs. Three open-source packages are currently extending {admiral}: <a href="https://github.com/pharmaverse/admiralonco">{admiralonco}</a>, <a href="https://github.com/pharmaverse/admiralophtha">{admiraloptha}</a> and <a href="https://github.com/pharmaverse/admiralvaccine">{admiralvaccine}</a>. All of them were created from the <a href="https://github.com/pharmaverse/admiraltemplate">admiral template</a>. Two more are in the works: <a href="https://github.com/pharmaverse/admiralpeds">{admiralpeds}</a> and <a href="https://github.com/pharmaverse/admiralmetabolic">{admiralmetabolic}</a>.</p></li>
</ul>
</section>
<section id="example-code-1" class="level3">
<h3 class="anchored" data-anchor-id="example-code-1"><strong>Example Code</strong></h3>
<p>Let’s see how to use the <a href="https://github.com/pharmaverse/admiral/">{admiral}</a> package to prepare an ADaM dataset.&nbsp;</p>
<p>We start by loading the necessary libraries and creating a sample study dataset. We then derive the ADSL (Subject-Level Analysis Dataset) and add additional variables for further analysis.</p>
<pre><code>library(admiral)
library(dplyr)
library(lubridate)

# Sample study data
study_data &lt;- tibble::tribble(
  ~USUBJID, ~AGE, ~SEX, ~ARM, ~RANDDTC, ~RAND2DTC, ~VISIT, ~VISITDY, ~VSDTC, ~VSTPT, ~VSORRESU, ~VSORRES, ~PARAMCD,
  "01", 34, "M", "Placebo", "2022-12-10", "2023-01-15", "Screening", -7, "2023-01-08", "Pre-dose", "kg", 80, "WEIGHT",
  "02", 45, "F", "Treatment", "2023-01-02", "2023-01-17", "Baseline", 1, "2023-01-17", "Pre-dose", "kg", 65, "WEIGHT",
  "03", 54, "F", "", "2022-10-16", "2023-01-09", "Screening", -7, "2023-01-09", "Pre-dose", "kg", 78, "WEIGHT"
)

# Function to aggregate by age group
format_agegr1 &lt;- function(var_input) {
  case_when(
    var_input &lt; 35 ~ "&lt;35",
    between(var_input, 34, 50) ~ "35-49",
    var_input &gt; 50 ~ "&gt;64",
    TRUE ~ "Missing"
  )
}

# Derive ADSL (Subject-Level Analysis Dataset)
adsl &lt;- study_data |&gt;
  select(USUBJID, AGE, SEX, ARM, RANDDTC, RAND2DTC) |&gt;
  distinct() |&gt;
  # Convert blanks strings to NA
  convert_blanks_to_na() |&gt;
  # admiral does not yet support aggregation function, but dplyr can be used
  mutate(
    AGEGR1 = format_agegr1(AGE)
  ) |&gt;
  # Convert from character to DATE
  derive_vars_dt(
    dtc = RANDDTC,
    new_vars_prefix = "TRTS"
  ) |&gt;
  derive_vars_dt(
    dtc = RAND2DTC,
    new_vars_prefix = "TRTE"
  ) |&gt;
  derive_vars_duration(
    new_var = TRTD,
    start_date = TRTSDT,
    end_date = TRTEDT,
    add_one = FALSE
  )

# Display the ADSL dataset
print(adsl)</code></pre>
<p><strong>Results</strong></p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/admiral-example.png" class="img-fluid"></p>
<p><strong>More on {admiral}:</strong></p>
<ul>
<li><p><a href="https://github.com/pharmaverse/admiral/blob/main/inst/cheatsheet/admiral_cheatsheet.pdf">{admiral} Cheatsheet</a></p></li>
<li><p><a href="https://youtu.be/YO0t8Ul9dEo?si=7hNC8GyuTYh0HWcL">YouTube playlist of {admiral} videos</a></p></li>
<li><p><a href="https://cran.r-project.org/web/packages/admiral/readme/README.html">admiral</a>&nbsp;</p></li>
<li><p><a href="https://pharmaverse.github.io/admiral/articles/admiral.html#setup">Get Started • admiral</a>&nbsp;</p></li>
<li><p><a href="https://www.appsilon.com/post/exploring-clinical-submissions-with-admiral">Recap: Exploring Clinical Submissions with admiral: An R-Based ADaM Solution with Ben Straub</a>&nbsp;<br>
</p></li>
</ul>
</section>
</section>
<section id="teal-interactive-data-exploration" class="level2">
<h2 class="anchored" data-anchor-id="teal-interactive-data-exploration"><strong>{teal}: Interactive Data Exploration</strong></h2>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/teal.png" class="img-fluid" width="245"></p>
<p><a href="https://github.com/insightsengineering/teal"><strong>{teal}</strong></a> is an open-source R Shiny framework developed by <a href="https://www.roche.com/">Roche</a> that enables the creation of interactive data exploration applications for the pharmaceutical industry. <a href="https://insightsengineering.github.io/teal/latest-tag/">{teal}</a> is particularly well-suited for exploring and analyzing data from clinical trials, enabling researchers and clinicians to quickly identify trends, patterns, and insights.<br>
</p>
<p><a href="https://insightsengineering.github.io/teal/latest-tag/">{teal}</a>’s reporting functionality can be used to generate regulatory-ready tables, figures, and listings. Study teams currently use it to explore data interactively and get the code to reproduce those TLGs. In the future, we hope to use it for submission to governing bodies. It can also be used to <strong>build interactive dashboards for monitoring and analyzing adverse events in clinical trials, supporting pharmacovigilance efforts.</strong> Its modular design allows for the <strong>integration of specialized modules</strong> for the analysis and visualization of high-dimensional biomarker data.</p>
<section id="features-of-teal" class="level3">
<h3 class="anchored" data-anchor-id="features-of-teal"><strong>Features of {teal}</strong></h3>
<ul>
<li><p><a href="https://insightsengineering.github.io/teal/latest-tag/">{teal}</a> offers a <strong>flexible filter panel</strong> that allows users to easily filter and explore their data in real-time.</p></li>
<li><p>The <strong>“Show R Code” functionality</strong> enables users to reproduce the visualizations and analyses from the application in a new R session, promoting transparency and reproducibility.</p></li>
<li><p>Its <strong>reporter functionality</strong> allows users to <strong>build custom reports</strong> based on the visualizations filtered and parameterized in the app. Users can generate PDFs or PPT documents that include images and optional code.</p></li>
<li><p>The package is built on a <strong>modular architecture</strong>, providing a range of pre-built, customizable modules that can be easily integrated into applications to address specific data analysis and visualization needs.</p></li>
<li><p>It is designed to <strong>seamlessly integrate with other <a href="https://pharmaverse.org/">pharmaverse</a> packages</strong>, such as <a href="https://github.com/pharmaverse/admiral">{admiral}</a> and <a href="https://github.com/insightsengineering/rtables">{rtables}</a>.</p></li>
</ul>
</section>
<section id="example" class="level3">
<h3 class="anchored" data-anchor-id="example"><strong>Example</strong></h3>
<p>Here’s the <a href="https://github.com/insightsengineering/teal.gallery/tree/main/patient-profile">Patient Profile {teal} application</a> for patient-level analysis of clinical trial data from the <a href="https://insightsengineering.github.io/teal.gallery/">teal.gallery</a>.</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/teal-example.gif" class="img-fluid"></p>
<p><strong>Here’s how you can run the app yourself:</strong></p>
<pre><code>source("https://raw.github.com/insightsengineering/teal.gallery/main/_internal/utils/sourceme.R")

# Run the app
restore_and_run("patient-profile", package_repo = "https://insightsengineering.r-universe.dev")</code></pre>
<p>You can also find the <a href="https://genentech.shinyapps.io/nest_patient-profile_stable/">deployed version of the application</a>.&nbsp;</p>
<p><strong>Some Resources on {teal}</strong></p>
<ul>
<li><p><a href="https://github.com/insightsengineering/teal.gallery">GitHub - Teal Gallery (A Gallery of Exploratory Web Apps used for Analyzing Clinical Trial Data)</a></p></li>
<li><p><a href="https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/teal-app-development.html">Simplifying Clinical Data Dashboards with {teal} and {pharmaverseadam}</a></p></li>
<li><p><a href="https://github.com/insightsengineering/teal">GitHub - insightsengineering/teal: Exploratory Web Apps for Analyzing Clinical Trial Data</a>&nbsp;</p></li>
<li><p><a href="https://www.appsilon.com/post/innovating-pharma-with-teal">Shiny Gatherings #8: Teal’s Role in Pharma Innovation with Paweł Rucki</a>&nbsp;</p></li>
</ul>
</section>
</section>
<section id="riskmetric-assessing-package-quality-and-risk" class="level2">
<h2 class="anchored" data-anchor-id="riskmetric-assessing-package-quality-and-risk"><strong>{riskmetric}: Assessing Package Quality and Risk</strong></h2>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/riskmetric.png" class="img-fluid" width="221"></p>
<p>The <a href="https://pharmar.github.io/riskmetric/articles/riskmetric.html"><strong>{riskmetric}</strong></a> package provides a framework to quantify the “risk” of R packages by assessing various metrics. Developed by the <a href="https://www.pharmar.org/"><strong>R Validation Hub</strong></a>, it helps organizations evaluate the quality and suitability of R packages for validated environments. The resulting risk is parameterized by the organization, which makes the decision on how to weigh the risk from the different metrics.</p>
<section id="features-of-riskmetric" class="level3">
<h3 class="anchored" data-anchor-id="features-of-riskmetric"><strong>Features of {riskmetric}</strong></h3>
<ul>
<li><p><a href="https://github.com/pharmaR/riskmetric/">{riskmetric}</a> <strong>evaluates R packages</strong> across several categories, including development best practices, code documentation, community engagement, and development sustainability.</p></li>
<li><p>The package is designed to be extensible, allowing users to define custom metrics or adapt existing ones to suit their specific requirements.</p></li>
<li><p><a href="https://pharmar.github.io/riskmetric/articles/riskmetric.html">{riskmetric}</a> includes functions for generating detailed reports and visualizations of the package risk assessment, facilitating informed decision-making.<br>
</p></li>
</ul>
</section>
<section id="example-code-2" class="level3">
<h3 class="anchored" data-anchor-id="example-code-2"><strong>Example Code</strong></h3>
<p>The following example demonstrates how to use the <a href="https://pharmar.github.io/riskmetric/articles/riskmetric.html">{riskmetric}</a> package to evaluate the risk of selected R packages. We start by loading the necessary libraries and using <a href="https://pharmar.github.io/riskmetric/articles/riskmetric.html">{riskmetric}</a> functions to assess and score the packages.</p>
<pre><code># Load necessary libraries
library(dplyr)
library(riskmetric)

# Assess and score R packages
pkg_ref(c("riskmetric", "utils", "tools")) %&gt;%
  pkg_assess() %&gt;%
  pkg_score()</code></pre>
<p><br>
<strong>Results</strong></p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/riskassessment-example.png" class="img-fluid"></p>
<p>It is closely related to <a href="https://github.com/pharmaR/riskassessment"><strong>{riskassessment}</strong></a> (the app’s main goal is to help those making “package inclusion” requests for validated GxP environments) and <a href="https://github.com/pharmaR/riskscore"><strong>{riskscore}</strong></a> (data package for cataloging riskmetric results across public repositories).&nbsp;<br>
</p>
<p><strong>More on Riskmetric</strong></p>
<ul>
<li><p><a href="https://youtu.be/L0ZZHPh2ec4">Using {riskassessment} for R Package Validation</a>&nbsp;</p></li>
<li><p><a href="https://www.pharmar.org/riskmetric/">The {riskmetric} Package</a>&nbsp;</p></li>
<li><p><a href="https://github.com/pharmaR/riskmetric">GitHub - pharmaR/riskmetric: Metrics to evaluate the risk of R packages</a>&nbsp;</p></li>
</ul>
</section>
</section>
<section id="tidycdisc-tidying-cdisc-data" class="level2">
<h2 class="anchored" data-anchor-id="tidycdisc-tidying-cdisc-data"><strong>TidyCDISC: Tidying CDISC Data</strong></h2>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/tidyCDISC.png" class="img-fluid"></p>
<p><a href="https://github.com/Biogen-Inc/tidyCDISC/"><strong>{tidyCDISC}</strong></a> is an open-source R package developed by <a href="https://www.biogen.com/">Biogen</a> that provides a set of functions for tidying and manipulating <a href="https://www.cdisc.org/">CDISC</a> (Clinical Data Interchange Standards Consortium) datasets. It aims to simplify the process of working with <a href="https://www.cdisc.org/">CDISC</a> data by providing an intuitive interface for data transformation tasks and ensuring consistency with the principles of tidy data.</p>
<section id="features-of-tidycdisc" class="level3">
<h3 class="anchored" data-anchor-id="features-of-tidycdisc"><strong>Features of TidyCDISC</strong></h3>
<ol type="1">
<li><p><a href="https://github.com/Biogen-Inc/tidyCDISC/">{tidyCDISC}</a> <strong>adheres to the principles of tidy data</strong>, ensuring that CDISC datasets are structured in a consistent and easy-to-work-with format.</p></li>
<li><p>The package <strong>supports various CDISC datasets</strong>, including SDTM (Study Data Tabulation Model), ADaM (Analysis Data Model), and SEND (Standard for Exchange of Nonclinical Data).</p></li>
<li><p>It provides a set of <strong>functions for common data transformation tasks,</strong> such as converting between CDISC datasets, handling missing values, and applying CDISC-specific terminology.</p></li>
<li><p>The package includes <strong>functions for validating CDISC datasets</strong> and performing consistency checks across related datasets.</p></li>
<li><p><a href="https://github.com/Biogen-Inc/tidyCDISC/">{tidyCDISC}</a> is designed to <strong>work seamlessly with other <a href="https://pharmaverse.org/">pharmaverse</a> packages</strong>.</p></li>
</ol>
</section>
<section id="example-1" class="level3">
<h3 class="anchored" data-anchor-id="example-1"><strong>Example</strong></h3>
<p>Here’s a <a href="https://rinpharma.shinyapps.io/tidyCDISC/">demo version of {tidyCDISC}</a> you can try.</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/tidycdisc-example.gif" class="img-fluid"></p>
<p>In the <a href="https://biogen-inc.github.io/tidyCDISC/articles/tidyCDISC.html">documentation</a>, you can find more examples of applications and how to use <a href="https://github.com/Biogen-Inc/tidyCDISC/">{tidyCDISC}</a>.<br>
</p>
<p><strong>More on tidyCDISC</strong></p>
<ul>
<li><p><a href="https://biogen-inc.github.io/tidyCDISC/articles/Blog.html">TidyCDISC blog</a></p></li>
<li><p><a href="https://www.youtube.com/@tidycdiscapp768">tidyCDISC YouTube channel</a></p></li>
</ul>
</section>
</section>
<section id="honorable-mention" class="level2">
<h2 class="anchored" data-anchor-id="honorable-mention"><strong>Honorable Mention 😀</strong></h2>
<section id="xportr-creating-cdisc-compliant-xpt-files-in-r" class="level3">
<h3 class="anchored" data-anchor-id="xportr-creating-cdisc-compliant-xpt-files-in-r"><strong>{xportr}: Creating CDISC-Compliant XPT Files in R</strong></h3>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/images/xportr.png" class="img-fluid" width="184"></p>
<p>Finally, let’s look at <a href="https://github.com/atorus-research/xportr">{xportr}</a>, an open-source R package developed by <a href="https://www.gsk.com/en-gb/">GSK</a>, <a href="https://www.atorusresearch.com/">Atorus</a>, and <a href="https://appsilon.com/">Appsilon</a> that simplifies the process of creating <strong>CDISC-compliant XPT files</strong> directly from R. It serves as a valuable tool for clinical programmers working with ADaM or SDTM datasets.&nbsp;</p>
<p>This package ensures compatibility with regulatory submission requirements, providing a seamless bridge between R and traditional SAS-based workflows.&nbsp;</p>
<p><a href="https://github.com/atorus-research/xportr">{xportr}</a> is designed to handle the intricacies of the XPORT format, making it easier to share data across different platforms and with regulatory authorities. This capability is crucial for teams working in environments where both R and SAS are used, facilitating smooth and compliant data exchanges.</p>
<p><strong>Features of {xportr}</strong></p>
<ul>
<li><p><a href="https://github.com/atorus-research/xportr">{xportr}</a> provides <strong>functions to associate metadata information</strong> to an R data frame, apply appropriate types, lengths, labels, formats, and ordering, and then write out a CDISC-compliant XPT file.</p></li>
<li><p>Performs various <strong>checks on the datasets to ensure CDISC compliance</strong> before exporting to XPT format, including variable name formatting, character length limits, type coercion, and more.</p></li>
<li><p>Uses a well-defined <strong>specification file</strong> (e.g., ADaM_spec.xlsx) to apply metadata and formatting rules.</p></li>
<li><p><strong>Flexible API</strong> allows for the application of transformations individually or chained together in a pipeline.</p></li>
</ul>
<p>In summary, <a href="https://github.com/atorus-research/xportr">{xportr}</a> is a valuable tool for clinical programmers working with CDISC data, as it helps ensure regulatory compliance, data quality, and workflow efficiency when creating XPT files for clinical trials and submissions.</p>
<p><strong>More on xportr</strong></p>
<ul>
<li><p><a href="https://pharmaverse.github.io/blog/posts/2024-03-29_xportr_0_4_0/xportr_0_4_0.html">xportr 0.4.0</a></p></li>
<li><p><a href="https://atorus-research.github.io/xportr/">Utilities to Output CDISC SDTM/ADaM XPT Files • xportr</a>&nbsp;</p></li>
</ul>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion"><strong>Conclusion</strong></h2>
<p>The <a href="https://pharmaverse.org/">pharmaverse</a> offers a rich ecosystem of tools designed to streamline clinical research workflows, ensuring high-quality data management and reporting. By leveraging packages like <a href="https://github.com/insightsengineering/rtables">{rtables}</a>, <a href="https://github.com/pharmaverse/admiral/tree/main?tab=readme-ov-file">{admiral}</a>, <a href="https://github.com/insightsengineering/teal">{teal}</a>, <a href="https://github.com/pharmaR/riskmetric">{riskmetric}</a>, <a href="https://github.com/Biogen-Inc/tidyCDISC/">{tidyCDISC}</a>, and <a href="https://github.com/atorus-research/xportr/">{xportr}</a>, pharmaceutical companies can enhance their data analysis capabilities, ensure regulatory compliance, and drive innovation in clinical research. <strong>Remember to give the packages that you use and value a star on GitHub. ⭐</strong></p>
<blockquote class="blockquote">
<p>To receive the latest updates on what’s new in the pharmaverse, <a href="https://forms.office.com/e/AJu4xWEGJx">subscribe to the periodic newsletter!</a></p>
</blockquote>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{kenneth2024,
  author = {Kenneth, Gift and , APPSILON},
  title = {Exploring the {Top} 5 Pharmaverse {Packages}},
  date = {2024-08-15},
  url = {https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/top-five-packages.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-kenneth2024" class="csl-entry quarto-appendix-citeas">
Kenneth, Gift, and APPSILON. 2024. <span>“Exploring the Top 5
Pharmaverse Packages.”</span> August 15, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/top-five-packages.html">https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/top-five-packages.html</a>.
</div></div></section></div> ]]></description>
  <category>Technical</category>
  <category>Community</category>
  <category>Shiny</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/top-five-packages.html</guid>
  <pubDate>Thu, 15 Aug 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-08-15_top_five_pharmaverse_packages/top-five-pharmaverse.png" medium="image" type="image/png" height="81" width="144"/>
</item>
<item>
  <title>Working Groups Updates</title>
  <dc:creator>pharmaverse council</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-07-24_working__groups_.../working__groups__updates.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p>Hi community,</p>
<p>We wanted to share with you an update from council discussions around our pharmaverse working groups. Up until now, these have been the decision-holders of which packages are included/excluded from the pharmaverse. Although open for all to join, they ended up being quite lean and likely not representative of the true depth of this community. So we’ve decided to open up the package decisions to our full community in future via our <a href="https://pharmaverse.slack.com/">Slack workspace</a>, to make for a more inclusive community where everyone has a voice. This is now updated on our website – see the FAQ section on the <a href="https://pharmaverse.org/">homepage</a>.</p>
<p>We don’t want to be overly prescriptive with how this process will work as it might evolve over time, but we’ll be openly sharing any future package applications to pharmaverse via our Slack and we welcome your input to help make the call on which to accept/decline. Any individual from our community could express support via a thumbs up on the GitHub issue or add a comment with any concerns. If the requestor is unable to resolve any concerns, then ultimately any contentious applications will be raised to the pharmaverse council to adjudicate. The final decision and rationale will then always be documented on the issue.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-07-24_working__groups_.../hands.PNG" class="img-fluid figure-img"></p>
<figcaption>pharmaverse belongs to us all!</figcaption>
</figure>
</div>
<p>Moving forwards, instead of working groups we will maintain some <a href="https://pharmaverse.org/contribute/wg/">sub-communities</a> for particular connected networks such as our package maintainers, or those teams powering pharmaverse-specifics such as our blog and website. Additionally, for any wider open source industry challenges we would recommend any would-be contributors towards <a href="https://advance.hub.phuse.global/wiki/spaces/WEL/pages/26804419/Data+Visualisation+Open+Source+Technology">PHUSE DVOST</a>, given our strong and continued partnership with PHUSE.</p>
<p>Note that the above does not impact the role of the pharmaverse council - all our accountabilities are still explained <a href="https://pharmaverse.org/contribute/council/">here</a>. Now only we delegate the responsibility for “curation” of pharmaverse packages to our entire community.</p>
<p>On behalf of the pharmaverse council</p>
<!--------------- appendices go here ----------------->
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:07.000954</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/2024-07-24_working__groups_.../working__groups__updates.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{council2024,
  author = {council, pharmaverse},
  title = {Working {Groups} {Updates}},
  date = {2024-07-24},
  url = {https://pharmaverse.github.io/blog/posts/2024-07-24_working__groups_.../working__groups__updates.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-council2024" class="csl-entry quarto-appendix-citeas">
council, pharmaverse. 2024. <span>“Working Groups Updates.”</span> July
24, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-07-24_working__groups_.../working__groups__updates.html">https://pharmaverse.github.io/blog/posts/2024-07-24_working__groups_.../working__groups__updates.html</a>.
</div></div></section></div> ]]></description>
  <category>Community</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-07-24_working__groups_.../working__groups__updates.html</guid>
  <pubDate>Wed, 24 Jul 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-07-24_working__groups_.../pharmaverse.PNG" medium="image"/>
</item>
<item>
  <title>Simplifying Clinical Data Dashboards with {teal} and {pharmaverseadam}</title>
  <dc:creator>Pavel Demin</dc:creator>
  <dc:creator>Dror Berel</dc:creator>
  <dc:creator>APPSILON </dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/teal-app-development.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p>Every developer must solve two difficult problems when creating a <a href="https://shiny.posit.co/">Shiny</a> application (in fact, any application) from the ground up: software architecture and data design. In the world of clinical data analysis, however, much development has been aimed at providing a jump-start approach to creating R/Shiny applications that would take away most of the pain caused by these two problems.</p>
<p>This blog should help you get an idea of how easy it is to get started with the <a href="https://pharmaverse.org/">pharmaverse</a> ecosystem. We will create an interactive clinical data dashboard using <a href="https://insightsengineering.github.io/teal/latest-tag/"><code>{teal}</code></a> and will use <a href="https://pharmaverse.github.io/pharmaverseadam/"><code>{pharmaverseadam}</code></a> as the data source.</p>
<p>First, you would need to install the two packages. It is recommended to use <a href="https://pak.r-lib.org/"><code>{pak}</code></a> to take advantage of parallel downloads and builds (note that you can use it together with <a href="https://rstudio.github.io/renv/articles/renv.html"><code>{renv}</code></a> for locking dependencies).</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">pak<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pkg_install</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"teal"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pharmaverseadam"</span>))</span></code></pre></div>
<section id="building-a-simple-teal-app" class="level2">
<h2 class="anchored" data-anchor-id="building-a-simple-teal-app"><strong>Building a Simple Teal App</strong></h2>
<p>Next, we would create a simple app - basically following <a href="https://insightsengineering.github.io/teal/latest-tag/articles/getting-started-with-teal.html">the official teal guide</a>, but we will use datasets from the <a href="https://github.com/pharmaverse/pharmaverseadam"><code>{pharmaverseadam}</code></a> package.</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Step 1: import packages</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(teal)</span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(pharmaverseadam)</span>
<span id="cb2-4"></span>
<span id="cb2-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Step 2: create a teal data object</span></span>
<span id="cb2-6">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cdisc_data</span>(</span>
<span id="cb2-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ADAE =</span> pharmaverseadam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>adae,</span>
<span id="cb2-8">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ADSL =</span> pharmaverseadam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>adsl</span>
<span id="cb2-9">)</span>
<span id="cb2-10"></span>
<span id="cb2-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Step 3: initialize teal app</span></span>
<span id="cb2-12">app <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">init</span>(</span>
<span id="cb2-13">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> data,</span>
<span id="cb2-14">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">modules =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">example_module</span>()</span>
<span id="cb2-15">)</span>
<span id="cb2-16"></span>
<span id="cb2-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Step 4: run shiny app</span></span>
<span id="cb2-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">shinyApp</span>(app<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ui, app<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>server)</span></code></pre></div>
<section id="lets-take-a-closer-look-at-each-step" class="level3">
<h3 class="anchored" data-anchor-id="lets-take-a-closer-look-at-each-step"><strong>Let’s Take a Closer Look at Each Step:</strong></h3>
<ul>
<li><p><strong>In step 1</strong>, we import libraries to use functions and datasets exported by those.</p></li>
<li><p><strong>In step 2</strong>, we create a <a href="https://insightsengineering.github.io/teal/latest-tag/"><code>{teal}</code></a> data object that can be used in a <a href="https://insightsengineering.github.io/teal/latest-tag/"><code>{teal}</code></a> app. There are a couple of subtle details here: instead of the default <code>teal_data()</code> function, we use a special wrapper around it, designed specifically for clinical trial data - <code>cdisc_data()</code>. Its advantage is that it will automatically generate <code>join_keys()</code> for the datasets that we pass in. Please note, that the dataset names should be all caps. The resulting data object is an s4 class instance, and we can verify that the output is correct by checking data names and <code>join_keys</code> slots:</p></li>
</ul>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">r<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">&gt;</span> data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">@</span>datanames</span>
<span id="cb3-2">[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>] <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADAE"</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADSL"</span></span>
<span id="cb3-3"></span>
<span id="cb3-4">r<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">&gt;</span> data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">@</span>join_keys</span>
<span id="cb3-5">A join_keys object containing foreign keys between <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> datasets<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb3-6">ADSL<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [STUDYID, USUBJID]</span>
<span id="cb3-7">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> ADAE<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [STUDYID, USUBJID]</span>
<span id="cb3-8">ADAE<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [STUDYID, USUBJID, ASTDTM, AETERM, AESEQ]</span>
<span id="cb3-9">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> ADSL<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span> [STUDYID, USUBJID]</span></code></pre></div>
<ul>
<li><p><strong>In step 3</strong>, we initialize the <a href="https://insightsengineering.github.io/teal/latest-tag/"><code>{teal}</code></a> app by passing it a data object and adding an example module—it’s not much, but it will let us verify that the app works. The output app object is just a list with UI and server functions.</p></li>
<li><p><strong>Finally step 4</strong> should be familiar to all <a href="https://shiny.posit.co/">Shiny</a> users - we need to pass the UI and server function from the app object generated at step 3.</p></li>
</ul>
<p>When we run the app, this is what we will see in the web browser:</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/images/Asset 1.gif" class="img-fluid"></p>
<p>As you can see, with just a few lines of code, we were able to create a working app with some interesting capabilities. We have two datasets that we can switch between. For each dataset, we have keys defined (marked with a special key icon in the variable drop-down). When we filter one dataset, the other one gets filtered as well because they are connected with a key.</p>
<p>This is truly impressive, but there is just one problem… If we click the “Show R code” button, we will notice that the data used in the app is not “reproducible.” This simply means that the app currently does not have information about where the data comes from, so it cannot instruct users on how to obtain the same data.</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/images/Asset 2.gif" class="img-fluid"></p>
<p>Let’s fix this. We will have to make the code slightly more verbose:</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">within</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">teal_data</span>(), {</span>
<span id="cb4-2">  ADAE <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pharmaverseadam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>adae</span>
<span id="cb4-3">  ADSL <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pharmaverseadam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>adsl</span>
<span id="cb4-4">})</span>
<span id="cb4-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">datanames</span>(data) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADAE"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADSL"</span>)</span>
<span id="cb4-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">join_keys</span>(data) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> default_cdisc_join_keys[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">datanames</span>(data)]</span></code></pre></div>
<p>The recommended method is to generate the data using a within function. However, this method requires manually providing databases using a helper function. We also need to provide <code>join_keys</code> ourselves, but given that the data names are standard ADaM names, we can take advantage of a special <code>default_cdisc_join_keys</code> object.</p>
<p>It is also worth noting that <a href="https://insightsengineering.github.io/teal/latest-tag/"><code>{teal}</code></a> has its implementation of <code>within</code> generic.</p>
<p>This is what we will see now when running the application:</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/images/Asset 3.gif" class="img-fluid"></p>
<p>Now we have reproducible data. But what about the app itself? Surely, <a href="https://insightsengineering.github.io/teal/latest-tag/"><code>{teal}</code></a> features don’t end here. There is a collection of pre-built shiny modules that can be used in teal applications. We can install them with pak:</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">pak<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pkg_install</span>(</span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sparkline"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"teal.modules.general"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"teal.modules.clinical"</span>)</span>
<span id="cb5-3">)</span></code></pre></div>
<p>First, we suggest exploring the “general” modules that are applicable to any kind of data. The only (!) thing we need to do, is to add two more modules to the app initializer:</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">app <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">init</span>(</span>
<span id="cb6-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> data,</span>
<span id="cb6-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">modules =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">modules</span>(</span>
<span id="cb6-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">example_module</span>(),</span>
<span id="cb6-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tm_data_table</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Table View"</span>),</span>
<span id="cb6-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tm_variable_browser</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Variables"</span>)</span>
<span id="cb6-7">  )</span>
<span id="cb6-8">)</span></code></pre></div>
<p>This is possible thanks to the magic that <a href="https://insightsengineering.github.io/teal/latest-tag/"><code>{teal}</code></a> is doing under the hood - passing the data object to each module. And now we will have access to a nice tabular view of the data, and a tool to explore each variable in greater detail.</p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/images/Asset 4.gif" class="img-fluid"><br>
This is great on its own, but as a bonus, we even get the ability to build a report based on some of the modules that we have. For example, we can generate some plots in the variable browser, add them to the report and preview it. Some modules would also add a block of R code showing how to get the exact same data that was used to generate a report card.</p>
<p>Finally, let’s add a simple barchart module that comes from the clinical modules package. We will use an example from the <a href="https://github.com/insightsengineering/teal.modules.clinical"><code>{teal.modules.clinical}</code></a> documentation:</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">barchart_module <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tm_g_barchart_simple</span>(</span>
<span id="cb7-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADAE Analysis"</span>,</span>
<span id="cb7-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data_extract_spec</span>(</span>
<span id="cb7-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dataname =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADAE"</span>,</span>
<span id="cb7-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">select =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select_spec</span>(</span>
<span id="cb7-6">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">choices =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">variable_choices</span>(</span>
<span id="cb7-7">        pharmaverseadam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>adae,</span>
<span id="cb7-8">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ARM"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ACTARM"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SEX"</span>)</span>
<span id="cb7-9">      ),</span>
<span id="cb7-10">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">selected =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ACTARM"</span>,</span>
<span id="cb7-11">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">multiple =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span></span>
<span id="cb7-12">    )</span>
<span id="cb7-13">  )</span>
<span id="cb7-14">)</span></code></pre></div>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/images/Asset 5.gif" class="img-fluid"></p>
<p>The best part about this module is that when a card is added to the report, it has R code that will reproduce exactly the same output that we see in the app.</p>
<p>Here is the entire code for the application. In just 40 lines of code we were able to create a feature-rich application with the ability to interact with ADaM data, create visualizations and generate reproducible reports.</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(sparkline)</span>
<span id="cb8-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(teal)</span>
<span id="cb8-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(teal.data)</span>
<span id="cb8-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(teal.modules.clinical)</span>
<span id="cb8-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(teal.modules.general)</span>
<span id="cb8-6"></span>
<span id="cb8-7">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">within</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">teal_data</span>(), {</span>
<span id="cb8-8">  ADAE <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pharmaverseadam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>adae</span>
<span id="cb8-9">  ADSL <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pharmaverseadam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>adsl</span>
<span id="cb8-10">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># nolint end</span></span>
<span id="cb8-11">})</span>
<span id="cb8-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">datanames</span>(data) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADAE"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADSL"</span>)</span>
<span id="cb8-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">join_keys</span>(data) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> default_cdisc_join_keys[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">datanames</span>(data)]</span>
<span id="cb8-14"></span>
<span id="cb8-15">barchart_module <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tm_g_barchart_simple</span>(</span>
<span id="cb8-16">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADAE Analysis"</span>,</span>
<span id="cb8-17">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data_extract_spec</span>(</span>
<span id="cb8-18">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dataname =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADAE"</span>,</span>
<span id="cb8-19">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">select =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select_spec</span>(</span>
<span id="cb8-20">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">choices =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">variable_choices</span>(</span>
<span id="cb8-21">        pharmaverseadam<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>adae,</span>
<span id="cb8-22">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ARM"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ACTARM"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SEX"</span>)</span>
<span id="cb8-23">      ),</span>
<span id="cb8-24">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">selected =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ACTARM"</span>,</span>
<span id="cb8-25">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">multiple =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span></span>
<span id="cb8-26">    )</span>
<span id="cb8-27">  )</span>
<span id="cb8-28">)</span>
<span id="cb8-29"></span>
<span id="cb8-30">app <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">init</span>(</span>
<span id="cb8-31">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> data,</span>
<span id="cb8-32">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">modules =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">modules</span>(</span>
<span id="cb8-33">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">example_module</span>(),</span>
<span id="cb8-34">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tm_data_table</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Table View"</span>),</span>
<span id="cb8-35">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tm_variable_browser</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Variables"</span>),</span>
<span id="cb8-36">    barchart_module</span>
<span id="cb8-37">  )</span>
<span id="cb8-38">)</span>
<span id="cb8-39"></span>
<span id="cb8-40"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">shinyApp</span>(app<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ui, app<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>server)</span></code></pre></div>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion"><strong>Conclusion</strong>&nbsp;</h2>
<p>In conclusion, <a href="https://github.com/insightsengineering/teal"><code>{teal}</code></a> and <a href="https://github.com/pharmaverse/pharmaverseadam"><code>{pharmaverseadam}</code></a> make it much easier to create interactive and reproducible clinical data dashboards. By following this guide, you can quickly build a Shiny app that not only visualizes your data but also maintains reproducibility and customization options.&nbsp;</p>
<p>Get the latest updates from the <a href="https://pharmaverse.org/">pharmaverse</a> delivered to your inbox. <a href="https://forms.office.com/e/AJu4xWEGJx">Subscribe to our newsletter today.</a></p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{demin2024,
  author = {Demin, Pavel and Berel, Dror and , APPSILON},
  title = {Simplifying {Clinical} {Data} {Dashboards} with \{Teal\} and
    \{Pharmaverseadam\}},
  date = {2024-07-22},
  url = {https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/teal-app-development.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-demin2024" class="csl-entry quarto-appendix-citeas">
Demin, Pavel, Dror Berel, and APPSILON. 2024. <span>“Simplifying
Clinical Data Dashboards with {Teal} and {Pharmaverseadam}.”</span> July
22, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/teal-app-development.html">https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/teal-app-development.html</a>.
</div></div></section></div> ]]></description>
  <category>Technical</category>
  <category>Shiny</category>
  <category>Community</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-07-22_teal_app_development_pharmaverseadam/teal-app-development.html</guid>
  <pubDate>Mon, 22 Jul 2024 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Unix versus SAS Time</title>
  <dc:creator>Céline Piraux</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-07-08_unix_vs_sas_date.../unix_vs_sas_datetime.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p>Recent discussions within the <a href="https://rconsortium.github.io/submissions-wg/minutes/2024-06-07/">R Consortium Submission Working Group</a> have highlighted challenges in handling dates between SAS and Unix systems. In addition, during the CDISC Pilot Data update at the Phuse Test Data Factory, using R’s Unix time format resulted in dates (TRTSDT, TRTEDT, and ADT in <a href="https://github.com/phuse-org/TestDataFactory/tree/main/Updated/TDF_ADaM">adlbc.xpt</a>) being mistakenly advanced by +10 years.</p>
<p>This blog post explores the differences in date handling between SAS and R, focusing on epoch discrepancies and data types. It also discusses key considerations for conversion tools to ensure accurate date conversions and maintain data integrity.</p>
<section id="epoch-in-r-and-sas" class="level2">
<h2 class="anchored" data-anchor-id="epoch-in-r-and-sas">Epoch in R and SAS</h2>
<p>An epoch is a reference point from which time is measured. In computing, it’s often used as the starting point for a system’s time-keeping, allowing for the easy calculation of time intervals. Different systems use different epochs, which can lead to confusion if not properly managed.</p>
<p>In SAS, the epoch is defined as midnight on January 1, 1960. (01JAN1960:00:00:00).</p>
<p>R uses the Unix epoch which begins epoch begins at midnight on January 1, 1970 (01JAN1970:00:00:00)</p>
<p>For example, a date with a value of 19725 corresponds to 03JAN20<strong>14</strong> in SAS and 03JAN20<strong>24</strong> in R.</p>
</section>
<section id="date-differences-between-r-and-sas" class="level2">
<h2 class="anchored" data-anchor-id="date-differences-between-r-and-sas">Date Differences Between R and SAS</h2>
<p>Another important aspect to consider is the difference in data types for numeric dates in R and SAS.</p>
<ul>
<li><p><strong>SAS:</strong> SAS only supports <em>numeric</em> and <em>character data types</em>. Therefore, numeric dates in SAS need a <em>format</em> applied to be human-readable.</p></li>
<li><p><strong>R:</strong> In contrast, R has specific <em>data types for dates</em>, which allow numeric dates to be rendered with a date format directly in data frames. The data types in R are: “Date” for <em>dates</em>, “hms” or “difftime” for <em>time</em>, and “POSIXct” or “POSIXt” for <em>datetime</em>.</p></li>
</ul>
<p>These differences can lead to discrepancies if not properly accounted for during data conversion, potentially resulting in a date shift of 10 years when transferring data between SAS and R.</p>
</section>
<section id="considerations-for-conversion" class="level2">
<h2 class="anchored" data-anchor-id="considerations-for-conversion">Considerations for Conversion</h2>
<p>To illustrate how date conversions between SAS and R can be managed, let’s look at the <a href="https://haven.tidyverse.org/"><code>haven</code></a> package in R. This package facilitates the conversion of data between SAS and R.</p>
<ul>
<li><p><strong>From SAS to R:</strong> Numeric variables with dates formats are identified as dates and converted to POSIX date(time) formats.</p>
<p><a href="https://github.com/tidyverse/haven/blob/main/src/haven_types.cpp">Detection of date, time, datetime variable from SAS by haven package</a></p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-07-08_unix_vs_sas_date.../haven_sas_to_R.png" class="img-fluid"></p></li>
<li><p><strong>From R to SAS:</strong> POSIX date variables are converted to SAS numeric dates. By default, a format is added to these dates to make them human-readable. This format can be customized by changing the attribute or by using the <a href="https://atorus-research.github.io/xportr/"><code>xportr</code></a> package to pull the format from metadata and apply it to the corresponding variable.</p>
<p><a href="https://github.com/tidyverse/haven/blob/main/src/DfReader.cpp">Detection of date, time, datetime variable from R by haven package</a></p>
<p><img src="https://pharmaverse.github.io/blog/posts/2024-07-08_unix_vs_sas_date.../haven_R_to_SAS.PNG" class="img-fluid"></p></li>
</ul>
</section>
<section id="dealing-with-date-interoperability-in-dataset-json" class="level2">
<h2 class="anchored" data-anchor-id="dealing-with-date-interoperability-in-dataset-json">Dealing with Date Interoperability in Dataset-JSON</h2>
<p><a href="https://wiki.cdisc.org/display/DJSONDEV/Dataset-JSON+1.1">Dataset-JSON v1.1</a> could potentially be used in future data exchanges between SAS and R. Given the differing approaches to handling dates across programming languages, the challenge lies in managing dates within a programming language agnostic data exchange format.</p>
<p><strong>What is Dataset-JSON?</strong> Dataset-JSON is a dataset exchange standard that uses JSON. It is designed to meet regulatory submission requirements and other dataset exchange scenarios. It has the potential to replace XPT as the default format for clinical and device data submissions to regulatory authorities.</p>
<p>To address interoperability issues across programming languages, options include storing numeric dates as ISO 8601 strings with a <code>targetdatatype</code> attribute to differentiate between character and numeric dates, or associating the epoch with the numeric date values. Refer to the <a href="https://wiki.cdisc.org/display/DJSONDEV/Dataset-JSON+1.1">Dataset-JSON specification</a> for the latest date handling specifications. These approaches ensure that conversion tools receive sufficient information to handle dates correctly.</p>
<p>To ensure the correct handling of dates in Dataset-JSON, you can use the <a href="https://atorus-research.github.io/datasetjson/">datasetjson</a> R package, which is built to read and write CDISC Dataset JSON formatted datasets.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The 10-year date shift between R and SAS can be avoided by using appropriate conversion tools such as <a href="https://atorus-research.github.io/xportr/">xportr</a> and <a href="https://haven.tidyverse.org/">haven</a>. To ensure correct date conversions, verify that the datetime variables in SAS and R have the correct data type and a date format for SAS. By paying attention to these details, you can maintain data integrity and avoid significant discrepancies during data conversion processes.</p>
<!--------------- appendices go here ----------------->
</section>
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:12.208164</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/2024-07-08_unix_vs_sas_date.../unix_vs_sas_datetime.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{piraux2024,
  author = {Piraux, Céline},
  title = {Unix Versus {SAS} {Time}},
  date = {2024-07-16},
  url = {https://pharmaverse.github.io/blog/posts/2024-07-08_unix_vs_sas_date.../unix_vs_sas_datetime.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-piraux2024" class="csl-entry quarto-appendix-citeas">
Piraux, Céline. 2024. <span>“Unix Versus SAS Time.”</span> July 16,
2024. <a href="https://pharmaverse.github.io/blog/posts/2024-07-08_unix_vs_sas_date.../unix_vs_sas_datetime.html">https://pharmaverse.github.io/blog/posts/2024-07-08_unix_vs_sas_date.../unix_vs_sas_datetime.html</a>.
</div></div></section></div> ]]></description>
  <category>Technical</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-07-08_unix_vs_sas_date.../unix_vs_sas_datetime.html</guid>
  <pubDate>Tue, 16 Jul 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-07-08_unix_vs_sas_date.../clock_DALL-E_2.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Introducing a new Coursera course for hands-on clinical data science using R.</title>
  <dc:creator>Joel Laxamana</dc:creator>
  <dc:creator>Stefan Thoma</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-07-03_introducing_a_ne.../introducing_a_new_coursera_course_for_hands_on_clinical_data_science_using__r..html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<div class="cell">
<div class="cell-output-display">
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
<template></template>

</bslib-tooltip>
</div>
</div>
<p>Shifting to R in an industry traditionally reliant on SAS is no small feat. It requires not just new tools, but also significant upskilling for programmers. Roche-Genentech is addressing this need by offering three publicly available Coursera courses aimed at enhancing the skills of current data scientists within the pharmaceutical sector and introducing our work to those outside the industry. In this post, we are excited to announce the release of <a href="https://www.coursera.org/learn/hands-on-clinical-reporting-using-r">our second Coursera course</a>, and we will discuss how R open-source software is being embraced across the industry and particularly within Roche-Genentech. Additionally, we will provide an overview of the three Coursera courses and explain why such initiatives are essential for a successful transition to open-source tools and a new mindset.</p>
<p>In recent years, the pharmaceutical industry has witnessed a significant shift towards adopting open-source software and programming languages for various applications. Among them, R has emerged as a game-changer, revolutionizing the way we approach Health Authority electronic submissions and pharmaceutical analysis.</p>
<p>As the industry embraces new ways of working, R has gained immense popularity due to its flexibility, versatility, and extensive range of open-source packages and tools. Open source tools specifically created for the clinical data scientist are collected under and shared within the <a href="https://pharmaverse.org/">pharmaverse</a>, enabling data scientists and researchers to leverage the power of R for a wide array of applications, including clinical trial studies, data set creation, and analytical reports.</p>
<p>Within Roche-Genentech, a dedicated working group of Data Scientists recognized the potential of R in a pharmaceutical regulatory setting. Leveraging their expertise and <a href="https://pharmaverse.org/">pharmaverse</a> knowledge, they developed a series of trainings on Coursera. These trainings provide hands-on demonstrations and examples, guiding industry professionals on how to effectively utilize R in running a complete clinical trial study. Specifically, the first training, <a href="https://www.coursera.org/learn/making-data-science-work-for-clinical-reporting">Making Data Science Work for Clinical Reporting</a>, offers a broad introduction to the work as a data scientist within the pharmaceutical industry. This should be of particular interest to aspiring clinical data scientists. The second training – which we are releasing this week – dives deep into the workflow of a clinical data scientist and introduces the tools we use on a daily basis. Looking into the future, there will be a project capstone training course that integrates the concepts from the preceding two courses, culminating in comprehensive learning, providing a strong foundation of knowledge for aspiring data scientists using R in the Pharma industry.</p>
<p>Here is an outline of what participants will gain from the training we are releasing this week.</p>
<p><a href="https://www.coursera.org/learn/hands-on-clinical-reporting-using-r"><strong>Hands-On Clinical Reporting Using R</strong></a></p>
<ol type="1">
<li><p>Fundamentals &amp; SDTM; the Study Data Tabulation Model</p></li>
<li><p>ADaM Transformations (Introductory, using <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip>)</p></li>
<li><p>ADaM Transformations (Advanced, using <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip>)</p></li>
<li><p>Static Tables, Listings, and Graphs (using NEST including <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>tern</template> <a href="https://insightsengineering.github.io/tern/" class="r-link-pkg" target="_blank">{tern}</a> </bslib-tooltip>, <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>GitHub - insightsengineering/rtables: Reporting tables with R</template> <a href="https://github.com/insightsengineering/rtables" class="r-link-pkg" target="_blank">{rtables}</a> </bslib-tooltip>, and <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>rlistings</template> <a href="https://insightsengineering.github.io/rlistings/" class="r-link-pkg" target="_blank">{rlistings}</a> </bslib-tooltip>)</p></li>
<li><p>Interactive Data Displays (using <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>teal</template> <a href="https://insightsengineering.github.io/teal/" class="r-link-pkg" target="_blank">{teal}</a> </bslib-tooltip>)</p></li>
</ol>
<p>In essence, participants will learn how to navigate and manipulate datasets using R, ensuring data integrity and accuracy. Additionally, R’s powerful statistical capabilities enable the creation of insightful Tables, Listings, and Figures/Graphs (TLF/Gs), which are vital components of regulatory submissions. Even further, the Coursera training offered by Roche-Genentech will empower industry professionals to unlock the full potential of R Shiny in their analytical reports. This feature enables researchers to present complex data in a user-friendly and interactive manner, enhancing the understanding and interpretation of results.</p>
<p><em>A stepping stone towards the future:</em> For those in the industry who are embracing these new ways of working, the Coursera training provided by Roche-Genentech serves as a valuable stepping stone into the world of R open-source software. The training equips participants with the necessary skills to harness the power of R, facilitating efficient and effective pharmaceutical analysis.</p>
<p>In conclusion, the adoption of R open-source software and programming language is transforming the pharmaceutical industry, enabling professionals to streamline their processes, enhance data analysis, and improve regulatory submissions. Roche-Genentech’s commitment to sharing knowledge and expertise through the Coursera trainings demonstrates their dedication to advancing the <a href="https://pharmaverse.org/">pharmaverse</a> As the industry continues to embrace this new direction, the future of pharmaceutical analysis looks increasingly promising with R at its core.</p>
<p>Your journey to revolutionizing your pharmaceutical analysis knowledge awaits!</p>
<p>Huge thanks to <a href="https://www.linkedin.com/in/adrian-c-23420033/">Adrian Chan</a> who led the effort of building <a href="https://www.coursera.org/learn/hands-on-clinical-reporting-using-r">this course</a> and the instructors Jana Stoilova, <a href="https://www.linkedin.com/in/jlaxamana/">Joel Laxamana, M.S.</a>, <a href="https://www.linkedin.com/in/leena-khatri-a8a364108/">Leena Khatri</a>, <a href="https://www.linkedin.com/in/tamor/">Tatiana Alonso Amor</a> &amp; <a href="https://www.linkedin.com/in/stefan-thoma-77537bb5/">Stefan Thoma</a>.</p>
<!--------------- appendices go here ----------------->
<div class="cell">
<div class="cell-output-display">


</div>
</div>



<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:26.867756</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/2024-07-03_introducing_a_ne.../introducing_a_new_coursera_course_for_hands_on_clinical_data_science_using__r..qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{laxamana2024,
  author = {Laxamana, Joel and Thoma, Stefan},
  title = {Introducing a {[}New {Coursera}
    Course{]}(https://Www.coursera.org/Learn/Hands-on-Clinical-Reporting-Using-r)
    for Hands-on Clinical Data Science Using {R.}},
  date = {2024-07-03},
  url = {https://pharmaverse.github.io/blog/posts/2024-07-03_introducing_a_ne.../introducing_a_new_coursera_course_for_hands_on_clinical_data_science_using__r..html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-laxamana2024" class="csl-entry quarto-appendix-citeas">
Laxamana, Joel, and Stefan Thoma. 2024. <span>“Introducing a [New
Coursera
Course](https://Www.coursera.org/Learn/Hands-on-Clinical-Reporting-Using-r)
for Hands-on Clinical Data Science Using R.”</span> July 3, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-07-03_introducing_a_ne.../introducing_a_new_coursera_course_for_hands_on_clinical_data_science_using__r..html">https://pharmaverse.github.io/blog/posts/2024-07-03_introducing_a_ne.../introducing_a_new_coursera_course_for_hands_on_clinical_data_science_using__r..html</a>.
</div></div></section></div> ]]></description>
  <category>Community</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-07-03_introducing_a_ne.../introducing_a_new_coursera_course_for_hands_on_clinical_data_science_using__r..html</guid>
  <pubDate>Wed, 03 Jul 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-07-03_introducing_a_ne.../pharmaverse.png" medium="image" type="image/png" height="128" width="144"/>
</item>
<item>
  <title>{admiral} 1.1.1 is here!</title>
  <dc:creator>Edoardo Mancini</dc:creator>
  <dc:creator>Ben Straub</dc:creator>
  <link>https://pharmaverse.github.io/blog/posts/2024-06-07_admiral_1.1_is.../admiral_1.1_is_here.html</link>
  <description><![CDATA[ 





<!--------------- typical setup ----------------->
<!--------------- post begins here ----------------->
<p>{admiral 1.1.1} is out on <a href="https://cran.r-project.org/web/packages/admiral/index.html">CRAN</a>! Though it may seem like just yesterday that <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> achieved its <a href="https://pharmaverse.github.io/blog/posts/2023-12-18_admiral_1_0/admiral_1_0.html">milestone 1.0 release</a>, in actual fact six long months have gone by - testament to our commitment to now release twice-yearly rather than quarterly. During this time, we in the <a href="https://pharmaverse.github.io/admiral/index.html">admiral</a> team received lots of positive feedback from our community, but have nevertheless worked tirelessly to improve our package. This new release comes with various quality of life changes, targeted additions to our functions’ capabilities and improvements to our documentation that all contribute to improve each and every user’s experience - all while ensuring that our commitment to stability and a low amount of breaking changes is still met.</p>
<p>This blog post will showcase some of the highlights of this release, but you can explore the full contents in our <a href="https://pharmaverse.github.io/admiral/news/index.html">Changelog</a>.</p>
<section id="setup" class="level1">
<h1>Setup</h1>
<p>The examples in this post require the following packages:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(admiral)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">warn.conflicts =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tibble)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(lubridate)</span></code></pre></div>
</div>
</section>
<section id="improved-error-messaging" class="level1">
<h1>Improved error messaging</h1>
<p>Our marquee update for <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> 1.1 is certainly our new and improved error messaging. Through a deep rework of our <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Utility Functions and Development Tools for the Admiral Package Family • admiraldev</template> <a href="https://pharmaverse.github.io/admiraldev/" class="r-link-pkg" target="_blank">{admiraldev}</a> </bslib-tooltip> package we have completely reworked how errors and warnings are thrown by <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> - all without creating any breaking changes for our users. In our new error messages:</p>
<ul>
<li>The name of the calling function appears on the top line to orient the user where the error is coming from.</li>
<li>Color coding of words is now present so that the messages are easier on the eyes and easier to read.</li>
<li>When applicable, the message is followed by an informative message (with the standard <code>i</code> prefix) providing details on what to do to address the error.</li>
<li>Informative messages may include a hyperlink (🤯) of the code to run to get more details. Clicking the link will auto-run the code in your console and print the examples of incompatible inputs.</li>
</ul>
<p>Try it out yourself by running the code below!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">adsl <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb2-2">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>USUBJID, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>TRTSDT,           <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>EOSDT,</span>
<span id="cb2-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01"</span>,     <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2020-12-06"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-03-06"</span>),</span>
<span id="cb2-4">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"02"</span>,     <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-01-16"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-02-03"</span>)</span>
<span id="cb2-5">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb2-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">STUDYID =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AB42"</span>)</span>
<span id="cb2-7"></span>
<span id="cb2-8">ae <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb2-9">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>USUBJID, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AESTDTC,           <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AESEQ, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AEDECOD,</span>
<span id="cb2-10">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01"</span>,     <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-01-03T10:56"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Flu"</span>,</span>
<span id="cb2-11">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01"</span>,     <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-03-04"</span>,       <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cough"</span>,</span>
<span id="cb2-12">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01"</span>,     <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021"</span>,             <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Flu"</span></span>
<span id="cb2-13">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb2-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">STUDYID =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AB42"</span>)</span>
<span id="cb2-15"></span>
<span id="cb2-16">ae_ext <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_vars_dt</span>(</span>
<span id="cb2-17">  ae,</span>
<span id="cb2-18">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dtc =</span> AESTDTC,</span>
<span id="cb2-19">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">new_vars_prefix =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AEST"</span>,</span>
<span id="cb2-20">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">highest_imputation =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"M"</span>,</span>
<span id="cb2-21">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">flag_imputation =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span></span>
<span id="cb2-22">)</span>
<span id="cb2-23"></span>
<span id="cb2-24">ttae <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">event_source</span>(</span>
<span id="cb2-25">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dataset_name =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ae"</span>,</span>
<span id="cb2-26">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date =</span> AESTDT,</span>
<span id="cb2-27">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">set_values_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(</span>
<span id="cb2-28">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">EVNTDESC =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AE"</span>,</span>
<span id="cb2-29">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">SRCDOM =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AE"</span>,</span>
<span id="cb2-30">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">SRCVAR =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AESTDTC"</span>,</span>
<span id="cb2-31">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">SRCSEQ =</span> AESEQ</span>
<span id="cb2-32">  )</span>
<span id="cb2-33">)</span>
<span id="cb2-34"></span>
<span id="cb2-35">eos <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">censor_source</span>(</span>
<span id="cb2-36">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dataset_name =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"adsl"</span>,</span>
<span id="cb2-37">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date =</span> EOSDT,</span>
<span id="cb2-38">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">set_values_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(</span>
<span id="cb2-39">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">EVNTDESC =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"END OF STUDY"</span>,</span>
<span id="cb2-40">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">SRCDOM =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ADSL"</span>,</span>
<span id="cb2-41">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">SRCVAR =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EOSDT"</span></span>
<span id="cb2-42">  )</span>
<span id="cb2-43">)</span>
<span id="cb2-44"></span>
<span id="cb2-45"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_param_tte</span>(</span>
<span id="cb2-46">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dataset_adsl =</span> adsl,</span>
<span id="cb2-47">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(AEDECOD),</span>
<span id="cb2-48">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">start_date =</span> TRTSDT,</span>
<span id="cb2-49">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">event_conditions =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(ttae),</span>
<span id="cb2-50">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">censor_conditions =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(eos),</span>
<span id="cb2-51">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">source_datasets =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">adsl =</span> adsl, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ae =</span> ae_ext),</span>
<span id="cb2-52">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">set_values_to =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(</span>
<span id="cb2-53">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PARAMCD =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TTAE"</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This is incorrect syntax! Not unique!</span></span>
<span id="cb2-54">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PARAM =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Time to First"</span>, AEDECOD, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Adverse Event"</span>),</span>
<span id="cb2-55">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PARCAT1 =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TTAE"</span>,</span>
<span id="cb2-56">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">PARCAT2 =</span> AEDECOD</span>
<span id="cb2-57">  )</span>
<span id="cb2-58">)</span></code></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-06-07_admiral_1.1_is.../admiral_error.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="332"></p>
</figure>
</div>
</div>
</div>
<p>While we hope you don’t encounter too many errors and warnings while working with <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip>, we also hope that when you do, our improved messaging will put you on the right path towards correcting them 😀.</p>
</section>
<section id="new-metadata-object-for-iso-3166-country-codes" class="level1">
<h1>New metadata object for ISO 3166 country codes</h1>
<p><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> now offers a new metadata object, <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Country Code Lookup — country_code_lookup • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/country_code_lookup.html" class="r-link-call" target="_blank">country_code_lookup()</a> </bslib-tooltip>, that can aid metadata added to decode countries based on <a href="https://www.iso.org/iso-3166-country-codes.html">ISO 3166 codes</a>. Our hugely-flexible <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Add New Variable(s) to the Input Dataset Based on Variables from Another Dataset — derive_vars_merged • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_merged.html" class="r-link-call" target="_blank">derive_vars_merged()</a> </bslib-tooltip> then comes in handy if you ever need to leverage this metadata:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">adsl <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb3-2">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>USUBJID, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>COUNTRY,</span>
<span id="cb3-3">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ST01-01"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AUT"</span>,</span>
<span id="cb3-4">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ST01-02"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MWI"</span>,</span>
<span id="cb3-5">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ST01-03"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"GBR"</span>,</span>
<span id="cb3-6">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ST01-04"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CHE"</span>,</span>
<span id="cb3-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ST01-05"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NOR"</span>,</span>
<span id="cb3-8">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ST01-06"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"JPN"</span>,</span>
<span id="cb3-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ST01-07"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"USA"</span></span>
<span id="cb3-10">)</span>
<span id="cb3-11"></span>
<span id="cb3-12">adsl <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_vars_merged</span>(</span>
<span id="cb3-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dataset_add =</span> country_code_lookup,</span>
<span id="cb3-15">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">new_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">COUNTRYN =</span> country_number, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">COUNTRYL =</span> country_name),</span>
<span id="cb3-16">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by_vars =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">COUNTRY =</span> country_code)</span>
<span id="cb3-17">  )</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
  USUBJID COUNTRY COUNTRYN COUNTRYL                                            
  &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;                                               
1 ST01-01 AUT           16 Austria                                             
2 ST01-02 MWI          157 Malawi                                              
3 ST01-03 GBR           80 United Kingdom of Great Britain and Northern Ireland
4 ST01-04 CHE           42 Switzerland                                         
5 ST01-05 NOR          168 Norway                                              
6 ST01-06 JPN          116 Japan                                               
7 ST01-07 USA          235 United States of America                            </code></pre>
</div>
</div>
<p>If you were worried about having to type these up manually yourself, fear not as we now have you covered!</p>
</section>
<section id="new-helper-functions-for-metadata-driven-programming" class="level1">
<h1>New helper functions for metadata-driven programming</h1>
<p>Driven by a request from our GSK users, the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> back-end now contains helper functions to <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Add New Variable(s) to the Input Dataset Based on Variables from Another Dataset — derive_vars_merged • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_merged.html" class="r-link-call" target="_blank">derive_vars_merged()</a> </bslib-tooltip> (<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Create an Existence Flag — get_flagged_records • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/get_flagged_records.html" class="r-link-call" target="_blank">get_flagged_records()</a> </bslib-tooltip>) and <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Derive Query Variables — derive_vars_query • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_vars_query.html" class="r-link-call" target="_blank">derive_vars_query()</a> </bslib-tooltip> (<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Get Query Variables — get_vars_query • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/get_vars_query.html" class="r-link-call" target="_blank">get_vars_query()</a> </bslib-tooltip>) so that those can be called independently if required. This should aid efforts to automate execution of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> code in a metadata-drive way. You can read more about the the reasoning behind this update in the following <a href="https://github.com/pharmaverse/admiral/discussions/2349">discussion</a> on GitHub.</p>
</section>
<section id="enhancements-to-derive_var_trtemfl" class="level1">
<h1>Enhancements to derive_var_trtemfl()</h1>
<p>The function <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Derive Treatment-emergent Flag — derive_var_trtemfl • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_var_trtemfl.html" class="r-link-call" target="_blank">derive_var_trtemfl()</a> </bslib-tooltip> now comes with a new (optional) argument, <code>group_var</code>. This allows users to derive Treatment Emergent Flags in Adverse Event ADaMs in the case where data are collected as one episode of AE with multiple lines. Indeed, if the argument is specified, <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Derive Treatment-emergent Flag — derive_var_trtemfl • admiral</template> <a href="https://pharmaverse.github.io/admiral/reference/derive_var_trtemfl.html" class="r-link-call" target="_blank">derive_var_trtemfl()</a> </bslib-tooltip> then assumes that AEs are recorded as one episode of AE with multiple lines using a grouping variable. Events starting during treatment or before treatment and worsening afterward are then flagged. Once an AE record in a group is flagged, all subsequent records in the treatment window are flagged regardless of severity. Take a look at the example below, which uses the grouping variable <code>AEGRPID</code>. In particular, observe how the second of the four AEs with <code>AEGRPID = 2</code> occurs while on treatment and marks a worsening of severity since <code>AETOXGR</code> increases by one. As such, that AE and the following one are flagged as treatment emergent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">adae <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb5-2">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>USUBJID, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>ASTDTM, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AENDTM, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AETOXGR, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>AEGRPID,</span>
<span id="cb5-3">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># before treatment</span></span>
<span id="cb5-4">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-12-13T20:15"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-12-15T12:45"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>,</span>
<span id="cb5-5">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-12-14T20:15"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-12-14T22:00"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>,</span>
<span id="cb5-6">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># starting before treatment and ending during treatment</span></span>
<span id="cb5-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-12-30T20:15"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-01-14T01:23"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2"</span>,</span>
<span id="cb5-8">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-01-05T20:00"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-06-01T11:00"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2"</span>,</span>
<span id="cb5-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-01-10T20:15"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-01-11T01:23"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2"</span>,</span>
<span id="cb5-10">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-01-13T20:15"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-03-01T01:23"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2"</span>,</span>
<span id="cb5-11">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># starting during treatment</span></span>
<span id="cb5-12">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-01-01T12:00"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-01-02T23:25"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"4"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3"</span></span>
<span id="cb5-13">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb5-15">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">TRTSDTM =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-01-01T01:01"</span>),</span>
<span id="cb5-16">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">TRTEDTM =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd_hm</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-04-30T23:59"</span>)</span>
<span id="cb5-17">  )</span>
<span id="cb5-18"></span>
<span id="cb5-19"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">derive_var_trtemfl</span>(</span>
<span id="cb5-20">  adae,</span>
<span id="cb5-21">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">new_var =</span> TRTEMFL,</span>
<span id="cb5-22">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">trt_end_date =</span> TRTEDTM,</span>
<span id="cb5-23">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">end_window =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,</span>
<span id="cb5-24">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">intensity =</span> AETOXGR,</span>
<span id="cb5-25">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group_var =</span> AEGRPID,</span>
<span id="cb5-26">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subject_keys =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exprs</span>(USUBJID)</span>
<span id="cb5-27">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-28">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(ASTDTM, AENDTM, AETOXGR, AEGRPID, TRTEMFL)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 5
  ASTDTM              AENDTM              AETOXGR AEGRPID TRTEMFL
  &lt;dttm&gt;              &lt;dttm&gt;              &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
1 2021-12-13 20:15:00 2021-12-15 12:45:00 1       1       &lt;NA&gt;   
2 2021-12-14 20:15:00 2021-12-14 22:00:00 3       1       &lt;NA&gt;   
3 2021-12-30 20:15:00 2022-01-14 01:23:00 3       2       &lt;NA&gt;   
4 2022-01-05 20:00:00 2022-06-01 11:00:00 1       2       &lt;NA&gt;   
5 2022-01-10 20:15:00 2022-01-11 01:23:00 2       2       Y      
6 2022-01-13 20:15:00 2022-03-01 01:23:00 1       2       Y      
7 2022-01-01 12:00:00 2022-01-02 23:25:00 4       3       Y      </code></pre>
</div>
</div>
</section>
<section id="improved-visits-and-periods-vignette" class="level1">
<h1>Improved <em>Visits and Periods</em> vignette</h1>
<p>The <a href="https://pharmaverse.github.io/admiral/articles/visits_periods.html">Visits and Periods</a> User Guide is one of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip>’s most popular - so much so that the authors of this post may or may not themselves refer to it often in their study work. The process of dealing with study periods and phases in particular can be complex and varies from study to study depending on design. Thus, <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> necessarily leaves some programming to be done ad-hoc by the ADaM programmer, but now with <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> 1.1 this vignette has been enhanced to include a worked example (complete with a dummy crossover design - see image below) to showcase how one may go about this difficult task. The vignette has also been reorganized for improved coherence.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-06-07_admiral_1.1_is.../dummy_study_design.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="500"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="new-get-started-vignette" class="level1">
<h1>New <em>Get Started</em> vignette</h1>
<p>In this release cycle, we took the opportunity to review and revamp our <a href="https://pharmaverse.github.io/admiral/dev/articles/admiral.html">Get Started</a> vignette. The new and improved version of this page now places more focus on showcasing the main idea of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip>, i.e.&nbsp;constructing ADaM dataset by chaining together a series of modular blocks. Then, the page goes through some examples of the different types of blocks (that is, function calls) one can encounter, including adding variables to a dataset, adding records to a dataset and changing the nature of the existing datasets in some way.</p>
</section>
<section id="new-programming-concepts-and-conventions-vignette" class="level1">
<h1>New <em>Programming Concepts and Conventions</em> vignette</h1>
<p>Coupled with the rework to the <a href="https://pharmaverse.github.io/admiral/dev/articles/admiral.html">Get Started</a> vignette, we now have a brand-new <a href="https://pharmaverse.github.io/admiral/articles/concepts_conventions.html">Programming Concepts and Conventions</a> User Guide. Here, we aim to discuss some of the common programming concepts and conventions that have been adopted within the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> family of packages, including how we handle missing values and how we work with expressions, quoting and unquoting. We hope this new page can assume encyclopaedic qualities for our users, especially for those topics like expressions that have an associated learning curve!</p>
</section>
<section id="user-guide-reorganization" class="level1">
<h1>User Guide Reorganization</h1>
<p>We took the opportunity to reorganize how our vignettes are categorized on the website, in order to present them in a more intuitive and tidy arrangement. They are now split into General Guides, ADaM Script Guides and Special Topics Guides. You can now see the full new arrangement below:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pharmaverse.github.io/blog/posts/2024-06-07_admiral_1.1_is.../admiral_ug.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="451"></p>
</figure>
</div>
</div>
</div>
<p>Let us know what you think of the new vignettes and organization of the website!</p>
</section>
<section id="whats-next-for-admiral-and-the-admiral-family" class="level1">
<h1>What’s next for admiral and the admiral family?</h1>
<p>So, what’s next for <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> and the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> family? For the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> core package, starting in July we will be working towards an <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> 1.2 release in another six months time, but we want to hear from you, the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> community! What do you think we should focus our efforts on, and what should be our priorities? let us know in the <a href="https://pharmaverse.slack.com/">pharmaverse Slack</a>, or by creating an issue or discussion in our <a href="https://github.com/pharmaverse/admiral">GitHub repo</a>.</p>
<p>On the package extension side, we have:</p>
<ul>
<li>New release of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Oncology Extension Package for ADaM in R Asset Library • admiralonco</template> <a href="https://pharmaverse.github.io/admiralonco/" class="r-link-pkg" target="_blank">{admiralonco}</a> </bslib-tooltip> (1.1) featuring a new vignette for creating ADRS with IMWG criteria (<a href="https://pharmaverse.github.io/admiralonco/news/index.html">full changelog here</a>).</li>
<li>New release of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library - Ophthalmology • admiralophtha</template> <a href="https://pharmaverse.github.io/admiralophtha/" class="r-link-pkg" target="_blank">{admiralophtha}</a> </bslib-tooltip> (1.1) featuring improved ADOE, ADBCVA and ADVFQ templates (<a href="https://pharmaverse.github.io/admiralophtha/news/index.html">full changelog here</a>).</li>
<li>Upcoming release of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Vaccine Extension Package for ADaM in R Asset Library • admiralvaccine</template> <a href="https://pharmaverse.github.io/admiralvaccine/" class="r-link-pkg" target="_blank">{admiralvaccine}</a> </bslib-tooltip> - further info TBC but you can take a look at our progress on our <a href="https://github.com/pharmaverse/admiralvaccine">GitHub repo</a>.</li>
<li>Upcoming first release of <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Pediatrics Extension Package for ADaM in R Asset Library • admiralpeds</template> <a href="https://pharmaverse.github.io/admiralpeds/" class="r-link-pkg" target="_blank">{admiralpeds}</a> </bslib-tooltip> in July, focusing mainly on child growth/development charts.</li>
<li>Team kickoff for <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>Metabolism Extension Package for ADaM in R Asset Library • admiralmetabolic</template> <a href="https://pharmaverse.github.io/admiralmetabolic/" class="r-link-pkg" target="_blank">{admiralmetabolic}</a> </bslib-tooltip>, where we aim to provide tools for the cardiovascular and metabolism therapeutic area. Our first release is scheduled in approximately six months time.</li>
</ul>
<p>As you can see, progress in the <bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()"> <template>ADaM in R Asset Library • admiral</template> <a href="https://pharmaverse.github.io/admiral/" class="r-link-pkg" target="_blank">{admiral}</a> </bslib-tooltip> family never stops. We hope you’ve enjoyed this post, and that it’s inspired you to try out some of the new functionality. Happy ADaM programming!</p>
<!--------------- appendices go here ----------------->
<div class="cell">
<div class="cell-output-display">


</div>
</div>


</section>

<div id="quarto-appendix" class="default"><section id="last-updated" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Last updated</h2><div class="quarto-appendix-contents">

<p>2025-02-17 17:28:36.245937</p>
</div></section><section id="details" class="level2 appendix"><h2 class="anchored quarto-appendix-heading">Details</h2><div class="quarto-appendix-contents">

<p><a href="https://github.com/pharmaverse/blog/tree/main/posts/2024-06-07_%7Badmiral%7D_1.1_is.../admiral_1.1_is_here.qmd">Source</a>, <a href="https://pharmaverse.github.io/blog/session_info.html">Session info</a></p>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{mancini2024,
  author = {Mancini, Edoardo and Straub, Ben},
  title = {\{Admiral\} 1.1.1 Is Here!},
  date = {2024-06-20},
  url = {https://pharmaverse.github.io/blog/posts/2024-06-07_admiral_1.1_is.../admiral_1.1_is_here.html},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-mancini2024" class="csl-entry quarto-appendix-citeas">
Mancini, Edoardo, and Ben Straub. 2024. <span>“{Admiral} 1.1.1 Is
Here!”</span> June 20, 2024. <a href="https://pharmaverse.github.io/blog/posts/2024-06-07_admiral_1.1_is.../admiral_1.1_is_here.html">https://pharmaverse.github.io/blog/posts/2024-06-07_admiral_1.1_is.../admiral_1.1_is_here.html</a>.
</div></div></section></div> ]]></description>
  <category>ADaM</category>
  <guid>https://pharmaverse.github.io/blog/posts/2024-06-07_admiral_1.1_is.../admiral_1.1_is_here.html</guid>
  <pubDate>Thu, 20 Jun 2024 00:00:00 GMT</pubDate>
  <media:content url="https://pharmaverse.github.io/blog/posts/2024-06-07_admiral_1.1_is.../admiral.png" medium="image" type="image/png" height="108" width="144"/>
</item>
</channel>
</rss>
